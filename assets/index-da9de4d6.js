function YS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var XS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Al={},ZS={get exports(){return Al},set exports(t){Al=t}},Eu={},$={},eC={get exports(){return $},set exports(t){$=t}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=Symbol.for("react.element"),tC=Symbol.for("react.portal"),nC=Symbol.for("react.fragment"),rC=Symbol.for("react.strict_mode"),iC=Symbol.for("react.profiler"),sC=Symbol.for("react.provider"),oC=Symbol.for("react.context"),aC=Symbol.for("react.forward_ref"),lC=Symbol.for("react.suspense"),uC=Symbol.for("react.memo"),cC=Symbol.for("react.lazy"),Dg=Symbol.iterator;function hC(t){return t===null||typeof t!="object"?null:(t=Dg&&t[Dg]||t["@@iterator"],typeof t=="function"?t:null)}var Yv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xv=Object.assign,Jv={};function ys(t,e,n){this.props=t,this.context=e,this.refs=Jv,this.updater=n||Yv}ys.prototype.isReactComponent={};ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zv(){}Zv.prototype=ys.prototype;function df(t,e,n){this.props=t,this.context=e,this.refs=Jv,this.updater=n||Yv}var ff=df.prototype=new Zv;ff.constructor=df;Xv(ff,ys.prototype);ff.isPureReactComponent=!0;var bg=Array.isArray,e0=Object.prototype.hasOwnProperty,pf={current:null},t0={key:!0,ref:!0,__self:!0,__source:!0};function n0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)e0.call(e,r)&&!t0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Go,type:t,key:s,ref:o,props:i,_owner:pf.current}}function dC(t,e){return{$$typeof:Go,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Go}function fC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pg=/\/+/g;function Wc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fC(""+t.key):e.toString(36)}function hl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Go:case tC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Wc(o,0):r,bg(i)?(n="",t!=null&&(n=t.replace(Pg,"$&/")+"/"),hl(i,e,n,"",function(h){return h})):i!=null&&(mf(i)&&(i=dC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Pg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",bg(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Wc(s,l);o+=hl(s,e,n,u,i)}else if(u=hC(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Wc(s,l++),o+=hl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ua(t,e,n){if(t==null)return t;var r=[],i=0;return hl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function pC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},dl={transition:null},mC={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:dl,ReactCurrentOwner:pf};ce.Children={map:Ua,forEach:function(t,e,n){Ua(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ua(t,function(){e++}),e},toArray:function(t){return Ua(t,function(e){return e})||[]},only:function(t){if(!mf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=ys;ce.Fragment=nC;ce.Profiler=iC;ce.PureComponent=df;ce.StrictMode=rC;ce.Suspense=lC;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mC;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Xv({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)e0.call(e,u)&&!t0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Go,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:oC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sC,_context:t},t.Consumer=t};ce.createElement=n0;ce.createFactory=function(t){var e=n0.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:aC,render:t}};ce.isValidElement=mf;ce.lazy=function(t){return{$$typeof:cC,_payload:{_status:-1,_result:t},_init:pC}};ce.memo=function(t,e){return{$$typeof:uC,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=dl.transition;dl.transition={};try{t()}finally{dl.transition=e}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(t,e){return Dt.current.useCallback(t,e)};ce.useContext=function(t){return Dt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Dt.current.useEffect(t,e)};ce.useId=function(){return Dt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Dt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};ce.useRef=function(t){return Dt.current.useRef(t)};ce.useState=function(t){return Dt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Dt.current.useTransition()};ce.version="18.2.0";(function(t){t.exports=ce})(eC);const r0=JS($),Fh=YS({__proto__:null,default:r0},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC=$,yC=Symbol.for("react.element"),vC=Symbol.for("react.fragment"),wC=Object.prototype.hasOwnProperty,_C=gC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EC={key:!0,ref:!0,__self:!0,__source:!0};function i0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wC.call(e,r)&&!EC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yC,type:t,key:s,ref:o,props:i,_owner:_C.current}}Eu.Fragment=vC;Eu.jsx=i0;Eu.jsxs=i0;(function(t){t.exports=Eu})(ZS);const G=Al.jsx,at=Al.jsxs;var jh={},Uh={},SC={get exports(){return Uh},set exports(t){Uh=t}},Gt={},Vh={},CC={get exports(){return Vh},set exports(t){Vh=t}},s0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,ee){var T=M.length;M.push(ee);e:for(;0<T;){var ke=T-1>>>1,je=M[ke];if(0<i(je,ee))M[ke]=ee,M[T]=je,T=ke;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var ee=M[0],T=M.pop();if(T!==ee){M[0]=T;e:for(var ke=0,je=M.length,Zn=je>>>1;ke<Zn;){var it=2*(ke+1)-1,bn=M[it],We=it+1,er=M[We];if(0>i(bn,T))We<je&&0>i(er,bn)?(M[ke]=er,M[We]=T,ke=We):(M[ke]=bn,M[it]=T,ke=it);else if(We<je&&0>i(er,T))M[ke]=er,M[We]=T,ke=We;else break e}}return ee}function i(M,ee){var T=M.sortIndex-ee.sortIndex;return T!==0?T:M.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,g=null,y=3,S=!1,k=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var ee=n(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=M)r(h),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(h)}}function x(M){if(C=!1,w(M),!k)if(n(u)!==null)k=!0,vi(O);else{var ee=n(h);ee!==null&&Or(x,ee.startTime-M)}}function O(M,ee){k=!1,C&&(C=!1,v(z),z=-1),S=!0;var T=y;try{for(w(ee),g=n(u);g!==null&&(!(g.expirationTime>ee)||M&&!Mt());){var ke=g.callback;if(typeof ke=="function"){g.callback=null,y=g.priorityLevel;var je=ke(g.expirationTime<=ee);ee=t.unstable_now(),typeof je=="function"?g.callback=je:g===n(u)&&r(u),w(ee)}else r(u);g=n(u)}if(g!==null)var Zn=!0;else{var it=n(h);it!==null&&Or(x,it.startTime-ee),Zn=!1}return Zn}finally{g=null,y=T,S=!1}}var V=!1,B=null,z=-1,Ne=5,ae=-1;function Mt(){return!(t.unstable_now()-ae<Ne)}function Xn(){if(B!==null){var M=t.unstable_now();ae=M;var ee=!0;try{ee=B(!0,M)}finally{ee?Jn():(V=!1,B=null)}}else V=!1}var Jn;if(typeof m=="function")Jn=function(){m(Xn)};else if(typeof MessageChannel<"u"){var As=new MessageChannel,ga=As.port2;As.port1.onmessage=Xn,Jn=function(){ga.postMessage(null)}}else Jn=function(){N(Xn,0)};function vi(M){B=M,V||(V=!0,Jn())}function Or(M,ee){z=N(function(){M(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){k||S||(k=!0,vi(O))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(M){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var T=y;y=ee;try{return M()}finally{y=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,ee){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var T=y;y=M;try{return ee()}finally{y=T}},t.unstable_scheduleCallback=function(M,ee,T){var ke=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?ke+T:ke):T=ke,M){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=T+je,M={id:f++,callback:ee,priorityLevel:M,startTime:T,expirationTime:je,sortIndex:-1},T>ke?(M.sortIndex=T,e(h,M),n(u)===null&&M===n(h)&&(C?(v(z),z=-1):C=!0,Or(x,T-ke))):(M.sortIndex=je,e(u,M),k||S||(k=!0,vi(O))),M},t.unstable_shouldYield=Mt,t.unstable_wrapCallback=function(M){var ee=y;return function(){var T=y;y=ee;try{return M.apply(this,arguments)}finally{y=T}}}})(s0);(function(t){t.exports=s0})(CC);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=$,Kt=Vh;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a0=new Set,yo={};function hi(t,e){ns(t,e),ns(t+"Capture",e)}function ns(t,e){for(yo[t]=e,t=0;t<e.length;t++)a0.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bh=Object.prototype.hasOwnProperty,TC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lg={},Og={};function kC(t){return Bh.call(Og,t)?!0:Bh.call(Lg,t)?!1:TC.test(t)?Og[t]=!0:(Lg[t]=!0,!1)}function IC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xC(t,e,n,r){if(e===null||typeof e>"u"||IC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gf=/[\-:]([a-z])/g;function yf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gf,yf);ct[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gf,yf);ct[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gf,yf);ct[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vf(t,e,n,r){var i=ct.hasOwnProperty(e)?ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xC(e,n,i,r)&&(n=null),r||i===null?kC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yn=o0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Va=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),l0=Symbol.for("react.provider"),u0=Symbol.for("react.context"),_f=Symbol.for("react.forward_ref"),Hh=Symbol.for("react.suspense"),Wh=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),c0=Symbol.for("react.offscreen"),$g=Symbol.iterator;function js(t){return t===null||typeof t!="object"?null:(t=$g&&t[$g]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,qc;function Qs(t){if(qc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qc=e&&e[1]||""}return`
`+qc+t}var Kc=!1;function Qc(t,e){if(!t||Kc)return"";Kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Kc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qs(t):""}function AC(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=Qc(t.type,!1),t;case 11:return t=Qc(t.type.render,!1),t;case 1:return t=Qc(t.type,!0),t;default:return""}}function qh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $i:return"Fragment";case Oi:return"Portal";case zh:return"Profiler";case wf:return"StrictMode";case Hh:return"Suspense";case Wh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u0:return(t.displayName||"Context")+".Consumer";case l0:return(t._context.displayName||"Context")+".Provider";case _f:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ef:return e=t.displayName||null,e!==null?e:qh(t.type)||"Memo";case ir:e=t._payload,t=t._init;try{return qh(t(e))}catch{}}return null}function NC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qh(e);case 8:return e===wf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DC(t){var e=h0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ba(t){t._valueTracker||(t._valueTracker=DC(t))}function d0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=h0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kh(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Rg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f0(t,e){e=e.checked,e!=null&&vf(t,"checked",e,!1)}function Qh(t,e){f0(t,e);var n=Cr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gh(t,e.type,Cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gh(t,e,n){(e!=="number"||Nl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gs=Array.isArray;function Ki(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(Gs(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cr(n)}}function p0(t,e){var n=Cr(e.value),r=Cr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var za,g0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var no={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bC=["Webkit","ms","Moz","O"];Object.keys(no).forEach(function(t){bC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),no[e]=no[t]})});function y0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||no.hasOwnProperty(t)&&no[t]?(""+e).trim():e+"px"}function v0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=y0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PC=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jh(t,e){if(e){if(PC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Zh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ed=null;function Sf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var td=null,Qi=null,Gi=null;function Ug(t){if(t=Jo(t)){if(typeof td!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Iu(e),td(t.stateNode,t.type,e))}}function w0(t){Qi?Gi?Gi.push(t):Gi=[t]:Qi=t}function _0(){if(Qi){var t=Qi,e=Gi;if(Gi=Qi=null,Ug(t),e)for(t=0;t<e.length;t++)Ug(e[t])}}function E0(t,e){return t(e)}function S0(){}var Gc=!1;function C0(t,e,n){if(Gc)return t(e,n);Gc=!0;try{return E0(t,e,n)}finally{Gc=!1,(Qi!==null||Gi!==null)&&(S0(),_0())}}function wo(t,e){var n=t.stateNode;if(n===null)return null;var r=Iu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var nd=!1;if(Bn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){nd=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{nd=!1}function LC(t,e,n,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var ro=!1,Dl=null,bl=!1,rd=null,OC={onError:function(t){ro=!0,Dl=t}};function $C(t,e,n,r,i,s,o,l,u){ro=!1,Dl=null,LC.apply(OC,arguments)}function RC(t,e,n,r,i,s,o,l,u){if($C.apply(this,arguments),ro){if(ro){var h=Dl;ro=!1,Dl=null}else throw Error(b(198));bl||(bl=!0,rd=h)}}function di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vg(t){if(di(t)!==t)throw Error(b(188))}function MC(t){var e=t.alternate;if(!e){if(e=di(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Vg(i),t;if(s===r)return Vg(i),e;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function k0(t){return t=MC(t),t!==null?I0(t):null}function I0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=I0(t);if(e!==null)return e;t=t.sibling}return null}var x0=Kt.unstable_scheduleCallback,Bg=Kt.unstable_cancelCallback,FC=Kt.unstable_shouldYield,jC=Kt.unstable_requestPaint,Ve=Kt.unstable_now,UC=Kt.unstable_getCurrentPriorityLevel,Cf=Kt.unstable_ImmediatePriority,A0=Kt.unstable_UserBlockingPriority,Pl=Kt.unstable_NormalPriority,VC=Kt.unstable_LowPriority,N0=Kt.unstable_IdlePriority,Su=null,In=null;function BC(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Su,t,void 0,(t.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:WC,zC=Math.log,HC=Math.LN2;function WC(t){return t>>>=0,t===0?32:31-(zC(t)/HC|0)|0}var Ha=64,Wa=4194304;function Ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ll(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ys(l):(s&=o,s!==0&&(r=Ys(s)))}else o=n&~i,o!==0?r=Ys(o):s!==0&&(r=Ys(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mn(e),i=1<<n,r|=t[n],e&=~i;return r}function qC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-mn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=qC(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function id(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D0(){var t=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),t}function Yc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mn(e),t[e]=n}function QC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Tf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function b0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var P0,kf,L0,O0,$0,sd=!1,qa=[],hr=null,dr=null,fr=null,_o=new Map,Eo=new Map,or=[],GC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zg(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":_o.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(e.pointerId)}}function Vs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jo(e),e!==null&&kf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YC(t,e,n,r,i){switch(e){case"focusin":return hr=Vs(hr,t,e,n,r,i),!0;case"dragenter":return dr=Vs(dr,t,e,n,r,i),!0;case"mouseover":return fr=Vs(fr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _o.set(s,Vs(_o.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Eo.set(s,Vs(Eo.get(s)||null,t,e,n,r,i)),!0}return!1}function R0(t){var e=qr(t.target);if(e!==null){var n=di(e);if(n!==null){if(e=n.tag,e===13){if(e=T0(n),e!==null){t.blockedOn=e,$0(t.priority,function(){L0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=od(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ed=r,n.target.dispatchEvent(r),ed=null}else return e=Jo(n),e!==null&&kf(e),t.blockedOn=n,!1;e.shift()}return!0}function Hg(t,e,n){fl(t)&&n.delete(e)}function XC(){sd=!1,hr!==null&&fl(hr)&&(hr=null),dr!==null&&fl(dr)&&(dr=null),fr!==null&&fl(fr)&&(fr=null),_o.forEach(Hg),Eo.forEach(Hg)}function Bs(t,e){t.blockedOn===e&&(t.blockedOn=null,sd||(sd=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,XC)))}function So(t){function e(i){return Bs(i,t)}if(0<qa.length){Bs(qa[0],t);for(var n=1;n<qa.length;n++){var r=qa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hr!==null&&Bs(hr,t),dr!==null&&Bs(dr,t),fr!==null&&Bs(fr,t),_o.forEach(e),Eo.forEach(e),n=0;n<or.length;n++)r=or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)R0(n),n.blockedOn===null&&or.shift()}var Yi=Yn.ReactCurrentBatchConfig,Ol=!0;function JC(t,e,n,r){var i=we,s=Yi.transition;Yi.transition=null;try{we=1,If(t,e,n,r)}finally{we=i,Yi.transition=s}}function ZC(t,e,n,r){var i=we,s=Yi.transition;Yi.transition=null;try{we=4,If(t,e,n,r)}finally{we=i,Yi.transition=s}}function If(t,e,n,r){if(Ol){var i=od(t,e,n,r);if(i===null)oh(t,e,r,$l,n),zg(t,r);else if(YC(i,t,e,n,r))r.stopPropagation();else if(zg(t,r),e&4&&-1<GC.indexOf(t)){for(;i!==null;){var s=Jo(i);if(s!==null&&P0(s),s=od(t,e,n,r),s===null&&oh(t,e,r,$l,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else oh(t,e,r,null,n)}}var $l=null;function od(t,e,n,r){if($l=null,t=Sf(r),t=qr(t),t!==null)if(e=di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $l=t,null}function M0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UC()){case Cf:return 1;case A0:return 4;case Pl:case VC:return 16;case N0:return 536870912;default:return 16}default:return 16}}var lr=null,xf=null,pl=null;function F0(){if(pl)return pl;var t,e=xf,n=e.length,r,i="value"in lr?lr.value:lr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return pl=i.slice(t,1<r?1-r:void 0)}function ml(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ka(){return!0}function Wg(){return!1}function Yt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ka:Wg,this.isPropagationStopped=Wg,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),e}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=Yt(vs),Xo=$e({},vs,{view:0,detail:0}),eT=Yt(Xo),Xc,Jc,zs,Cu=$e({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zs&&(zs&&t.type==="mousemove"?(Xc=t.screenX-zs.screenX,Jc=t.screenY-zs.screenY):Jc=Xc=0,zs=t),Xc)},movementY:function(t){return"movementY"in t?t.movementY:Jc}}),qg=Yt(Cu),tT=$e({},Cu,{dataTransfer:0}),nT=Yt(tT),rT=$e({},Xo,{relatedTarget:0}),Zc=Yt(rT),iT=$e({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),sT=Yt(iT),oT=$e({},vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aT=Yt(oT),lT=$e({},vs,{data:0}),Kg=Yt(lT),uT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hT[t])?!!e[t]:!1}function Nf(){return dT}var fT=$e({},Xo,{key:function(t){if(t.key){var e=uT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(t){return t.type==="keypress"?ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pT=Yt(fT),mT=$e({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=Yt(mT),gT=$e({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),yT=Yt(gT),vT=$e({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),wT=Yt(vT),_T=$e({},Cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ET=Yt(_T),ST=[9,13,27,32],Df=Bn&&"CompositionEvent"in window,io=null;Bn&&"documentMode"in document&&(io=document.documentMode);var CT=Bn&&"TextEvent"in window&&!io,j0=Bn&&(!Df||io&&8<io&&11>=io),Gg=String.fromCharCode(32),Yg=!1;function U0(t,e){switch(t){case"keyup":return ST.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ri=!1;function TT(t,e){switch(t){case"compositionend":return V0(e);case"keypress":return e.which!==32?null:(Yg=!0,Gg);case"textInput":return t=e.data,t===Gg&&Yg?null:t;default:return null}}function kT(t,e){if(Ri)return t==="compositionend"||!Df&&U0(t,e)?(t=F0(),pl=xf=lr=null,Ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j0&&e.locale!=="ko"?null:e.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IT[t.type]:e==="textarea"}function B0(t,e,n,r){w0(r),e=Rl(e,"onChange"),0<e.length&&(n=new Af("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var so=null,Co=null;function xT(t){Z0(t,0)}function Tu(t){var e=ji(t);if(d0(e))return t}function AT(t,e){if(t==="change")return e}var z0=!1;if(Bn){var eh;if(Bn){var th="oninput"in document;if(!th){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),th=typeof Jg.oninput=="function"}eh=th}else eh=!1;z0=eh&&(!document.documentMode||9<document.documentMode)}function Zg(){so&&(so.detachEvent("onpropertychange",H0),Co=so=null)}function H0(t){if(t.propertyName==="value"&&Tu(Co)){var e=[];B0(e,Co,t,Sf(t)),C0(xT,e)}}function NT(t,e,n){t==="focusin"?(Zg(),so=e,Co=n,so.attachEvent("onpropertychange",H0)):t==="focusout"&&Zg()}function DT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Co)}function bT(t,e){if(t==="click")return Tu(e)}function PT(t,e){if(t==="input"||t==="change")return Tu(e)}function LT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:LT;function To(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bh.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ty(t,e){var n=ey(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ey(n)}}function W0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q0(){for(var t=window,e=Nl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nl(t.document)}return e}function bf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OT(t){var e=q0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W0(n.ownerDocument.documentElement,n)){if(r!==null&&bf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ty(n,s);var o=ty(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $T=Bn&&"documentMode"in document&&11>=document.documentMode,Mi=null,ad=null,oo=null,ld=!1;function ny(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ld||Mi==null||Mi!==Nl(r)||(r=Mi,"selectionStart"in r&&bf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oo&&To(oo,r)||(oo=r,r=Rl(ad,"onSelect"),0<r.length&&(e=new Af("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function Qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fi={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},nh={},K0={};Bn&&(K0=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function ku(t){if(nh[t])return nh[t];if(!Fi[t])return t;var e=Fi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in K0)return nh[t]=e[n];return t}var Q0=ku("animationend"),G0=ku("animationiteration"),Y0=ku("animationstart"),X0=ku("transitionend"),J0=new Map,ry="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,e){J0.set(t,e),hi(e,[t])}for(var rh=0;rh<ry.length;rh++){var ih=ry[rh],RT=ih.toLowerCase(),MT=ih[0].toUpperCase()+ih.slice(1);Nr(RT,"on"+MT)}Nr(Q0,"onAnimationEnd");Nr(G0,"onAnimationIteration");Nr(Y0,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(X0,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function iy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RC(r,e,void 0,t),t.currentTarget=null}function Z0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;iy(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;iy(i,l,h),s=u}}}if(bl)throw t=rd,bl=!1,rd=null,t}function Ie(t,e){var n=e[fd];n===void 0&&(n=e[fd]=new Set);var r=t+"__bubble";n.has(r)||(ew(e,t,2,!1),n.add(r))}function sh(t,e,n){var r=0;e&&(r|=4),ew(n,t,r,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function ko(t){if(!t[Ga]){t[Ga]=!0,a0.forEach(function(n){n!=="selectionchange"&&(FT.has(n)||sh(n,!1,t),sh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,sh("selectionchange",!1,e))}}function ew(t,e,n,r){switch(M0(e)){case 1:var i=JC;break;case 4:i=ZC;break;default:i=If}n=i.bind(null,e,n,t),i=void 0,!nd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function oh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=qr(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}C0(function(){var h=s,f=Sf(n),g=[];e:{var y=J0.get(t);if(y!==void 0){var S=Af,k=t;switch(t){case"keypress":if(ml(n)===0)break e;case"keydown":case"keyup":S=pT;break;case"focusin":k="focus",S=Zc;break;case"focusout":k="blur",S=Zc;break;case"beforeblur":case"afterblur":S=Zc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=nT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=yT;break;case Q0:case G0:case Y0:S=sT;break;case X0:S=wT;break;case"scroll":S=eT;break;case"wheel":S=ET;break;case"copy":case"cut":case"paste":S=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Qg}var C=(e&4)!==0,N=!C&&t==="scroll",v=C?y!==null?y+"Capture":null:y;C=[];for(var m=h,w;m!==null;){w=m;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,v!==null&&(x=wo(m,v),x!=null&&C.push(Io(m,x,w)))),N)break;m=m.return}0<C.length&&(y=new S(y,k,null,n,f),g.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",y&&n!==ed&&(k=n.relatedTarget||n.fromElement)&&(qr(k)||k[zn]))break e;if((S||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,S?(k=n.relatedTarget||n.toElement,S=h,k=k?qr(k):null,k!==null&&(N=di(k),k!==N||k.tag!==5&&k.tag!==6)&&(k=null)):(S=null,k=h),S!==k)){if(C=qg,x="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(C=Qg,x="onPointerLeave",v="onPointerEnter",m="pointer"),N=S==null?y:ji(S),w=k==null?y:ji(k),y=new C(x,m+"leave",S,n,f),y.target=N,y.relatedTarget=w,x=null,qr(f)===h&&(C=new C(v,m+"enter",k,n,f),C.target=w,C.relatedTarget=N,x=C),N=x,S&&k)t:{for(C=S,v=k,m=0,w=C;w;w=bi(w))m++;for(w=0,x=v;x;x=bi(x))w++;for(;0<m-w;)C=bi(C),m--;for(;0<w-m;)v=bi(v),w--;for(;m--;){if(C===v||v!==null&&C===v.alternate)break t;C=bi(C),v=bi(v)}C=null}else C=null;S!==null&&sy(g,y,S,C,!1),k!==null&&N!==null&&sy(g,N,k,C,!0)}}e:{if(y=h?ji(h):window,S=y.nodeName&&y.nodeName.toLowerCase(),S==="select"||S==="input"&&y.type==="file")var O=AT;else if(Xg(y))if(z0)O=PT;else{O=DT;var V=NT}else(S=y.nodeName)&&S.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(O=bT);if(O&&(O=O(t,h))){B0(g,O,n,f);break e}V&&V(t,y,h),t==="focusout"&&(V=y._wrapperState)&&V.controlled&&y.type==="number"&&Gh(y,"number",y.value)}switch(V=h?ji(h):window,t){case"focusin":(Xg(V)||V.contentEditable==="true")&&(Mi=V,ad=h,oo=null);break;case"focusout":oo=ad=Mi=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,ny(g,n,f);break;case"selectionchange":if($T)break;case"keydown":case"keyup":ny(g,n,f)}var B;if(Df)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Ri?U0(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(j0&&n.locale!=="ko"&&(Ri||z!=="onCompositionStart"?z==="onCompositionEnd"&&Ri&&(B=F0()):(lr=f,xf="value"in lr?lr.value:lr.textContent,Ri=!0)),V=Rl(h,z),0<V.length&&(z=new Kg(z,t,null,n,f),g.push({event:z,listeners:V}),B?z.data=B:(B=V0(n),B!==null&&(z.data=B)))),(B=CT?TT(t,n):kT(t,n))&&(h=Rl(h,"onBeforeInput"),0<h.length&&(f=new Kg("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:h}),f.data=B))}Z0(g,e)})}function Io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wo(t,n),s!=null&&r.unshift(Io(t,s,i)),s=wo(t,e),s!=null&&r.push(Io(t,s,i))),t=t.return}return r}function bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=wo(n,s),u!=null&&o.unshift(Io(n,u,l))):i||(u=wo(n,s),u!=null&&o.push(Io(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function oy(t){return(typeof t=="string"?t:""+t).replace(jT,`
`).replace(UT,"")}function Ya(t,e,n){if(e=oy(e),oy(t)!==e&&n)throw Error(b(425))}function Ml(){}var ud=null,cd=null;function hd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dd=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(zT)}:dd;function zT(t){setTimeout(function(){throw t})}function ah(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),So(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);So(e)}function pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ly(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ws=Math.random().toString(36).slice(2),Tn="__reactFiber$"+ws,xo="__reactProps$"+ws,zn="__reactContainer$"+ws,fd="__reactEvents$"+ws,HT="__reactListeners$"+ws,WT="__reactHandles$"+ws;function qr(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zn]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ly(t);t!==null;){if(n=t[Tn])return n;t=ly(t)}return e}t=n,n=t.parentNode}return null}function Jo(t){return t=t[Tn]||t[zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Iu(t){return t[xo]||null}var pd=[],Ui=-1;function Dr(t){return{current:t}}function xe(t){0>Ui||(t.current=pd[Ui],pd[Ui]=null,Ui--)}function Te(t,e){Ui++,pd[Ui]=t.current,t.current=e}var Tr={},Et=Dr(Tr),Ot=Dr(!1),ni=Tr;function rs(t,e){var n=t.type.contextTypes;if(!n)return Tr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return t=t.childContextTypes,t!=null}function Fl(){xe(Ot),xe(Et)}function uy(t,e,n){if(Et.current!==Tr)throw Error(b(168));Te(Et,e),Te(Ot,n)}function tw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,NC(t)||"Unknown",i));return $e({},n,r)}function jl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,ni=Et.current,Te(Et,t),Te(Ot,Ot.current),!0}function cy(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=tw(t,e,ni),r.__reactInternalMemoizedMergedChildContext=t,xe(Ot),xe(Et),Te(Et,t)):xe(Ot),Te(Ot,n)}var $n=null,xu=!1,lh=!1;function nw(t){$n===null?$n=[t]:$n.push(t)}function qT(t){xu=!0,nw(t)}function br(){if(!lh&&$n!==null){lh=!0;var t=0,e=we;try{var n=$n;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$n=null,xu=!1}catch(i){throw $n!==null&&($n=$n.slice(t+1)),x0(Cf,br),i}finally{we=e,lh=!1}}return null}var Vi=[],Bi=0,Ul=null,Vl=0,tn=[],nn=0,ri=null,Rn=1,Mn="";function zr(t,e){Vi[Bi++]=Vl,Vi[Bi++]=Ul,Ul=t,Vl=e}function rw(t,e,n){tn[nn++]=Rn,tn[nn++]=Mn,tn[nn++]=ri,ri=t;var r=Rn;t=Mn;var i=32-mn(r)-1;r&=~(1<<i),n+=1;var s=32-mn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rn=1<<32-mn(e)+i|n<<i|r,Mn=s+t}else Rn=1<<s|n<<i|r,Mn=t}function Pf(t){t.return!==null&&(zr(t,1),rw(t,1,0))}function Lf(t){for(;t===Ul;)Ul=Vi[--Bi],Vi[Bi]=null,Vl=Vi[--Bi],Vi[Bi]=null;for(;t===ri;)ri=tn[--nn],tn[nn]=null,Mn=tn[--nn],tn[nn]=null,Rn=tn[--nn],tn[nn]=null}var Wt=null,Ht=null,De=!1,fn=null;function iw(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ri!==null?{id:Rn,overflow:Mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,Ht=null,!0):!1;default:return!1}}function md(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gd(t){if(De){var e=Ht;if(e){var n=e;if(!hy(t,e)){if(md(t))throw Error(b(418));e=pr(n.nextSibling);var r=Wt;e&&hy(t,e)?iw(r,n):(t.flags=t.flags&-4097|2,De=!1,Wt=t)}}else{if(md(t))throw Error(b(418));t.flags=t.flags&-4097|2,De=!1,Wt=t}}}function dy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Xa(t){if(t!==Wt)return!1;if(!De)return dy(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hd(t.type,t.memoizedProps)),e&&(e=Ht)){if(md(t))throw sw(),Error(b(418));for(;e;)iw(t,e),e=pr(e.nextSibling)}if(dy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Wt?pr(t.stateNode.nextSibling):null;return!0}function sw(){for(var t=Ht;t;)t=pr(t.nextSibling)}function is(){Ht=Wt=null,De=!1}function Of(t){fn===null?fn=[t]:fn.push(t)}var KT=Yn.ReactCurrentBatchConfig;function hn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bl=Dr(null),zl=null,zi=null,$f=null;function Rf(){$f=zi=zl=null}function Mf(t){var e=Bl.current;xe(Bl),t._currentValue=e}function yd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){zl=t,$f=zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if($f!==t)if(t={context:t,memoizedValue:e,next:null},zi===null){if(zl===null)throw Error(b(308));zi=t,zl.dependencies={lanes:0,firstContext:t}}else zi=zi.next=t;return e}var Kr=null;function Ff(t){Kr===null?Kr=[t]:Kr.push(t)}function ow(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ff(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hn(t,r)}function Hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sr=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ff(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hn(t,n)}function gl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tf(t,n)}}function fy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hl(t,e,n,r){var i=t.updateQueue;sr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;o=0,f=h=u=null,l=s;do{var y=l.lane,S=l.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:S,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,C=l;switch(y=e,S=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){g=k.call(S,g,y);break e}g=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,y=typeof k=="function"?k.call(S,g,y):k,y==null)break e;g=$e({},g,y);break e;case 2:sr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else S={eventTime:S,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=S,u=g):f=f.next=S,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(f===null&&(u=g),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);si|=o,t.lanes=o,t.memoizedState=g}}function py(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var lw=new o0.Component().refs;function vd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Au={isMounted:function(t){return(t=t._reactInternals)?di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),i=yr(t),s=jn(r,i);s.payload=e,n!=null&&(s.callback=n),e=mr(t,s,i),e!==null&&(gn(e,t,i,r),gl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),i=yr(t),s=jn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=mr(t,s,i),e!==null&&(gn(e,t,i,r),gl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=yr(t),i=jn(n,r);i.tag=2,e!=null&&(i.callback=e),e=mr(t,i,r),e!==null&&(gn(e,t,r,n),gl(e,t,r))}};function my(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!To(n,r)||!To(i,s):!0}function uw(t,e,n){var r=!1,i=Tr,s=e.contextType;return typeof s=="object"&&s!==null?s=on(s):(i=$t(e)?ni:Et.current,r=e.contextTypes,s=(r=r!=null)?rs(t,i):Tr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Au,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Au.enqueueReplaceState(e,e.state,null)}function wd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=lw,jf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=on(s):(s=$t(e)?ni:Et.current,i.context=rs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Au.enqueueReplaceState(i,i.state,null),Hl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===lw&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Ja(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yy(t){var e=t._init;return e(t._payload)}function cw(t){function e(v,m){if(t){var w=v.deletions;w===null?(v.deletions=[m],v.flags|=16):w.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=vr(v,m),v.index=0,v.sibling=null,v}function s(v,m,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<m?(v.flags|=2,m):w):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,m,w,x){return m===null||m.tag!==6?(m=mh(w,v.mode,x),m.return=v,m):(m=i(m,w),m.return=v,m)}function u(v,m,w,x){var O=w.type;return O===$i?f(v,m,w.props.children,x,w.key):m!==null&&(m.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ir&&yy(O)===m.type)?(x=i(m,w.props),x.ref=Hs(v,m,w),x.return=v,x):(x=Sl(w.type,w.key,w.props,null,v.mode,x),x.ref=Hs(v,m,w),x.return=v,x)}function h(v,m,w,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=gh(w,v.mode,x),m.return=v,m):(m=i(m,w.children||[]),m.return=v,m)}function f(v,m,w,x,O){return m===null||m.tag!==7?(m=Zr(w,v.mode,x,O),m.return=v,m):(m=i(m,w),m.return=v,m)}function g(v,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=mh(""+m,v.mode,w),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Va:return w=Sl(m.type,m.key,m.props,null,v.mode,w),w.ref=Hs(v,null,m),w.return=v,w;case Oi:return m=gh(m,v.mode,w),m.return=v,m;case ir:var x=m._init;return g(v,x(m._payload),w)}if(Gs(m)||js(m))return m=Zr(m,v.mode,w,null),m.return=v,m;Ja(v,m)}return null}function y(v,m,w,x){var O=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:l(v,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Va:return w.key===O?u(v,m,w,x):null;case Oi:return w.key===O?h(v,m,w,x):null;case ir:return O=w._init,y(v,m,O(w._payload),x)}if(Gs(w)||js(w))return O!==null?null:f(v,m,w,x,null);Ja(v,w)}return null}function S(v,m,w,x,O){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(w)||null,l(m,v,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Va:return v=v.get(x.key===null?w:x.key)||null,u(m,v,x,O);case Oi:return v=v.get(x.key===null?w:x.key)||null,h(m,v,x,O);case ir:var V=x._init;return S(v,m,w,V(x._payload),O)}if(Gs(x)||js(x))return v=v.get(w)||null,f(m,v,x,O,null);Ja(m,x)}return null}function k(v,m,w,x){for(var O=null,V=null,B=m,z=m=0,Ne=null;B!==null&&z<w.length;z++){B.index>z?(Ne=B,B=null):Ne=B.sibling;var ae=y(v,B,w[z],x);if(ae===null){B===null&&(B=Ne);break}t&&B&&ae.alternate===null&&e(v,B),m=s(ae,m,z),V===null?O=ae:V.sibling=ae,V=ae,B=Ne}if(z===w.length)return n(v,B),De&&zr(v,z),O;if(B===null){for(;z<w.length;z++)B=g(v,w[z],x),B!==null&&(m=s(B,m,z),V===null?O=B:V.sibling=B,V=B);return De&&zr(v,z),O}for(B=r(v,B);z<w.length;z++)Ne=S(B,v,z,w[z],x),Ne!==null&&(t&&Ne.alternate!==null&&B.delete(Ne.key===null?z:Ne.key),m=s(Ne,m,z),V===null?O=Ne:V.sibling=Ne,V=Ne);return t&&B.forEach(function(Mt){return e(v,Mt)}),De&&zr(v,z),O}function C(v,m,w,x){var O=js(w);if(typeof O!="function")throw Error(b(150));if(w=O.call(w),w==null)throw Error(b(151));for(var V=O=null,B=m,z=m=0,Ne=null,ae=w.next();B!==null&&!ae.done;z++,ae=w.next()){B.index>z?(Ne=B,B=null):Ne=B.sibling;var Mt=y(v,B,ae.value,x);if(Mt===null){B===null&&(B=Ne);break}t&&B&&Mt.alternate===null&&e(v,B),m=s(Mt,m,z),V===null?O=Mt:V.sibling=Mt,V=Mt,B=Ne}if(ae.done)return n(v,B),De&&zr(v,z),O;if(B===null){for(;!ae.done;z++,ae=w.next())ae=g(v,ae.value,x),ae!==null&&(m=s(ae,m,z),V===null?O=ae:V.sibling=ae,V=ae);return De&&zr(v,z),O}for(B=r(v,B);!ae.done;z++,ae=w.next())ae=S(B,v,z,ae.value,x),ae!==null&&(t&&ae.alternate!==null&&B.delete(ae.key===null?z:ae.key),m=s(ae,m,z),V===null?O=ae:V.sibling=ae,V=ae);return t&&B.forEach(function(Xn){return e(v,Xn)}),De&&zr(v,z),O}function N(v,m,w,x){if(typeof w=="object"&&w!==null&&w.type===$i&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Va:e:{for(var O=w.key,V=m;V!==null;){if(V.key===O){if(O=w.type,O===$i){if(V.tag===7){n(v,V.sibling),m=i(V,w.props.children),m.return=v,v=m;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ir&&yy(O)===V.type){n(v,V.sibling),m=i(V,w.props),m.ref=Hs(v,V,w),m.return=v,v=m;break e}n(v,V);break}else e(v,V);V=V.sibling}w.type===$i?(m=Zr(w.props.children,v.mode,x,w.key),m.return=v,v=m):(x=Sl(w.type,w.key,w.props,null,v.mode,x),x.ref=Hs(v,m,w),x.return=v,v=x)}return o(v);case Oi:e:{for(V=w.key;m!==null;){if(m.key===V)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(v,m.sibling),m=i(m,w.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=gh(w,v.mode,x),m.return=v,v=m}return o(v);case ir:return V=w._init,N(v,m,V(w._payload),x)}if(Gs(w))return k(v,m,w,x);if(js(w))return C(v,m,w,x);Ja(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,w),m.return=v,v=m):(n(v,m),m=mh(w,v.mode,x),m.return=v,v=m),o(v)):n(v,m)}return N}var ss=cw(!0),hw=cw(!1),Zo={},xn=Dr(Zo),Ao=Dr(Zo),No=Dr(Zo);function Qr(t){if(t===Zo)throw Error(b(174));return t}function Uf(t,e){switch(Te(No,e),Te(Ao,t),Te(xn,Zo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xh(e,t)}xe(xn),Te(xn,e)}function os(){xe(xn),xe(Ao),xe(No)}function dw(t){Qr(No.current);var e=Qr(xn.current),n=Xh(e,t.type);e!==n&&(Te(Ao,t),Te(xn,n))}function Vf(t){Ao.current===t&&(xe(xn),xe(Ao))}var Le=Dr(0);function Wl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uh=[];function Bf(){for(var t=0;t<uh.length;t++)uh[t]._workInProgressVersionPrimary=null;uh.length=0}var yl=Yn.ReactCurrentDispatcher,ch=Yn.ReactCurrentBatchConfig,ii=0,Oe=null,qe=null,tt=null,ql=!1,ao=!1,Do=0,QT=0;function dt(){throw Error(b(321))}function zf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function Hf(t,e,n,r,i,s){if(ii=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yl.current=t===null||t.memoizedState===null?JT:ZT,t=n(r,i),ao){s=0;do{if(ao=!1,Do=0,25<=s)throw Error(b(301));s+=1,tt=qe=null,e.updateQueue=null,yl.current=ek,t=n(r,i)}while(ao)}if(yl.current=Kl,e=qe!==null&&qe.next!==null,ii=0,tt=qe=Oe=null,ql=!1,e)throw Error(b(300));return t}function Wf(){var t=Do!==0;return Do=0,t}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Oe.memoizedState=tt=t:tt=tt.next=t,tt}function an(){if(qe===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=tt===null?Oe.memoizedState:tt.next;if(e!==null)tt=e,qe=t;else{if(t===null)throw Error(b(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},tt===null?Oe.memoizedState=tt=t:tt=tt.next=t}return tt}function bo(t,e){return typeof e=="function"?e(t):e}function hh(t){var e=an(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var f=h.lane;if((ii&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=g,o=r):u=u.next=g,Oe.lanes|=f,si|=f}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,yn(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,si|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dh(t){var e=an(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yn(s,e.memoizedState)||(Lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function fw(){}function pw(t,e){var n=Oe,r=an(),i=e(),s=!yn(r.memoizedState,i);if(s&&(r.memoizedState=i,Lt=!0),r=r.queue,qf(yw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Po(9,gw.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(b(349));ii&30||mw(n,e,i)}return i}function mw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gw(t,e,n,r){e.value=n,e.getSnapshot=r,vw(e)&&ww(t)}function yw(t,e,n){return n(function(){vw(e)&&ww(t)})}function vw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function ww(t){var e=Hn(t,1);e!==null&&gn(e,t,1,-1)}function vy(t){var e=Cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:t},e.queue=t,t=t.dispatch=XT.bind(null,Oe,t),[e.memoizedState,t]}function Po(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _w(){return an().memoizedState}function vl(t,e,n,r){var i=Cn();Oe.flags|=t,i.memoizedState=Po(1|e,n,void 0,r===void 0?null:r)}function Nu(t,e,n,r){var i=an();r=r===void 0?null:r;var s=void 0;if(qe!==null){var o=qe.memoizedState;if(s=o.destroy,r!==null&&zf(r,o.deps)){i.memoizedState=Po(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=Po(1|e,n,s,r)}function wy(t,e){return vl(8390656,8,t,e)}function qf(t,e){return Nu(2048,8,t,e)}function Ew(t,e){return Nu(4,2,t,e)}function Sw(t,e){return Nu(4,4,t,e)}function Cw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tw(t,e,n){return n=n!=null?n.concat([t]):null,Nu(4,4,Cw.bind(null,e,t),n)}function Kf(){}function kw(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Iw(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xw(t,e,n){return ii&21?(yn(n,e)||(n=D0(),Oe.lanes|=n,si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function GT(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=ch.transition;ch.transition={};try{t(!1),e()}finally{we=n,ch.transition=r}}function Aw(){return an().memoizedState}function YT(t,e,n){var r=yr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nw(t))Dw(e,n);else if(n=ow(t,e,n,r),n!==null){var i=Nt();gn(n,t,r,i),bw(n,e,r)}}function XT(t,e,n){var r=yr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nw(t))Dw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,yn(l,o)){var u=e.interleaved;u===null?(i.next=i,Ff(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=ow(t,e,i,r),n!==null&&(i=Nt(),gn(n,t,r,i),bw(n,e,r))}}function Nw(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function Dw(t,e){ao=ql=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tf(t,n)}}var Kl={readContext:on,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},JT={readContext:on,useCallback:function(t,e){return Cn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:wy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vl(4194308,4,Cw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vl(4194308,4,t,e)},useInsertionEffect:function(t,e){return vl(4,2,t,e)},useMemo:function(t,e){var n=Cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YT.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Cn();return t={current:t},e.memoizedState=t},useState:vy,useDebugValue:Kf,useDeferredValue:function(t){return Cn().memoizedState=t},useTransition:function(){var t=vy(!1),e=t[0];return t=GT.bind(null,t[1]),Cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=Cn();if(De){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),nt===null)throw Error(b(349));ii&30||mw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wy(yw.bind(null,r,s,t),[t]),r.flags|=2048,Po(9,gw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cn(),e=nt.identifierPrefix;if(De){var n=Mn,r=Rn;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Do++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZT={readContext:on,useCallback:kw,useContext:on,useEffect:qf,useImperativeHandle:Tw,useInsertionEffect:Ew,useLayoutEffect:Sw,useMemo:Iw,useReducer:hh,useRef:_w,useState:function(){return hh(bo)},useDebugValue:Kf,useDeferredValue:function(t){var e=an();return xw(e,qe.memoizedState,t)},useTransition:function(){var t=hh(bo)[0],e=an().memoizedState;return[t,e]},useMutableSource:fw,useSyncExternalStore:pw,useId:Aw,unstable_isNewReconciler:!1},ek={readContext:on,useCallback:kw,useContext:on,useEffect:qf,useImperativeHandle:Tw,useInsertionEffect:Ew,useLayoutEffect:Sw,useMemo:Iw,useReducer:dh,useRef:_w,useState:function(){return dh(bo)},useDebugValue:Kf,useDeferredValue:function(t){var e=an();return qe===null?e.memoizedState=t:xw(e,qe.memoizedState,t)},useTransition:function(){var t=dh(bo)[0],e=an().memoizedState;return[t,e]},useMutableSource:fw,useSyncExternalStore:pw,useId:Aw,unstable_isNewReconciler:!1};function as(t,e){try{var n="",r=e;do n+=AC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function fh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _d(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tk=typeof WeakMap=="function"?WeakMap:Map;function Pw(t,e,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gl||(Gl=!0,Dd=r),_d(t,e)},n}function Lw(t,e,n){n=jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_d(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_d(t,e),typeof r!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _y(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mk.bind(null,t,e,n),e.then(t,t))}function Ey(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jn(-1,1),e.tag=2,mr(n,e,1))),n.lanes|=1),t)}var nk=Yn.ReactCurrentOwner,Lt=!1;function xt(t,e,n,r){e.child=t===null?hw(e,null,n,r):ss(e,t.child,n,r)}function Cy(t,e,n,r,i){n=n.render;var s=e.ref;return Xi(e,i),r=Hf(t,e,n,r,s,i),n=Wf(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(De&&n&&Pf(e),e.flags|=1,xt(t,e,r,i),e.child)}function Ty(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!tp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ow(t,e,s,r,i)):(t=Sl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:To,n(o,r)&&t.ref===e.ref)return Wn(t,e,i)}return e.flags|=1,t=vr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ow(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(To(s,r)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,Wn(t,e,i)}return Ed(t,e,n,r,i)}function $w(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Wi,Bt),Bt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Wi,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(Wi,Bt),Bt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Te(Wi,Bt),Bt|=r;return xt(t,e,i,n),e.child}function Rw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ed(t,e,n,r,i){var s=$t(n)?ni:Et.current;return s=rs(e,s),Xi(e,i),n=Hf(t,e,n,r,s,i),r=Wf(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(De&&r&&Pf(e),e.flags|=1,xt(t,e,n,i),e.child)}function ky(t,e,n,r,i){if($t(n)){var s=!0;jl(e)}else s=!1;if(Xi(e,i),e.stateNode===null)wl(t,e),uw(e,n,r),wd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=on(h):(h=$t(n)?ni:Et.current,h=rs(e,h));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&gy(e,o,r,h),sr=!1;var y=e.memoizedState;o.state=y,Hl(e,r,o,i),u=e.memoizedState,l!==r||y!==u||Ot.current||sr?(typeof f=="function"&&(vd(e,n,f,r),u=e.memoizedState),(l=sr||my(e,n,l,r,y,u,h))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aw(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:hn(e.type,l),o.props=h,g=e.pendingProps,y=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=on(u):(u=$t(n)?ni:Et.current,u=rs(e,u));var S=n.getDerivedStateFromProps;(f=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||y!==u)&&gy(e,o,r,u),sr=!1,y=e.memoizedState,o.state=y,Hl(e,r,o,i);var k=e.memoizedState;l!==g||y!==k||Ot.current||sr?(typeof S=="function"&&(vd(e,n,S,r),k=e.memoizedState),(h=sr||my(e,n,h,r,y,k,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Sd(t,e,n,r,s,i)}function Sd(t,e,n,r,i,s){Rw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cy(e,n,!1),Wn(t,e,s);r=e.stateNode,nk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ss(e,t.child,null,s),e.child=ss(e,null,l,s)):xt(t,e,l,s),e.memoizedState=r.state,i&&cy(e,n,!0),e.child}function Mw(t){var e=t.stateNode;e.pendingContext?uy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uy(t,e.context,!1),Uf(t,e.containerInfo)}function Iy(t,e,n,r,i){return is(),Of(i),e.flags|=256,xt(t,e,n,r),e.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Td(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fw(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(Le,i&1),t===null)return gd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pu(o,r,0,null),t=Zr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Td(n),e.memoizedState=Cd,t):Qf(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return rk(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=vr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=vr(l,s):(s=Zr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Td(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cd,r}return s=t.child,t=s.sibling,r=vr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qf(t,e){return e=Pu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Za(t,e,n,r){return r!==null&&Of(r),ss(e,t.child,null,n),t=Qf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=fh(Error(b(422))),Za(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pu({mode:"visible",children:r.children},i,0,null),s=Zr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ss(e,t.child,null,o),e.child.memoizedState=Td(o),e.memoizedState=Cd,s);if(!(e.mode&1))return Za(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(b(419)),r=fh(s,r,void 0),Za(t,e,o,r)}if(l=(o&t.childLanes)!==0,Lt||l){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hn(t,i),gn(r,t,i,-1))}return ep(),r=fh(Error(b(421))),Za(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ht=pr(i.nextSibling),Wt=e,De=!0,fn=null,t!==null&&(tn[nn++]=Rn,tn[nn++]=Mn,tn[nn++]=ri,Rn=t.id,Mn=t.overflow,ri=e),e=Qf(e,r.children),e.flags|=4096,e)}function xy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yd(t.return,e,n)}function ph(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,n,e);else if(t.tag===19)xy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ph(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ph(e,!0,n,null,s);break;case"together":ph(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ik(t,e,n){switch(e.tag){case 3:Mw(e),is();break;case 5:dw(e);break;case 1:$t(e.type)&&jl(e);break;case 4:Uf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(Bl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?Fw(t,e,n):(Te(Le,Le.current&1),t=Wn(t,e,n),t!==null?t.sibling:null);Te(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,$w(t,e,n)}return Wn(t,e,n)}var Uw,kd,Vw,Bw;Uw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kd=function(){};Vw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qr(xn.current);var s=null;switch(n){case"input":i=Kh(t,i),r=Kh(t,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=Yh(t,i),r=Yh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ml)}Jh(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(yo.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(yo.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Ie("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};Bw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ws(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sk(t,e,n){var r=e.pendingProps;switch(Lf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return $t(e.type)&&Fl(),ft(e),null;case 3:return r=e.stateNode,os(),xe(Ot),xe(Et),Bf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Ld(fn),fn=null))),kd(t,e),ft(e),null;case 5:Vf(e);var i=Qr(No.current);if(n=e.type,t!==null&&e.stateNode!=null)Vw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return ft(e),null}if(t=Qr(xn.current),Xa(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Tn]=e,r[xo]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Xs.length;i++)Ie(Xs[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Rg(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":Fg(r,s),Ie("invalid",r)}Jh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ya(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ya(r.textContent,l,t),i=["children",""+l]):yo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Ba(r),Mg(r,s,!0);break;case"textarea":Ba(r),jg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ml)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tn]=e,t[xo]=r,Uw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zh(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xs.length;i++)Ie(Xs[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":Rg(t,r),i=Kh(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":Fg(t,r),i=Yh(t,r),Ie("invalid",t);break;default:i=r}Jh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?v0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&g0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&vo(t,u):typeof u=="number"&&vo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ie("scroll",t):u!=null&&vf(t,s,u,o))}switch(n){case"input":Ba(t),Mg(t,r,!1);break;case"textarea":Ba(t),jg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ki(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ki(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)Bw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Qr(No.current),Qr(xn.current),Xa(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(s=r.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:Ya(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ya(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return ft(e),null;case 13:if(xe(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Ht!==null&&e.mode&1&&!(e.flags&128))sw(),is(),e.flags|=98560,s=!1;else if(s=Xa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[Tn]=e}else is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else fn!==null&&(Ld(fn),fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?Qe===0&&(Qe=3):ep())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return os(),kd(t,e),t===null&&ko(e.stateNode.containerInfo),ft(e),null;case 10:return Mf(e.type._context),ft(e),null;case 17:return $t(e.type)&&Fl(),ft(e),null;case 19:if(xe(Le),s=e.memoizedState,s===null)return ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ws(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wl(t),o!==null){for(e.flags|=128,Ws(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>ls&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ws(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return ft(e),null}else 2*Ve()-s.renderingStartTime>ls&&n!==1073741824&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=Le.current,Te(Le,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return Zf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function ok(t,e){switch(Lf(e),e.tag){case 1:return $t(e.type)&&Fl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return os(),xe(Ot),xe(Et),Bf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vf(e),null;case 13:if(xe(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Le),null;case 4:return os(),null;case 10:return Mf(e.type._context),null;case 22:case 23:return Zf(),null;case 24:return null;default:return null}}var el=!1,gt=!1,ak=typeof WeakSet=="function"?WeakSet:Set,j=null;function Hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function Id(t,e,n){try{n()}catch(r){Me(t,e,r)}}var Ay=!1;function lk(t,e){if(ud=Ol,t=q0(),bf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,f=0,g=t,y=null;t:for(;;){for(var S;g!==n||i!==0&&g.nodeType!==3||(l=o+i),g!==s||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(S=g.firstChild)!==null;)y=g,g=S;for(;;){if(g===t)break t;if(y===n&&++h===i&&(l=o),y===s&&++f===r&&(u=o),(S=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=S}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(cd={focusedElem:t,selectionRange:n},Ol=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,N=k.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?C:hn(e.type,C),N);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(x){Me(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return k=Ay,Ay=!1,k}function lo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Id(e,n,s)}i=i.next}while(i!==r)}}function Du(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zw(t){var e=t.alternate;e!==null&&(t.alternate=null,zw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[xo],delete e[fd],delete e[HT],delete e[WT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hw(t){return t.tag===5||t.tag===3||t.tag===4}function Ny(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ml));else if(r!==4&&(t=t.child,t!==null))for(Ad(t,e,n),t=t.sibling;t!==null;)Ad(t,e,n),t=t.sibling}function Nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nd(t,e,n),t=t.sibling;t!==null;)Nd(t,e,n),t=t.sibling}var st=null,dn=!1;function rr(t,e,n){for(n=n.child;n!==null;)Ww(t,e,n),n=n.sibling}function Ww(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Su,n)}catch{}switch(n.tag){case 5:gt||Hi(n,e);case 6:var r=st,i=dn;st=null,rr(t,e,n),st=r,dn=i,st!==null&&(dn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(dn?(t=st,n=n.stateNode,t.nodeType===8?ah(t.parentNode,n):t.nodeType===1&&ah(t,n),So(t)):ah(st,n.stateNode));break;case 4:r=st,i=dn,st=n.stateNode.containerInfo,dn=!0,rr(t,e,n),st=r,dn=i;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Id(n,e,o),i=i.next}while(i!==r)}rr(t,e,n);break;case 1:if(!gt&&(Hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,e,l)}rr(t,e,n);break;case 21:rr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,rr(t,e,n),gt=r):rr(t,e,n);break;default:rr(t,e,n)}}function Dy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ak),e.forEach(function(r){var i=yk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:st=l.stateNode,dn=!1;break e;case 3:st=l.stateNode.containerInfo,dn=!0;break e;case 4:st=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(st===null)throw Error(b(160));Ww(s,o,i),st=null,dn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Me(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qw(e,t),e=e.sibling}function qw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),Sn(t),r&4){try{lo(3,t,t.return),Du(3,t)}catch(C){Me(t,t.return,C)}try{lo(5,t,t.return)}catch(C){Me(t,t.return,C)}}break;case 1:cn(e,t),Sn(t),r&512&&n!==null&&Hi(n,n.return);break;case 5:if(cn(e,t),Sn(t),r&512&&n!==null&&Hi(n,n.return),t.flags&32){var i=t.stateNode;try{vo(i,"")}catch(C){Me(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&f0(i,s),Zh(l,o);var h=Zh(l,s);for(o=0;o<u.length;o+=2){var f=u[o],g=u[o+1];f==="style"?v0(i,g):f==="dangerouslySetInnerHTML"?g0(i,g):f==="children"?vo(i,g):vf(i,f,g,h)}switch(l){case"input":Qh(i,s);break;case"textarea":p0(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Ki(i,!!s.multiple,S,!1):y!==!!s.multiple&&(s.defaultValue!=null?Ki(i,!!s.multiple,s.defaultValue,!0):Ki(i,!!s.multiple,s.multiple?[]:"",!1))}i[xo]=s}catch(C){Me(t,t.return,C)}}break;case 6:if(cn(e,t),Sn(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){Me(t,t.return,C)}}break;case 3:if(cn(e,t),Sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{So(e.containerInfo)}catch(C){Me(t,t.return,C)}break;case 4:cn(e,t),Sn(t);break;case 13:cn(e,t),Sn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xf=Ve())),r&4&&Dy(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(h=gt)||f,cn(e,t),gt=h):cn(e,t),Sn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(j=t,f=t.child;f!==null;){for(g=j=f;j!==null;){switch(y=j,S=y.child,y.tag){case 0:case 11:case 14:case 15:lo(4,y,y.return);break;case 1:Hi(y,y.return);var k=y.stateNode;if(typeof k.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(C){Me(r,n,C)}}break;case 5:Hi(y,y.return);break;case 22:if(y.memoizedState!==null){Py(g);continue}}S!==null?(S.return=y,j=S):Py(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=y0("display",o))}catch(C){Me(t,t.return,C)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(C){Me(t,t.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:cn(e,t),Sn(t),r&4&&Dy(t);break;case 21:break;default:cn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hw(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vo(i,""),r.flags&=-33);var s=Ny(t);Nd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ny(t);Ad(t,l,o);break;default:throw Error(b(161))}}catch(u){Me(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uk(t,e,n){j=t,Kw(t)}function Kw(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||el;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||gt;l=el;var h=gt;if(el=o,(gt=u)&&!h)for(j=i;j!==null;)o=j,u=o.child,o.tag===22&&o.memoizedState!==null?Ly(i):u!==null?(u.return=o,j=u):Ly(i);for(;s!==null;)j=s,Kw(s),s=s.sibling;j=i,el=l,gt=h}by(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):by(t)}}function by(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||Du(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&py(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}py(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&So(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}gt||e.flags&512&&xd(e)}catch(y){Me(e,e.return,y)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Py(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Ly(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Du(4,e)}catch(u){Me(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Me(e,i,u)}}var s=e.return;try{xd(e)}catch(u){Me(e,s,u)}break;case 5:var o=e.return;try{xd(e)}catch(u){Me(e,o,u)}}}catch(u){Me(e,e.return,u)}if(e===t){j=null;break}var l=e.sibling;if(l!==null){l.return=e.return,j=l;break}j=e.return}}var ck=Math.ceil,Ql=Yn.ReactCurrentDispatcher,Gf=Yn.ReactCurrentOwner,sn=Yn.ReactCurrentBatchConfig,fe=0,nt=null,He=null,lt=0,Bt=0,Wi=Dr(0),Qe=0,Lo=null,si=0,bu=0,Yf=0,uo=null,Pt=null,Xf=0,ls=1/0,On=null,Gl=!1,Dd=null,gr=null,tl=!1,ur=null,Yl=0,co=0,bd=null,_l=-1,El=0;function Nt(){return fe&6?Ve():_l!==-1?_l:_l=Ve()}function yr(t){return t.mode&1?fe&2&&lt!==0?lt&-lt:KT.transition!==null?(El===0&&(El=D0()),El):(t=we,t!==0||(t=window.event,t=t===void 0?16:M0(t.type)),t):1}function gn(t,e,n,r){if(50<co)throw co=0,bd=null,Error(b(185));Yo(t,n,r),(!(fe&2)||t!==nt)&&(t===nt&&(!(fe&2)&&(bu|=n),Qe===4&&ar(t,lt)),Rt(t,r),n===1&&fe===0&&!(e.mode&1)&&(ls=Ve()+500,xu&&br()))}function Rt(t,e){var n=t.callbackNode;KC(t,e);var r=Ll(t,t===nt?lt:0);if(r===0)n!==null&&Bg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bg(n),e===1)t.tag===0?qT(Oy.bind(null,t)):nw(Oy.bind(null,t)),BT(function(){!(fe&6)&&br()}),n=null;else{switch(b0(r)){case 1:n=Cf;break;case 4:n=A0;break;case 16:n=Pl;break;case 536870912:n=N0;break;default:n=Pl}n=t1(n,Qw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Qw(t,e){if(_l=-1,El=0,fe&6)throw Error(b(327));var n=t.callbackNode;if(Ji()&&t.callbackNode!==n)return null;var r=Ll(t,t===nt?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xl(t,r);else{e=r;var i=fe;fe|=2;var s=Yw();(nt!==t||lt!==e)&&(On=null,ls=Ve()+500,Jr(t,e));do try{fk();break}catch(l){Gw(t,l)}while(1);Rf(),Ql.current=s,fe=i,He!==null?e=0:(nt=null,lt=0,e=Qe)}if(e!==0){if(e===2&&(i=id(t),i!==0&&(r=i,e=Pd(t,i))),e===1)throw n=Lo,Jr(t,0),ar(t,r),Rt(t,Ve()),n;if(e===6)ar(t,r);else{if(i=t.current.alternate,!(r&30)&&!hk(i)&&(e=Xl(t,r),e===2&&(s=id(t),s!==0&&(r=s,e=Pd(t,s))),e===1))throw n=Lo,Jr(t,0),ar(t,r),Rt(t,Ve()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Hr(t,Pt,On);break;case 3:if(ar(t,r),(r&130023424)===r&&(e=Xf+500-Ve(),10<e)){if(Ll(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dd(Hr.bind(null,t,Pt,On),e);break}Hr(t,Pt,On);break;case 4:if(ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-mn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ck(r/1960))-r,10<r){t.timeoutHandle=dd(Hr.bind(null,t,Pt,On),r);break}Hr(t,Pt,On);break;case 5:Hr(t,Pt,On);break;default:throw Error(b(329))}}}return Rt(t,Ve()),t.callbackNode===n?Qw.bind(null,t):null}function Pd(t,e){var n=uo;return t.current.memoizedState.isDehydrated&&(Jr(t,e).flags|=256),t=Xl(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&Ld(e)),t}function Ld(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function hk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~Yf,e&=~bu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mn(e),r=1<<n;t[n]=-1,e&=~r}}function Oy(t){if(fe&6)throw Error(b(327));Ji();var e=Ll(t,0);if(!(e&1))return Rt(t,Ve()),null;var n=Xl(t,e);if(t.tag!==0&&n===2){var r=id(t);r!==0&&(e=r,n=Pd(t,r))}if(n===1)throw n=Lo,Jr(t,0),ar(t,e),Rt(t,Ve()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hr(t,Pt,On),Rt(t,Ve()),null}function Jf(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(ls=Ve()+500,xu&&br())}}function oi(t){ur!==null&&ur.tag===0&&!(fe&6)&&Ji();var e=fe;fe|=1;var n=sn.transition,r=we;try{if(sn.transition=null,we=1,t)return t()}finally{we=r,sn.transition=n,fe=e,!(fe&6)&&br()}}function Zf(){Bt=Wi.current,xe(Wi)}function Jr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VT(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Lf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fl();break;case 3:os(),xe(Ot),xe(Et),Bf();break;case 5:Vf(r);break;case 4:os();break;case 13:xe(Le);break;case 19:xe(Le);break;case 10:Mf(r.type._context);break;case 22:case 23:Zf()}n=n.return}if(nt=t,He=t=vr(t.current,null),lt=Bt=e,Qe=0,Lo=null,Yf=bu=si=0,Pt=uo=null,Kr!==null){for(e=0;e<Kr.length;e++)if(n=Kr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Kr=null}return t}function Gw(t,e){do{var n=He;try{if(Rf(),yl.current=Kl,ql){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ql=!1}if(ii=0,tt=qe=Oe=null,ao=!1,Do=0,Gf.current=null,n===null||n.return===null){Qe=1,Lo=e,He=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=lt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var S=Ey(o);if(S!==null){S.flags&=-257,Sy(S,o,l,s,e),S.mode&1&&_y(s,h,e),e=S,u=h;var k=e.updateQueue;if(k===null){var C=new Set;C.add(u),e.updateQueue=C}else k.add(u);break e}else{if(!(e&1)){_y(s,h,e),ep();break e}u=Error(b(426))}}else if(De&&l.mode&1){var N=Ey(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Sy(N,o,l,s,e),Of(as(u,l));break e}}s=u=as(u,l),Qe!==4&&(Qe=2),uo===null?uo=[s]:uo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Pw(s,u,e);fy(s,v);break e;case 1:l=u;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gr===null||!gr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Lw(s,l,e);fy(s,x);break e}}s=s.return}while(s!==null)}Jw(n)}catch(O){e=O,He===n&&n!==null&&(He=n=n.return);continue}break}while(1)}function Yw(){var t=Ql.current;return Ql.current=Kl,t===null?Kl:t}function ep(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||!(si&268435455)&&!(bu&268435455)||ar(nt,lt)}function Xl(t,e){var n=fe;fe|=2;var r=Yw();(nt!==t||lt!==e)&&(On=null,Jr(t,e));do try{dk();break}catch(i){Gw(t,i)}while(1);if(Rf(),fe=n,Ql.current=r,He!==null)throw Error(b(261));return nt=null,lt=0,Qe}function dk(){for(;He!==null;)Xw(He)}function fk(){for(;He!==null&&!FC();)Xw(He)}function Xw(t){var e=e1(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?Jw(t):He=e,Gf.current=null}function Jw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ok(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(n=sk(n,e,Bt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Qe===0&&(Qe=5)}function Hr(t,e,n){var r=we,i=sn.transition;try{sn.transition=null,we=1,pk(t,e,n,r)}finally{sn.transition=i,we=r}return null}function pk(t,e,n,r){do Ji();while(ur!==null);if(fe&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QC(t,s),t===nt&&(He=nt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,t1(Pl,function(){return Ji(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=sn.transition,sn.transition=null;var o=we;we=1;var l=fe;fe|=4,Gf.current=null,lk(t,n),qw(n,t),OT(cd),Ol=!!ud,cd=ud=null,t.current=n,uk(n),jC(),fe=l,we=o,sn.transition=s}else t.current=n;if(tl&&(tl=!1,ur=t,Yl=i),s=t.pendingLanes,s===0&&(gr=null),BC(n.stateNode),Rt(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,t=Dd,Dd=null,t;return Yl&1&&t.tag!==0&&Ji(),s=t.pendingLanes,s&1?t===bd?co++:(co=0,bd=t):co=0,br(),null}function Ji(){if(ur!==null){var t=b0(Yl),e=sn.transition,n=we;try{if(sn.transition=null,we=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,Yl=0,fe&6)throw Error(b(331));var i=fe;for(fe|=4,j=t.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(j=h;j!==null;){var f=j;switch(f.tag){case 0:case 11:case 15:lo(8,f,s)}var g=f.child;if(g!==null)g.return=f,j=g;else for(;j!==null;){f=j;var y=f.sibling,S=f.return;if(zw(f),f===h){j=null;break}if(y!==null){y.return=S,j=y;break}j=S}}}var k=s.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var N=C.sibling;C.sibling=null,C=N}while(C!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lo(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,j=v;break e}j=s.return}}var m=t.current;for(j=m;j!==null;){o=j;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,j=w;else e:for(o=m;j!==null;){if(l=j,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Du(9,l)}}catch(O){Me(l,l.return,O)}if(l===o){j=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,j=x;break e}j=l.return}}if(fe=i,br(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Su,t)}catch{}r=!0}return r}finally{we=n,sn.transition=e}}return!1}function $y(t,e,n){e=as(n,e),e=Pw(t,e,1),t=mr(t,e,1),e=Nt(),t!==null&&(Yo(t,1,e),Rt(t,e))}function Me(t,e,n){if(t.tag===3)$y(t,t,n);else for(;e!==null;){if(e.tag===3){$y(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gr===null||!gr.has(r))){t=as(n,t),t=Lw(e,t,1),e=mr(e,t,1),t=Nt(),e!==null&&(Yo(e,1,t),Rt(e,t));break}}e=e.return}}function mk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(lt&n)===n&&(Qe===4||Qe===3&&(lt&130023424)===lt&&500>Ve()-Xf?Jr(t,0):Yf|=n),Rt(t,e)}function Zw(t,e){e===0&&(t.mode&1?(e=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):e=1);var n=Nt();t=Hn(t,e),t!==null&&(Yo(t,e,n),Rt(t,n))}function gk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zw(t,n)}function yk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),Zw(t,n)}var e1;e1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,ik(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,De&&e.flags&1048576&&rw(e,Vl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wl(t,e),t=e.pendingProps;var i=rs(e,Et.current);Xi(e,n),i=Hf(null,e,r,t,i,n);var s=Wf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(s=!0,jl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jf(e),i.updater=Au,e.stateNode=i,i._reactInternals=e,wd(e,r,t,n),e=Sd(null,e,r,!0,s,n)):(e.tag=0,De&&s&&Pf(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=wk(r),t=hn(r,t),i){case 0:e=Ed(null,e,r,t,n);break e;case 1:e=ky(null,e,r,t,n);break e;case 11:e=Cy(null,e,r,t,n);break e;case 14:e=Ty(null,e,r,hn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Ed(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),ky(t,e,r,i,n);case 3:e:{if(Mw(e),t===null)throw Error(b(387));r=e.pendingProps,s=e.memoizedState,i=s.element,aw(t,e),Hl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=as(Error(b(423)),e),e=Iy(t,e,r,n,i);break e}else if(r!==i){i=as(Error(b(424)),e),e=Iy(t,e,r,n,i);break e}else for(Ht=pr(e.stateNode.containerInfo.firstChild),Wt=e,De=!0,fn=null,n=hw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),r===i){e=Wn(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return dw(e),t===null&&gd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hd(r,i)?o=null:s!==null&&hd(r,s)&&(e.flags|=32),Rw(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&gd(e),null;case 13:return Fw(t,e,n);case 4:return Uf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ss(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Cy(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Te(Bl,r._currentValue),r._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===i.children&&!Ot.current){e=Wn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=jn(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),yd(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),yd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xi(e,n),i=on(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=hn(r,e.pendingProps),i=hn(r.type,i),Ty(t,e,r,i,n);case 15:return Ow(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),wl(t,e),e.tag=1,$t(r)?(t=!0,jl(e)):t=!1,Xi(e,n),uw(e,r,i),wd(e,r,i,n),Sd(null,e,r,!0,t,n);case 19:return jw(t,e,n);case 22:return $w(t,e,n)}throw Error(b(156,e.tag))};function t1(t,e){return x0(t,e)}function vk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,r){return new vk(t,e,n,r)}function tp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wk(t){if(typeof t=="function")return tp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_f)return 11;if(t===Ef)return 14}return 2}function vr(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")tp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $i:return Zr(n.children,i,s,e);case wf:o=8,i|=8;break;case zh:return t=rn(12,n,e,i|2),t.elementType=zh,t.lanes=s,t;case Hh:return t=rn(13,n,e,i),t.elementType=Hh,t.lanes=s,t;case Wh:return t=rn(19,n,e,i),t.elementType=Wh,t.lanes=s,t;case c0:return Pu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l0:o=10;break e;case u0:o=9;break e;case _f:o=11;break e;case Ef:o=14;break e;case ir:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=rn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zr(t,e,n,r){return t=rn(7,t,r,e),t.lanes=n,t}function Pu(t,e,n,r){return t=rn(22,t,r,e),t.elementType=c0,t.lanes=n,t.stateNode={isHidden:!1},t}function mh(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function gh(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _k(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function np(t,e,n,r,i,s,o,l,u){return t=new _k(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(s),t}function Ek(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function n1(t){if(!t)return Tr;t=t._reactInternals;e:{if(di(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if($t(n))return tw(t,n,e)}return e}function r1(t,e,n,r,i,s,o,l,u){return t=np(n,r,!0,t,i,s,o,l,u),t.context=n1(null),n=t.current,r=Nt(),i=yr(n),s=jn(r,i),s.callback=e??null,mr(n,s,i),t.current.lanes=i,Yo(t,i,r),Rt(t,r),t}function Lu(t,e,n,r){var i=e.current,s=Nt(),o=yr(i);return n=n1(n),e.context===null?e.context=n:e.pendingContext=n,e=jn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mr(i,e,o),t!==null&&(gn(t,i,o,s),gl(t,i,o)),o}function Jl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ry(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rp(t,e){Ry(t,e),(t=t.alternate)&&Ry(t,e)}function Sk(){return null}var i1=typeof reportError=="function"?reportError:function(t){console.error(t)};function ip(t){this._internalRoot=t}Ou.prototype.render=ip.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Lu(t,e,null,null)};Ou.prototype.unmount=ip.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oi(function(){Lu(null,t,null,null)}),e[zn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var e=O0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&R0(t)}};function sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function My(){}function Ck(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Jl(o);s.call(h)}}var o=r1(e,r,t,0,null,!1,!1,"",My);return t._reactRootContainer=o,t[zn]=o.current,ko(t.nodeType===8?t.parentNode:t),oi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Jl(u);l.call(h)}}var u=np(t,0,!1,null,null,!1,!1,"",My);return t._reactRootContainer=u,t[zn]=u.current,ko(t.nodeType===8?t.parentNode:t),oi(function(){Lu(e,u,n,r)}),u}function Ru(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Jl(o);l.call(u)}}Lu(e,o,t,i)}else o=Ck(n,e,t,i,r);return Jl(o)}P0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ys(e.pendingLanes);n!==0&&(Tf(e,n|1),Rt(e,Ve()),!(fe&6)&&(ls=Ve()+500,br()))}break;case 13:oi(function(){var r=Hn(t,1);if(r!==null){var i=Nt();gn(r,t,1,i)}}),rp(t,1)}};kf=function(t){if(t.tag===13){var e=Hn(t,134217728);if(e!==null){var n=Nt();gn(e,t,134217728,n)}rp(t,134217728)}};L0=function(t){if(t.tag===13){var e=yr(t),n=Hn(t,e);if(n!==null){var r=Nt();gn(n,t,e,r)}rp(t,e)}};O0=function(){return we};$0=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};td=function(t,e,n){switch(e){case"input":if(Qh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Iu(r);if(!i)throw Error(b(90));d0(r),Qh(r,i)}}}break;case"textarea":p0(t,n);break;case"select":e=n.value,e!=null&&Ki(t,!!n.multiple,e,!1)}};E0=Jf;S0=oi;var Tk={usingClientEntryPoint:!1,Events:[Jo,ji,Iu,w0,_0,Jf]},qs={findFiberByHostInstance:qr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kk={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k0(t),t===null?null:t.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||Sk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Su=nl.inject(kk),In=nl}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sp(e))throw Error(b(200));return Ek(t,e,null,n)};Gt.createRoot=function(t,e){if(!sp(t))throw Error(b(299));var n=!1,r="",i=i1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=np(t,1,!1,null,null,n,!1,r,i),t[zn]=e.current,ko(t.nodeType===8?t.parentNode:t),new ip(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=k0(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return oi(t)};Gt.hydrate=function(t,e,n){if(!$u(e))throw Error(b(200));return Ru(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!sp(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=i1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=r1(e,null,t,1,n??null,i,!1,s,o),t[zn]=e.current,ko(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ou(e)};Gt.render=function(t,e,n){if(!$u(e))throw Error(b(200));return Ru(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!$u(t))throw Error(b(40));return t._reactRootContainer?(oi(function(){Ru(null,null,t,!1,function(){t._reactRootContainer=null,t[zn]=null})}),!0):!1};Gt.unstable_batchedUpdates=Jf;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$u(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Ru(t,e,n,!1,r)};Gt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Gt})(SC);var Fy=Uh;jh.createRoot=Fy.createRoot,jh.hydrateRoot=Fy.hydrateRoot;var jy={},Ik={get exports(){return jy},set exports(t){jy=t}};/*!
  * Bootstrap v5.3.0-alpha3 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(XS,function(){const n=new Map,r={set(d,a,c){n.has(d)||n.set(d,new Map);const p=n.get(d);p.has(a)||p.size===0?p.set(a,c):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`)},get:(d,a)=>n.has(d)&&n.get(d).get(a)||null,remove(d,a){if(!n.has(d))return;const c=n.get(d);c.delete(a),c.size===0&&n.delete(d)}},i="transitionend",s=d=>(d&&window.CSS&&window.CSS.escape&&(d=d.replace(/#([^\s"#']+)/g,(a,c)=>`#${CSS.escape(c)}`)),d),o=d=>{d.dispatchEvent(new Event(i))},l=d=>!(!d||typeof d!="object")&&(d.jquery!==void 0&&(d=d[0]),d.nodeType!==void 0),u=d=>l(d)?d.jquery?d[0]:d:typeof d=="string"&&d.length>0?document.querySelector(s(d)):null,h=d=>{if(!l(d)||d.getClientRects().length===0)return!1;const a=getComputedStyle(d).getPropertyValue("visibility")==="visible",c=d.closest("details:not([open])");if(!c)return a;if(c!==d){const p=d.closest("summary");if(p&&p.parentNode!==c||p===null)return!1}return a},f=d=>!d||d.nodeType!==Node.ELEMENT_NODE||!!d.classList.contains("disabled")||(d.disabled!==void 0?d.disabled:d.hasAttribute("disabled")&&d.getAttribute("disabled")!=="false"),g=d=>{if(!document.documentElement.attachShadow)return null;if(typeof d.getRootNode=="function"){const a=d.getRootNode();return a instanceof ShadowRoot?a:null}return d instanceof ShadowRoot?d:d.parentNode?g(d.parentNode):null},y=()=>{},S=d=>{d.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,C=[],N=()=>document.documentElement.dir==="rtl",v=d=>{var a;a=()=>{const c=k();if(c){const p=d.NAME,_=c.fn[p];c.fn[p]=d.jQueryInterface,c.fn[p].Constructor=d,c.fn[p].noConflict=()=>(c.fn[p]=_,d.jQueryInterface)}},document.readyState==="loading"?(C.length||document.addEventListener("DOMContentLoaded",()=>{for(const c of C)c()}),C.push(a)):a()},m=(d,a=[],c=d)=>typeof d=="function"?d(...a):c,w=(d,a,c=!0)=>{if(!c)return void m(d);const p=(I=>{if(!I)return 0;let{transitionDuration:A,transitionDelay:L}=window.getComputedStyle(I);const F=Number.parseFloat(A),U=Number.parseFloat(L);return F||U?(A=A.split(",")[0],L=L.split(",")[0],1e3*(Number.parseFloat(A)+Number.parseFloat(L))):0})(a)+5;let _=!1;const E=({target:I})=>{I===a&&(_=!0,a.removeEventListener(i,E),m(d))};a.addEventListener(i,E),setTimeout(()=>{_||o(a)},p)},x=(d,a,c,p)=>{const _=d.length;let E=d.indexOf(a);return E===-1?!c&&p?d[_-1]:d[0]:(E+=c?1:-1,p&&(E=(E+_)%_),d[Math.max(0,Math.min(E,_-1))])},O=/[^.]*(?=\..*)\.|.*/,V=/\..*/,B=/::\d+$/,z={};let Ne=1;const ae={mouseenter:"mouseover",mouseleave:"mouseout"},Mt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Xn(d,a){return a&&`${a}::${Ne++}`||d.uidEvent||Ne++}function Jn(d){const a=Xn(d);return d.uidEvent=a,z[a]=z[a]||{},z[a]}function As(d,a,c=null){return Object.values(d).find(p=>p.callable===a&&p.delegationSelector===c)}function ga(d,a,c){const p=typeof a=="string",_=p?c:a||c;let E=ee(d);return Mt.has(E)||(E=d),[p,_,E]}function vi(d,a,c,p,_){if(typeof a!="string"||!d)return;let[E,I,A]=ga(a,c,p);a in ae&&(I=(te=>function(X){if(!X.relatedTarget||X.relatedTarget!==X.delegateTarget&&!X.delegateTarget.contains(X.relatedTarget))return te.call(this,X)})(I));const L=Jn(d),F=L[A]||(L[A]={}),U=As(F,I,E?c:null);if(U)return void(U.oneOff=U.oneOff&&_);const R=Xn(I,a.replace(O,"")),se=E?function(Y,te,X){return function ne(_e){const Ce=Y.querySelectorAll(te);for(let{target:le}=_e;le&&le!==this;le=le.parentNode)for(const pe of Ce)if(pe===le)return ke(_e,{delegateTarget:le}),ne.oneOff&&T.off(Y,_e.type,te,X),X.apply(le,[_e])}}(d,c,I):function(Y,te){return function X(ne){return ke(ne,{delegateTarget:Y}),X.oneOff&&T.off(Y,ne.type,te),te.apply(Y,[ne])}}(d,I);se.delegationSelector=E?c:null,se.callable=I,se.oneOff=_,se.uidEvent=R,F[R]=se,d.addEventListener(A,se,E)}function Or(d,a,c,p,_){const E=As(a[c],p,_);E&&(d.removeEventListener(c,E,!!_),delete a[c][E.uidEvent])}function M(d,a,c,p){const _=a[c]||{};for(const[E,I]of Object.entries(_))E.includes(p)&&Or(d,a,c,I.callable,I.delegationSelector)}function ee(d){return d=d.replace(V,""),ae[d]||d}const T={on(d,a,c,p){vi(d,a,c,p,!1)},one(d,a,c,p){vi(d,a,c,p,!0)},off(d,a,c,p){if(typeof a!="string"||!d)return;const[_,E,I]=ga(a,c,p),A=I!==a,L=Jn(d),F=L[I]||{},U=a.startsWith(".");if(E===void 0){if(U)for(const R of Object.keys(L))M(d,L,R,a.slice(1));for(const[R,se]of Object.entries(F)){const Y=R.replace(B,"");A&&!a.includes(Y)||Or(d,L,I,se.callable,se.delegationSelector)}}else{if(!Object.keys(F).length)return;Or(d,L,I,E,_?c:null)}},trigger(d,a,c){if(typeof a!="string"||!d)return null;const p=k();let _=null,E=!0,I=!0,A=!1;a!==ee(a)&&p&&(_=p.Event(a,c),p(d).trigger(_),E=!_.isPropagationStopped(),I=!_.isImmediatePropagationStopped(),A=_.isDefaultPrevented());const L=ke(new Event(a,{bubbles:E,cancelable:!0}),c);return A&&L.preventDefault(),I&&d.dispatchEvent(L),L.defaultPrevented&&_&&_.preventDefault(),L}};function ke(d,a={}){for(const[c,p]of Object.entries(a))try{d[c]=p}catch{Object.defineProperty(d,c,{configurable:!0,get:()=>p})}return d}function je(d){if(d==="true")return!0;if(d==="false")return!1;if(d===Number(d).toString())return Number(d);if(d===""||d==="null")return null;if(typeof d!="string")return d;try{return JSON.parse(decodeURIComponent(d))}catch{return d}}function Zn(d){return d.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}const it={setDataAttribute(d,a,c){d.setAttribute(`data-bs-${Zn(a)}`,c)},removeDataAttribute(d,a){d.removeAttribute(`data-bs-${Zn(a)}`)},getDataAttributes(d){if(!d)return{};const a={},c=Object.keys(d.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of c){let _=p.replace(/^bs/,"");_=_.charAt(0).toLowerCase()+_.slice(1,_.length),a[_]=je(d.dataset[p])}return a},getDataAttribute:(d,a)=>je(d.getAttribute(`data-bs-${Zn(a)}`))};class bn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(a){return a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a}_mergeConfigObj(a,c){const p=l(c)?it.getDataAttribute(c,"config"):{};return{...this.constructor.Default,...typeof p=="object"?p:{},...l(c)?it.getDataAttributes(c):{},...typeof a=="object"?a:{}}}_typeCheckConfig(a,c=this.constructor.DefaultType){for(const[_,E]of Object.entries(c)){const I=a[_],A=l(I)?"element":(p=I)==null?`${p}`:Object.prototype.toString.call(p).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(E).test(A))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${_}" provided type "${A}" but expected type "${E}".`)}var p}}class We extends bn{constructor(a,c){super(),(a=u(a))&&(this._element=a,this._config=this._getConfig(c),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),T.off(this._element,this.constructor.EVENT_KEY);for(const a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,c,p=!0){w(a,c,p)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return r.get(u(a),this.DATA_KEY)}static getOrCreateInstance(a,c={}){return this.getInstance(a)||new this(a,typeof c=="object"?c:null)}static get VERSION(){return"5.3.0-alpha2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}const er=d=>{let a=d.getAttribute("data-bs-target");if(!a||a==="#"){let c=d.getAttribute("href");if(!c||!c.includes("#")&&!c.startsWith("."))return null;c.includes("#")&&!c.startsWith("#")&&(c=`#${c.split("#")[1]}`),a=c&&c!=="#"?c.trim():null}return s(a)},q={find:(d,a=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(a,d)),findOne:(d,a=document.documentElement)=>Element.prototype.querySelector.call(a,d),children:(d,a)=>[].concat(...d.children).filter(c=>c.matches(a)),parents(d,a){const c=[];let p=d.parentNode.closest(a);for(;p;)c.push(p),p=p.parentNode.closest(a);return c},prev(d,a){let c=d.previousElementSibling;for(;c;){if(c.matches(a))return[c];c=c.previousElementSibling}return[]},next(d,a){let c=d.nextElementSibling;for(;c;){if(c.matches(a))return[c];c=c.nextElementSibling}return[]},focusableChildren(d){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(c=>`${c}:not([tabindex^="-"])`).join(",");return this.find(a,d).filter(c=>!f(c)&&h(c))},getSelectorFromElement(d){const a=er(d);return a&&q.findOne(a)?a:null},getElementFromSelector(d){const a=er(d);return a?q.findOne(a):null},getMultipleElementsFromSelector(d){const a=er(d);return a?q.find(a):[]}},ya=(d,a="hide")=>{const c=`click.dismiss${d.EVENT_KEY}`,p=d.NAME;T.on(document,c,`[data-bs-dismiss="${p}"]`,function(_){if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),f(this))return;const E=q.getElementFromSelector(this)||this.closest(`.${p}`);d.getOrCreateInstance(E)[a]()})};class Ns extends We{static get NAME(){return"alert"}close(){if(T.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),T.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(a){return this.each(function(){const c=Ns.getOrCreateInstance(this);if(typeof a=="string"){if(c[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);c[a](this)}})}}ya(Ns,"close"),v(Ns);const rm='[data-bs-toggle="button"]';class Ds extends We{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(a){return this.each(function(){const c=Ds.getOrCreateInstance(this);a==="toggle"&&c[a]()})}}T.on(document,"click.bs.button.data-api",rm,d=>{d.preventDefault();const a=d.target.closest(rm);Ds.getOrCreateInstance(a).toggle()}),v(Ds);const BE={endCallback:null,leftCallback:null,rightCallback:null},zE={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class va extends bn{constructor(a,c){super(),this._element=a,a&&va.isSupported()&&(this._config=this._getConfig(c),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return BE}static get DefaultType(){return zE}static get NAME(){return"swipe"}dispose(){T.off(this._element,".bs.swipe")}_start(a){this._supportPointerEvents?this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX):this._deltaX=a.touches[0].clientX}_end(a){this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX-this._deltaX),this._handleSwipe(),m(this._config.endCallback)}_move(a){this._deltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this._deltaX}_handleSwipe(){const a=Math.abs(this._deltaX);if(a<=40)return;const c=a/this._deltaX;this._deltaX=0,c&&m(c>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(T.on(this._element,"pointerdown.bs.swipe",a=>this._start(a)),T.on(this._element,"pointerup.bs.swipe",a=>this._end(a)),this._element.classList.add("pointer-event")):(T.on(this._element,"touchstart.bs.swipe",a=>this._start(a)),T.on(this._element,"touchmove.bs.swipe",a=>this._move(a)),T.on(this._element,"touchend.bs.swipe",a=>this._end(a)))}_eventIsPointerPenTouch(a){return this._supportPointerEvents&&(a.pointerType==="pen"||a.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const bs="next",wi="prev",_i="left",wa="right",vc="slid.bs.carousel",im="carousel",_a="active",HE={ArrowLeft:wa,ArrowRight:_i},WE={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},qE={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ei extends We{constructor(a,c){super(a,c),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===im&&this.cycle()}static get Default(){return WE}static get DefaultType(){return qE}static get NAME(){return"carousel"}next(){this._slide(bs)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(wi)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?T.one(this._element,vc,()=>this.cycle()):this.cycle())}to(a){const c=this._getItems();if(a>c.length-1||a<0)return;if(this._isSliding)return void T.one(this._element,vc,()=>this.to(a));const p=this._getItemIndex(this._getActive());if(p===a)return;const _=a>p?bs:wi;this._slide(_,c[a])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(a){return a.defaultInterval=a.interval,a}_addEventListeners(){this._config.keyboard&&T.on(this._element,"keydown.bs.carousel",a=>this._keydown(a)),this._config.pause==="hover"&&(T.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),T.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&va.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const c of q.find(".carousel-item img",this._element))T.on(c,"dragstart.bs.carousel",p=>p.preventDefault());const a={leftCallback:()=>this._slide(this._directionToOrder(_i)),rightCallback:()=>this._slide(this._directionToOrder(wa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new va(this._element,a)}_keydown(a){if(/input|textarea/i.test(a.target.tagName))return;const c=HE[a.key];c&&(a.preventDefault(),this._slide(this._directionToOrder(c)))}_getItemIndex(a){return this._getItems().indexOf(a)}_setActiveIndicatorElement(a){if(!this._indicatorsElement)return;const c=q.findOne(".active",this._indicatorsElement);c.classList.remove(_a),c.removeAttribute("aria-current");const p=q.findOne(`[data-bs-slide-to="${a}"]`,this._indicatorsElement);p&&(p.classList.add(_a),p.setAttribute("aria-current","true"))}_updateInterval(){const a=this._activeElement||this._getActive();if(!a)return;const c=Number.parseInt(a.getAttribute("data-bs-interval"),10);this._config.interval=c||this._config.defaultInterval}_slide(a,c=null){if(this._isSliding)return;const p=this._getActive(),_=a===bs,E=c||x(this._getItems(),p,_,this._config.wrap);if(E===p)return;const I=this._getItemIndex(E),A=R=>T.trigger(this._element,R,{relatedTarget:E,direction:this._orderToDirection(a),from:this._getItemIndex(p),to:I});if(A("slide.bs.carousel").defaultPrevented||!p||!E)return;const L=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(I),this._activeElement=E;const F=_?"carousel-item-start":"carousel-item-end",U=_?"carousel-item-next":"carousel-item-prev";E.classList.add(U),S(E),p.classList.add(F),E.classList.add(F),this._queueCallback(()=>{E.classList.remove(F,U),E.classList.add(_a),p.classList.remove(_a,U,F),this._isSliding=!1,A(vc)},p,this._isAnimated()),L&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return q.findOne(".active.carousel-item",this._element)}_getItems(){return q.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(a){return N()?a===_i?wi:bs:a===_i?bs:wi}_orderToDirection(a){return N()?a===wi?_i:wa:a===wi?wa:_i}static jQueryInterface(a){return this.each(function(){const c=Ei.getOrCreateInstance(this,a);if(typeof a!="number"){if(typeof a=="string"){if(c[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);c[a]()}}else c.to(a)})}}T.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(d){const a=q.getElementFromSelector(this);if(!a||!a.classList.contains(im))return;d.preventDefault();const c=Ei.getOrCreateInstance(a),p=this.getAttribute("data-bs-slide-to");return p?(c.to(p),void c._maybeEnableCycle()):it.getDataAttribute(this,"slide")==="next"?(c.next(),void c._maybeEnableCycle()):(c.prev(),void c._maybeEnableCycle())}),T.on(window,"load.bs.carousel.data-api",()=>{const d=q.find('[data-bs-ride="carousel"]');for(const a of d)Ei.getOrCreateInstance(a)}),v(Ei);const wc="show",Ea="collapse",Sa="collapsing",_c='[data-bs-toggle="collapse"]',KE={parent:null,toggle:!0},QE={parent:"(null|element)",toggle:"boolean"};class Si extends We{constructor(a,c){super(a,c),this._isTransitioning=!1,this._triggerArray=[];const p=q.find(_c);for(const _ of p){const E=q.getSelectorFromElement(_),I=q.find(E).filter(A=>A===this._element);E!==null&&I.length&&this._triggerArray.push(_)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return KE}static get DefaultType(){return QE}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let a=[];if(this._config.parent&&(a=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(_=>_!==this._element).map(_=>Si.getOrCreateInstance(_,{toggle:!1}))),a.length&&a[0]._isTransitioning||T.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const _ of a)_.hide();const c=this._getDimension();this._element.classList.remove(Ea),this._element.classList.add(Sa),this._element.style[c]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const p=`scroll${c[0].toUpperCase()+c.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Sa),this._element.classList.add(Ea,wc),this._element.style[c]="",T.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[c]=`${this._element[p]}px`}hide(){if(this._isTransitioning||!this._isShown()||T.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,S(this._element),this._element.classList.add(Sa),this._element.classList.remove(Ea,wc);for(const c of this._triggerArray){const p=q.getElementFromSelector(c);p&&!this._isShown(p)&&this._addAriaAndCollapsedClass([c],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Sa),this._element.classList.add(Ea),T.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(a=this._element){return a.classList.contains(wc)}_configAfterMerge(a){return a.toggle=!!a.toggle,a.parent=u(a.parent),a}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const a=this._getFirstLevelChildren(_c);for(const c of a){const p=q.getElementFromSelector(c);p&&this._addAriaAndCollapsedClass([c],this._isShown(p))}}_getFirstLevelChildren(a){const c=q.find(":scope .collapse .collapse",this._config.parent);return q.find(a,this._config.parent).filter(p=>!c.includes(p))}_addAriaAndCollapsedClass(a,c){if(a.length)for(const p of a)p.classList.toggle("collapsed",!c),p.setAttribute("aria-expanded",c)}static jQueryInterface(a){const c={};return typeof a=="string"&&/show|hide/.test(a)&&(c.toggle=!1),this.each(function(){const p=Si.getOrCreateInstance(this,c);if(typeof a=="string"){if(p[a]===void 0)throw new TypeError(`No method named "${a}"`);p[a]()}})}}T.on(document,"click.bs.collapse.data-api",_c,function(d){(d.target.tagName==="A"||d.delegateTarget&&d.delegateTarget.tagName==="A")&&d.preventDefault();for(const a of q.getMultipleElementsFromSelector(this))Si.getOrCreateInstance(a,{toggle:!1}).toggle()}),v(Si);var Ct="top",Ft="bottom",jt="right",Tt="left",Ca="auto",Ci=[Ct,Ft,jt,Tt],$r="start",Ti="end",sm="clippingParents",Ec="viewport",ki="popper",om="reference",Sc=Ci.reduce(function(d,a){return d.concat([a+"-"+$r,a+"-"+Ti])},[]),Cc=[].concat(Ci,[Ca]).reduce(function(d,a){return d.concat([a,a+"-"+$r,a+"-"+Ti])},[]),am="beforeRead",lm="read",um="afterRead",cm="beforeMain",hm="main",dm="afterMain",fm="beforeWrite",pm="write",mm="afterWrite",gm=[am,lm,um,cm,hm,dm,fm,pm,mm];function vn(d){return d?(d.nodeName||"").toLowerCase():null}function Ut(d){if(d==null)return window;if(d.toString()!=="[object Window]"){var a=d.ownerDocument;return a&&a.defaultView||window}return d}function Rr(d){return d instanceof Ut(d).Element||d instanceof Element}function Xt(d){return d instanceof Ut(d).HTMLElement||d instanceof HTMLElement}function Tc(d){return typeof ShadowRoot<"u"&&(d instanceof Ut(d).ShadowRoot||d instanceof ShadowRoot)}const kc={name:"applyStyles",enabled:!0,phase:"write",fn:function(d){var a=d.state;Object.keys(a.elements).forEach(function(c){var p=a.styles[c]||{},_=a.attributes[c]||{},E=a.elements[c];Xt(E)&&vn(E)&&(Object.assign(E.style,p),Object.keys(_).forEach(function(I){var A=_[I];A===!1?E.removeAttribute(I):E.setAttribute(I,A===!0?"":A)}))})},effect:function(d){var a=d.state,c={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,c.popper),a.styles=c,a.elements.arrow&&Object.assign(a.elements.arrow.style,c.arrow),function(){Object.keys(a.elements).forEach(function(p){var _=a.elements[p],E=a.attributes[p]||{},I=Object.keys(a.styles.hasOwnProperty(p)?a.styles[p]:c[p]).reduce(function(A,L){return A[L]="",A},{});Xt(_)&&vn(_)&&(Object.assign(_.style,I),Object.keys(E).forEach(function(A){_.removeAttribute(A)}))})}},requires:["computeStyles"]};function wn(d){return d.split("-")[0]}var Mr=Math.max,Ta=Math.min,Ii=Math.round;function Ic(){var d=navigator.userAgentData;return d!=null&&d.brands&&Array.isArray(d.brands)?d.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function ym(){return!/^((?!chrome|android).)*safari/i.test(Ic())}function xi(d,a,c){a===void 0&&(a=!1),c===void 0&&(c=!1);var p=d.getBoundingClientRect(),_=1,E=1;a&&Xt(d)&&(_=d.offsetWidth>0&&Ii(p.width)/d.offsetWidth||1,E=d.offsetHeight>0&&Ii(p.height)/d.offsetHeight||1);var I=(Rr(d)?Ut(d):window).visualViewport,A=!ym()&&c,L=(p.left+(A&&I?I.offsetLeft:0))/_,F=(p.top+(A&&I?I.offsetTop:0))/E,U=p.width/_,R=p.height/E;return{width:U,height:R,top:F,right:L+U,bottom:F+R,left:L,x:L,y:F}}function xc(d){var a=xi(d),c=d.offsetWidth,p=d.offsetHeight;return Math.abs(a.width-c)<=1&&(c=a.width),Math.abs(a.height-p)<=1&&(p=a.height),{x:d.offsetLeft,y:d.offsetTop,width:c,height:p}}function vm(d,a){var c=a.getRootNode&&a.getRootNode();if(d.contains(a))return!0;if(c&&Tc(c)){var p=a;do{if(p&&d.isSameNode(p))return!0;p=p.parentNode||p.host}while(p)}return!1}function Pn(d){return Ut(d).getComputedStyle(d)}function GE(d){return["table","td","th"].indexOf(vn(d))>=0}function tr(d){return((Rr(d)?d.ownerDocument:d.document)||window.document).documentElement}function ka(d){return vn(d)==="html"?d:d.assignedSlot||d.parentNode||(Tc(d)?d.host:null)||tr(d)}function wm(d){return Xt(d)&&Pn(d).position!=="fixed"?d.offsetParent:null}function Ps(d){for(var a=Ut(d),c=wm(d);c&&GE(c)&&Pn(c).position==="static";)c=wm(c);return c&&(vn(c)==="html"||vn(c)==="body"&&Pn(c).position==="static")?a:c||function(p){var _=/firefox/i.test(Ic());if(/Trident/i.test(Ic())&&Xt(p)&&Pn(p).position==="fixed")return null;var E=ka(p);for(Tc(E)&&(E=E.host);Xt(E)&&["html","body"].indexOf(vn(E))<0;){var I=Pn(E);if(I.transform!=="none"||I.perspective!=="none"||I.contain==="paint"||["transform","perspective"].indexOf(I.willChange)!==-1||_&&I.willChange==="filter"||_&&I.filter&&I.filter!=="none")return E;E=E.parentNode}return null}(d)||a}function Ac(d){return["top","bottom"].indexOf(d)>=0?"x":"y"}function Ls(d,a,c){return Mr(d,Ta(a,c))}function _m(d){return Object.assign({},{top:0,right:0,bottom:0,left:0},d)}function Em(d,a){return a.reduce(function(c,p){return c[p]=d,c},{})}const Sm={name:"arrow",enabled:!0,phase:"main",fn:function(d){var a,c=d.state,p=d.name,_=d.options,E=c.elements.arrow,I=c.modifiersData.popperOffsets,A=wn(c.placement),L=Ac(A),F=[Tt,jt].indexOf(A)>=0?"height":"width";if(E&&I){var U=function(Ee,ve){return _m(typeof(Ee=typeof Ee=="function"?Ee(Object.assign({},ve.rects,{placement:ve.placement})):Ee)!="number"?Ee:Em(Ee,Ci))}(_.padding,c),R=xc(E),se=L==="y"?Ct:Tt,Y=L==="y"?Ft:jt,te=c.rects.reference[F]+c.rects.reference[L]-I[L]-c.rects.popper[F],X=I[L]-c.rects.reference[L],ne=Ps(E),_e=ne?L==="y"?ne.clientHeight||0:ne.clientWidth||0:0,Ce=te/2-X/2,le=U[se],pe=_e-R[F]-U[Y],oe=_e/2-R[F]/2+Ce,he=Ls(le,oe,pe),ye=L;c.modifiersData[p]=((a={})[ye]=he,a.centerOffset=he-oe,a)}},effect:function(d){var a=d.state,c=d.options.element,p=c===void 0?"[data-popper-arrow]":c;p!=null&&(typeof p!="string"||(p=a.elements.popper.querySelector(p)))&&vm(a.elements.popper,p)&&(a.elements.arrow=p)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ai(d){return d.split("-")[1]}var YE={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cm(d){var a,c=d.popper,p=d.popperRect,_=d.placement,E=d.variation,I=d.offsets,A=d.position,L=d.gpuAcceleration,F=d.adaptive,U=d.roundOffsets,R=d.isFixed,se=I.x,Y=se===void 0?0:se,te=I.y,X=te===void 0?0:te,ne=typeof U=="function"?U({x:Y,y:X}):{x:Y,y:X};Y=ne.x,X=ne.y;var _e=I.hasOwnProperty("x"),Ce=I.hasOwnProperty("y"),le=Tt,pe=Ct,oe=window;if(F){var he=Ps(c),ye="clientHeight",Ee="clientWidth";he===Ut(c)&&Pn(he=tr(c)).position!=="static"&&A==="absolute"&&(ye="scrollHeight",Ee="scrollWidth"),(_===Ct||(_===Tt||_===jt)&&E===Ti)&&(pe=Ft,X-=(R&&he===oe&&oe.visualViewport?oe.visualViewport.height:he[ye])-p.height,X*=L?1:-1),_!==Tt&&(_!==Ct&&_!==Ft||E!==Ti)||(le=jt,Y-=(R&&he===oe&&oe.visualViewport?oe.visualViewport.width:he[Ee])-p.width,Y*=L?1:-1)}var ve,Ue=Object.assign({position:A},F&&YE),Vt=U===!0?function(un,kt){var Jt=un.x,Zt=un.y,Re=kt.devicePixelRatio||1;return{x:Ii(Jt*Re)/Re||0,y:Ii(Zt*Re)/Re||0}}({x:Y,y:X},Ut(c)):{x:Y,y:X};return Y=Vt.x,X=Vt.y,L?Object.assign({},Ue,((ve={})[pe]=Ce?"0":"",ve[le]=_e?"0":"",ve.transform=(oe.devicePixelRatio||1)<=1?"translate("+Y+"px, "+X+"px)":"translate3d("+Y+"px, "+X+"px, 0)",ve)):Object.assign({},Ue,((a={})[pe]=Ce?X+"px":"",a[le]=_e?Y+"px":"",a.transform="",a))}const Nc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(d){var a=d.state,c=d.options,p=c.gpuAcceleration,_=p===void 0||p,E=c.adaptive,I=E===void 0||E,A=c.roundOffsets,L=A===void 0||A,F={placement:wn(a.placement),variation:Ai(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:_,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,Cm(Object.assign({},F,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:I,roundOffsets:L})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,Cm(Object.assign({},F,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:L})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})},data:{}};var Ia={passive:!0};const Dc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(d){var a=d.state,c=d.instance,p=d.options,_=p.scroll,E=_===void 0||_,I=p.resize,A=I===void 0||I,L=Ut(a.elements.popper),F=[].concat(a.scrollParents.reference,a.scrollParents.popper);return E&&F.forEach(function(U){U.addEventListener("scroll",c.update,Ia)}),A&&L.addEventListener("resize",c.update,Ia),function(){E&&F.forEach(function(U){U.removeEventListener("scroll",c.update,Ia)}),A&&L.removeEventListener("resize",c.update,Ia)}},data:{}};var XE={left:"right",right:"left",bottom:"top",top:"bottom"};function xa(d){return d.replace(/left|right|bottom|top/g,function(a){return XE[a]})}var JE={start:"end",end:"start"};function Tm(d){return d.replace(/start|end/g,function(a){return JE[a]})}function bc(d){var a=Ut(d);return{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function Pc(d){return xi(tr(d)).left+bc(d).scrollLeft}function Lc(d){var a=Pn(d),c=a.overflow,p=a.overflowX,_=a.overflowY;return/auto|scroll|overlay|hidden/.test(c+_+p)}function km(d){return["html","body","#document"].indexOf(vn(d))>=0?d.ownerDocument.body:Xt(d)&&Lc(d)?d:km(ka(d))}function Os(d,a){var c;a===void 0&&(a=[]);var p=km(d),_=p===((c=d.ownerDocument)==null?void 0:c.body),E=Ut(p),I=_?[E].concat(E.visualViewport||[],Lc(p)?p:[]):p,A=a.concat(I);return _?A:A.concat(Os(ka(I)))}function Oc(d){return Object.assign({},d,{left:d.x,top:d.y,right:d.x+d.width,bottom:d.y+d.height})}function Im(d,a,c){return a===Ec?Oc(function(p,_){var E=Ut(p),I=tr(p),A=E.visualViewport,L=I.clientWidth,F=I.clientHeight,U=0,R=0;if(A){L=A.width,F=A.height;var se=ym();(se||!se&&_==="fixed")&&(U=A.offsetLeft,R=A.offsetTop)}return{width:L,height:F,x:U+Pc(p),y:R}}(d,c)):Rr(a)?function(p,_){var E=xi(p,!1,_==="fixed");return E.top=E.top+p.clientTop,E.left=E.left+p.clientLeft,E.bottom=E.top+p.clientHeight,E.right=E.left+p.clientWidth,E.width=p.clientWidth,E.height=p.clientHeight,E.x=E.left,E.y=E.top,E}(a,c):Oc(function(p){var _,E=tr(p),I=bc(p),A=(_=p.ownerDocument)==null?void 0:_.body,L=Mr(E.scrollWidth,E.clientWidth,A?A.scrollWidth:0,A?A.clientWidth:0),F=Mr(E.scrollHeight,E.clientHeight,A?A.scrollHeight:0,A?A.clientHeight:0),U=-I.scrollLeft+Pc(p),R=-I.scrollTop;return Pn(A||E).direction==="rtl"&&(U+=Mr(E.clientWidth,A?A.clientWidth:0)-L),{width:L,height:F,x:U,y:R}}(tr(d)))}function xm(d){var a,c=d.reference,p=d.element,_=d.placement,E=_?wn(_):null,I=_?Ai(_):null,A=c.x+c.width/2-p.width/2,L=c.y+c.height/2-p.height/2;switch(E){case Ct:a={x:A,y:c.y-p.height};break;case Ft:a={x:A,y:c.y+c.height};break;case jt:a={x:c.x+c.width,y:L};break;case Tt:a={x:c.x-p.width,y:L};break;default:a={x:c.x,y:c.y}}var F=E?Ac(E):null;if(F!=null){var U=F==="y"?"height":"width";switch(I){case $r:a[F]=a[F]-(c[U]/2-p[U]/2);break;case Ti:a[F]=a[F]+(c[U]/2-p[U]/2)}}return a}function Ni(d,a){a===void 0&&(a={});var c=a,p=c.placement,_=p===void 0?d.placement:p,E=c.strategy,I=E===void 0?d.strategy:E,A=c.boundary,L=A===void 0?sm:A,F=c.rootBoundary,U=F===void 0?Ec:F,R=c.elementContext,se=R===void 0?ki:R,Y=c.altBoundary,te=Y!==void 0&&Y,X=c.padding,ne=X===void 0?0:X,_e=_m(typeof ne!="number"?ne:Em(ne,Ci)),Ce=se===ki?om:ki,le=d.rects.popper,pe=d.elements[te?Ce:se],oe=function(kt,Jt,Zt,Re){var _n=Jt==="clippingParents"?function(Se){var It=Os(ka(Se)),en=["absolute","fixed"].indexOf(Pn(Se).position)>=0&&Xt(Se)?Ps(Se):Se;return Rr(en)?It.filter(function(nr){return Rr(nr)&&vm(nr,en)&&vn(nr)!=="body"}):[]}(kt):[].concat(Jt),En=[].concat(_n,[Zt]),Di=En[0],Ze=En.reduce(function(Se,It){var en=Im(kt,It,Re);return Se.top=Mr(en.top,Se.top),Se.right=Ta(en.right,Se.right),Se.bottom=Ta(en.bottom,Se.bottom),Se.left=Mr(en.left,Se.left),Se},Im(kt,Di,Re));return Ze.width=Ze.right-Ze.left,Ze.height=Ze.bottom-Ze.top,Ze.x=Ze.left,Ze.y=Ze.top,Ze}(Rr(pe)?pe:pe.contextElement||tr(d.elements.popper),L,U,I),he=xi(d.elements.reference),ye=xm({reference:he,element:le,strategy:"absolute",placement:_}),Ee=Oc(Object.assign({},le,ye)),ve=se===ki?Ee:he,Ue={top:oe.top-ve.top+_e.top,bottom:ve.bottom-oe.bottom+_e.bottom,left:oe.left-ve.left+_e.left,right:ve.right-oe.right+_e.right},Vt=d.modifiersData.offset;if(se===ki&&Vt){var un=Vt[_];Object.keys(Ue).forEach(function(kt){var Jt=[jt,Ft].indexOf(kt)>=0?1:-1,Zt=[Ct,Ft].indexOf(kt)>=0?"y":"x";Ue[kt]+=un[Zt]*Jt})}return Ue}function ZE(d,a){a===void 0&&(a={});var c=a,p=c.placement,_=c.boundary,E=c.rootBoundary,I=c.padding,A=c.flipVariations,L=c.allowedAutoPlacements,F=L===void 0?Cc:L,U=Ai(p),R=U?A?Sc:Sc.filter(function(te){return Ai(te)===U}):Ci,se=R.filter(function(te){return F.indexOf(te)>=0});se.length===0&&(se=R);var Y=se.reduce(function(te,X){return te[X]=Ni(d,{placement:X,boundary:_,rootBoundary:E,padding:I})[wn(X)],te},{});return Object.keys(Y).sort(function(te,X){return Y[te]-Y[X]})}const Am={name:"flip",enabled:!0,phase:"main",fn:function(d){var a=d.state,c=d.options,p=d.name;if(!a.modifiersData[p]._skip){for(var _=c.mainAxis,E=_===void 0||_,I=c.altAxis,A=I===void 0||I,L=c.fallbackPlacements,F=c.padding,U=c.boundary,R=c.rootBoundary,se=c.altBoundary,Y=c.flipVariations,te=Y===void 0||Y,X=c.allowedAutoPlacements,ne=a.options.placement,_e=wn(ne),Ce=L||(_e!==ne&&te?function(Se){if(wn(Se)===Ca)return[];var It=xa(Se);return[Tm(Se),It,Tm(It)]}(ne):[xa(ne)]),le=[ne].concat(Ce).reduce(function(Se,It){return Se.concat(wn(It)===Ca?ZE(a,{placement:It,boundary:U,rootBoundary:R,padding:F,flipVariations:te,allowedAutoPlacements:X}):It)},[]),pe=a.rects.reference,oe=a.rects.popper,he=new Map,ye=!0,Ee=le[0],ve=0;ve<le.length;ve++){var Ue=le[ve],Vt=wn(Ue),un=Ai(Ue)===$r,kt=[Ct,Ft].indexOf(Vt)>=0,Jt=kt?"width":"height",Zt=Ni(a,{placement:Ue,boundary:U,rootBoundary:R,altBoundary:se,padding:F}),Re=kt?un?jt:Tt:un?Ft:Ct;pe[Jt]>oe[Jt]&&(Re=xa(Re));var _n=xa(Re),En=[];if(E&&En.push(Zt[Vt]<=0),A&&En.push(Zt[Re]<=0,Zt[_n]<=0),En.every(function(Se){return Se})){Ee=Ue,ye=!1;break}he.set(Ue,En)}if(ye)for(var Di=function(Se){var It=le.find(function(en){var nr=he.get(en);if(nr)return nr.slice(0,Se).every(function(Ma){return Ma})});if(It)return Ee=It,"break"},Ze=te?3:1;Ze>0&&Di(Ze)!=="break";Ze--);a.placement!==Ee&&(a.modifiersData[p]._skip=!0,a.placement=Ee,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Nm(d,a,c){return c===void 0&&(c={x:0,y:0}),{top:d.top-a.height-c.y,right:d.right-a.width+c.x,bottom:d.bottom-a.height+c.y,left:d.left-a.width-c.x}}function Dm(d){return[Ct,jt,Ft,Tt].some(function(a){return d[a]>=0})}const bm={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(d){var a=d.state,c=d.name,p=a.rects.reference,_=a.rects.popper,E=a.modifiersData.preventOverflow,I=Ni(a,{elementContext:"reference"}),A=Ni(a,{altBoundary:!0}),L=Nm(I,p),F=Nm(A,_,E),U=Dm(L),R=Dm(F);a.modifiersData[c]={referenceClippingOffsets:L,popperEscapeOffsets:F,isReferenceHidden:U,hasPopperEscaped:R},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":U,"data-popper-escaped":R})}},Pm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(d){var a=d.state,c=d.options,p=d.name,_=c.offset,E=_===void 0?[0,0]:_,I=Cc.reduce(function(U,R){return U[R]=function(se,Y,te){var X=wn(se),ne=[Tt,Ct].indexOf(X)>=0?-1:1,_e=typeof te=="function"?te(Object.assign({},Y,{placement:se})):te,Ce=_e[0],le=_e[1];return Ce=Ce||0,le=(le||0)*ne,[Tt,jt].indexOf(X)>=0?{x:le,y:Ce}:{x:Ce,y:le}}(R,a.rects,E),U},{}),A=I[a.placement],L=A.x,F=A.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=L,a.modifiersData.popperOffsets.y+=F),a.modifiersData[p]=I}},$c={name:"popperOffsets",enabled:!0,phase:"read",fn:function(d){var a=d.state,c=d.name;a.modifiersData[c]=xm({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})},data:{}},Lm={name:"preventOverflow",enabled:!0,phase:"main",fn:function(d){var a=d.state,c=d.options,p=d.name,_=c.mainAxis,E=_===void 0||_,I=c.altAxis,A=I!==void 0&&I,L=c.boundary,F=c.rootBoundary,U=c.altBoundary,R=c.padding,se=c.tether,Y=se===void 0||se,te=c.tetherOffset,X=te===void 0?0:te,ne=Ni(a,{boundary:L,rootBoundary:F,padding:R,altBoundary:U}),_e=wn(a.placement),Ce=Ai(a.placement),le=!Ce,pe=Ac(_e),oe=pe==="x"?"y":"x",he=a.modifiersData.popperOffsets,ye=a.rects.reference,Ee=a.rects.popper,ve=typeof X=="function"?X(Object.assign({},a.rects,{placement:a.placement})):X,Ue=typeof ve=="number"?{mainAxis:ve,altAxis:ve}:Object.assign({mainAxis:0,altAxis:0},ve),Vt=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,un={x:0,y:0};if(he){if(E){var kt,Jt=pe==="y"?Ct:Tt,Zt=pe==="y"?Ft:jt,Re=pe==="y"?"height":"width",_n=he[pe],En=_n+ne[Jt],Di=_n-ne[Zt],Ze=Y?-Ee[Re]/2:0,Se=Ce===$r?ye[Re]:Ee[Re],It=Ce===$r?-Ee[Re]:-ye[Re],en=a.elements.arrow,nr=Y&&en?xc(en):{width:0,height:0},Ma=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},vg=Ma[Jt],wg=Ma[Zt],Fa=Ls(0,ye[Re],nr[Re]),BS=le?ye[Re]/2-Ze-Fa-vg-Ue.mainAxis:Se-Fa-vg-Ue.mainAxis,zS=le?-ye[Re]/2+Ze+Fa+wg+Ue.mainAxis:It+Fa+wg+Ue.mainAxis,Bc=a.elements.arrow&&Ps(a.elements.arrow),HS=Bc?pe==="y"?Bc.clientTop||0:Bc.clientLeft||0:0,_g=(kt=Vt==null?void 0:Vt[pe])!=null?kt:0,WS=_n+zS-_g,Eg=Ls(Y?Ta(En,_n+BS-_g-HS):En,_n,Y?Mr(Di,WS):Di);he[pe]=Eg,un[pe]=Eg-_n}if(A){var Sg,qS=pe==="x"?Ct:Tt,KS=pe==="x"?Ft:jt,Br=he[oe],ja=oe==="y"?"height":"width",Cg=Br+ne[qS],Tg=Br-ne[KS],zc=[Ct,Tt].indexOf(_e)!==-1,kg=(Sg=Vt==null?void 0:Vt[oe])!=null?Sg:0,Ig=zc?Cg:Br-ye[ja]-Ee[ja]-kg+Ue.altAxis,xg=zc?Br+ye[ja]+Ee[ja]-kg-Ue.altAxis:Tg,Ag=Y&&zc?function(QS,GS,Hc){var Ng=Ls(QS,GS,Hc);return Ng>Hc?Hc:Ng}(Ig,Br,xg):Ls(Y?Ig:Cg,Br,Y?xg:Tg);he[oe]=Ag,un[oe]=Ag-Br}a.modifiersData[p]=un}},requiresIfExists:["offset"]};function eS(d,a,c){c===void 0&&(c=!1);var p,_,E=Xt(a),I=Xt(a)&&function(R){var se=R.getBoundingClientRect(),Y=Ii(se.width)/R.offsetWidth||1,te=Ii(se.height)/R.offsetHeight||1;return Y!==1||te!==1}(a),A=tr(a),L=xi(d,I,c),F={scrollLeft:0,scrollTop:0},U={x:0,y:0};return(E||!E&&!c)&&((vn(a)!=="body"||Lc(A))&&(F=(p=a)!==Ut(p)&&Xt(p)?{scrollLeft:(_=p).scrollLeft,scrollTop:_.scrollTop}:bc(p)),Xt(a)?((U=xi(a,!0)).x+=a.clientLeft,U.y+=a.clientTop):A&&(U.x=Pc(A))),{x:L.left+F.scrollLeft-U.x,y:L.top+F.scrollTop-U.y,width:L.width,height:L.height}}function tS(d){var a=new Map,c=new Set,p=[];function _(E){c.add(E.name),[].concat(E.requires||[],E.requiresIfExists||[]).forEach(function(I){if(!c.has(I)){var A=a.get(I);A&&_(A)}}),p.push(E)}return d.forEach(function(E){a.set(E.name,E)}),d.forEach(function(E){c.has(E.name)||_(E)}),p}var Om={placement:"bottom",modifiers:[],strategy:"absolute"};function $m(){for(var d=arguments.length,a=new Array(d),c=0;c<d;c++)a[c]=arguments[c];return!a.some(function(p){return!(p&&typeof p.getBoundingClientRect=="function")})}function Aa(d){d===void 0&&(d={});var a=d,c=a.defaultModifiers,p=c===void 0?[]:c,_=a.defaultOptions,E=_===void 0?Om:_;return function(I,A,L){L===void 0&&(L=E);var F,U,R={placement:"bottom",orderedModifiers:[],options:Object.assign({},Om,E),modifiersData:{},elements:{reference:I,popper:A},attributes:{},styles:{}},se=[],Y=!1,te={state:R,setOptions:function(ne){var _e=typeof ne=="function"?ne(R.options):ne;X(),R.options=Object.assign({},E,R.options,_e),R.scrollParents={reference:Rr(I)?Os(I):I.contextElement?Os(I.contextElement):[],popper:Os(A)};var Ce,le,pe=function(oe){var he=tS(oe);return gm.reduce(function(ye,Ee){return ye.concat(he.filter(function(ve){return ve.phase===Ee}))},[])}((Ce=[].concat(p,R.options.modifiers),le=Ce.reduce(function(oe,he){var ye=oe[he.name];return oe[he.name]=ye?Object.assign({},ye,he,{options:Object.assign({},ye.options,he.options),data:Object.assign({},ye.data,he.data)}):he,oe},{}),Object.keys(le).map(function(oe){return le[oe]})));return R.orderedModifiers=pe.filter(function(oe){return oe.enabled}),R.orderedModifiers.forEach(function(oe){var he=oe.name,ye=oe.options,Ee=ye===void 0?{}:ye,ve=oe.effect;if(typeof ve=="function"){var Ue=ve({state:R,name:he,instance:te,options:Ee});se.push(Ue||function(){})}}),te.update()},forceUpdate:function(){if(!Y){var ne=R.elements,_e=ne.reference,Ce=ne.popper;if($m(_e,Ce)){R.rects={reference:eS(_e,Ps(Ce),R.options.strategy==="fixed"),popper:xc(Ce)},R.reset=!1,R.placement=R.options.placement,R.orderedModifiers.forEach(function(ve){return R.modifiersData[ve.name]=Object.assign({},ve.data)});for(var le=0;le<R.orderedModifiers.length;le++)if(R.reset!==!0){var pe=R.orderedModifiers[le],oe=pe.fn,he=pe.options,ye=he===void 0?{}:he,Ee=pe.name;typeof oe=="function"&&(R=oe({state:R,options:ye,name:Ee,instance:te})||R)}else R.reset=!1,le=-1}}},update:(F=function(){return new Promise(function(ne){te.forceUpdate(),ne(R)})},function(){return U||(U=new Promise(function(ne){Promise.resolve().then(function(){U=void 0,ne(F())})})),U}),destroy:function(){X(),Y=!0}};if(!$m(I,A))return te;function X(){se.forEach(function(ne){return ne()}),se=[]}return te.setOptions(L).then(function(ne){!Y&&L.onFirstUpdate&&L.onFirstUpdate(ne)}),te}}var nS=Aa(),rS=Aa({defaultModifiers:[Dc,$c,Nc,kc]}),Rc=Aa({defaultModifiers:[Dc,$c,Nc,kc,Pm,Am,Lm,Sm,bm]});const Rm=Object.freeze(Object.defineProperty({__proto__:null,afterMain:dm,afterRead:um,afterWrite:mm,applyStyles:kc,arrow:Sm,auto:Ca,basePlacements:Ci,beforeMain:cm,beforeRead:am,beforeWrite:fm,bottom:Ft,clippingParents:sm,computeStyles:Nc,createPopper:Rc,createPopperBase:nS,createPopperLite:rS,detectOverflow:Ni,end:Ti,eventListeners:Dc,flip:Am,hide:bm,left:Tt,main:hm,modifierPhases:gm,offset:Pm,placements:Cc,popper:ki,popperGenerator:Aa,popperOffsets:$c,preventOverflow:Lm,read:lm,reference:om,right:jt,start:$r,top:Ct,variationPlacements:Sc,viewport:Ec,write:pm},Symbol.toStringTag,{value:"Module"})),Mm="dropdown",iS="ArrowUp",Fm="ArrowDown",jm="click.bs.dropdown.data-api",Um="keydown.bs.dropdown.data-api",$s="show",Fr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',sS=`${Fr}.show`,Na=".dropdown-menu",oS=N()?"top-end":"top-start",aS=N()?"top-start":"top-end",lS=N()?"bottom-end":"bottom-start",uS=N()?"bottom-start":"bottom-end",cS=N()?"left-start":"right-start",hS=N()?"right-start":"left-start",dS={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},fS={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ln extends We{constructor(a,c){super(a,c),this._popper=null,this._parent=this._element.parentNode,this._menu=q.next(this._element,Na)[0]||q.prev(this._element,Na)[0]||q.findOne(Na,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return dS}static get DefaultType(){return fS}static get NAME(){return Mm}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const a={relatedTarget:this._element};if(!T.trigger(this._element,"show.bs.dropdown",a).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const c of[].concat(...document.body.children))T.on(c,"mouseover",y);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($s),this._element.classList.add($s),T.trigger(this._element,"shown.bs.dropdown",a)}}hide(){if(f(this._element)||!this._isShown())return;const a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){if(!T.trigger(this._element,"hide.bs.dropdown",a).defaultPrevented){if("ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))T.off(c,"mouseover",y);this._popper&&this._popper.destroy(),this._menu.classList.remove($s),this._element.classList.remove($s),this._element.setAttribute("aria-expanded","false"),it.removeDataAttribute(this._menu,"popper"),T.trigger(this._element,"hidden.bs.dropdown",a)}}_getConfig(a){if(typeof(a=super._getConfig(a)).reference=="object"&&!l(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${Mm.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(){if(Rm===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let a=this._element;this._config.reference==="parent"?a=this._parent:l(this._config.reference)?a=u(this._config.reference):typeof this._config.reference=="object"&&(a=this._config.reference);const c=this._getPopperConfig();this._popper=Rc(a,this._menu,c)}_isShown(){return this._menu.classList.contains($s)}_getPlacement(){const a=this._parent;if(a.classList.contains("dropend"))return cS;if(a.classList.contains("dropstart"))return hS;if(a.classList.contains("dropup-center"))return"top";if(a.classList.contains("dropdown-center"))return"bottom";const c=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains("dropup")?c?aS:oS:c?uS:lS}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(c=>Number.parseInt(c,10)):typeof a=="function"?c=>a(c,this._element):a}_getPopperConfig(){const a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(it.setDataAttribute(this._menu,"popper","static"),a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...m(this._config.popperConfig,[a])}}_selectMenuItem({key:a,target:c}){const p=q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(_=>h(_));p.length&&x(p,c,a===Fm,!p.includes(c)).focus()}static jQueryInterface(a){return this.each(function(){const c=ln.getOrCreateInstance(this,a);if(typeof a=="string"){if(c[a]===void 0)throw new TypeError(`No method named "${a}"`);c[a]()}})}static clearMenus(a){if(a.button===2||a.type==="keyup"&&a.key!=="Tab")return;const c=q.find(sS);for(const p of c){const _=ln.getInstance(p);if(!_||_._config.autoClose===!1)continue;const E=a.composedPath(),I=E.includes(_._menu);if(E.includes(_._element)||_._config.autoClose==="inside"&&!I||_._config.autoClose==="outside"&&I||_._menu.contains(a.target)&&(a.type==="keyup"&&a.key==="Tab"||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;const A={relatedTarget:_._element};a.type==="click"&&(A.clickEvent=a),_._completeHide(A)}}static dataApiKeydownHandler(a){const c=/input|textarea/i.test(a.target.tagName),p=a.key==="Escape",_=[iS,Fm].includes(a.key);if(!_&&!p||c&&!p)return;a.preventDefault();const E=this.matches(Fr)?this:q.prev(this,Fr)[0]||q.next(this,Fr)[0]||q.findOne(Fr,a.delegateTarget.parentNode),I=ln.getOrCreateInstance(E);if(_)return a.stopPropagation(),I.show(),void I._selectMenuItem(a);I._isShown()&&(a.stopPropagation(),I.hide(),E.focus())}}T.on(document,Um,Fr,ln.dataApiKeydownHandler),T.on(document,Um,Na,ln.dataApiKeydownHandler),T.on(document,jm,ln.clearMenus),T.on(document,"keyup.bs.dropdown.data-api",ln.clearMenus),T.on(document,jm,Fr,function(d){d.preventDefault(),ln.getOrCreateInstance(this).toggle()}),v(ln);const Vm="show",Bm="mousedown.bs.backdrop",pS={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},mS={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class zm extends bn{constructor(a){super(),this._config=this._getConfig(a),this._isAppended=!1,this._element=null}static get Default(){return pS}static get DefaultType(){return mS}static get NAME(){return"backdrop"}show(a){if(!this._config.isVisible)return void m(a);this._append();const c=this._getElement();this._config.isAnimated&&S(c),c.classList.add(Vm),this._emulateAnimation(()=>{m(a)})}hide(a){this._config.isVisible?(this._getElement().classList.remove(Vm),this._emulateAnimation(()=>{this.dispose(),m(a)})):m(a)}dispose(){this._isAppended&&(T.off(this._element,Bm),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add("fade"),this._element=a}return this._element}_configAfterMerge(a){return a.rootElement=u(a.rootElement),a}_append(){if(this._isAppended)return;const a=this._getElement();this._config.rootElement.append(a),T.on(a,Bm,()=>{m(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(a){w(a,this._getElement(),this._config.isAnimated)}}const Hm=".bs.focustrap",Wm="backward",gS={autofocus:!0,trapElement:null},yS={autofocus:"boolean",trapElement:"element"};class qm extends bn{constructor(a){super(),this._config=this._getConfig(a),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return gS}static get DefaultType(){return yS}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),T.off(document,Hm),T.on(document,"focusin.bs.focustrap",a=>this._handleFocusin(a)),T.on(document,"keydown.tab.bs.focustrap",a=>this._handleKeydown(a)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,T.off(document,Hm))}_handleFocusin(a){const{trapElement:c}=this._config;if(a.target===document||a.target===c||c.contains(a.target))return;const p=q.focusableChildren(c);p.length===0?c.focus():this._lastTabNavDirection===Wm?p[p.length-1].focus():p[0].focus()}_handleKeydown(a){a.key==="Tab"&&(this._lastTabNavDirection=a.shiftKey?Wm:"forward")}}const Km=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Qm=".sticky-top",Da="padding-right",Gm="margin-right";class Mc{constructor(){this._element=document.body}getWidth(){const a=document.documentElement.clientWidth;return Math.abs(window.innerWidth-a)}hide(){const a=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Da,c=>c+a),this._setElementAttributes(Km,Da,c=>c+a),this._setElementAttributes(Qm,Gm,c=>c-a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Da),this._resetElementAttributes(Km,Da),this._resetElementAttributes(Qm,Gm)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(a,c,p){const _=this.getWidth();this._applyManipulationCallback(a,E=>{if(E!==this._element&&window.innerWidth>E.clientWidth+_)return;this._saveInitialAttribute(E,c);const I=window.getComputedStyle(E).getPropertyValue(c);E.style.setProperty(c,`${p(Number.parseFloat(I))}px`)})}_saveInitialAttribute(a,c){const p=a.style.getPropertyValue(c);p&&it.setDataAttribute(a,c,p)}_resetElementAttributes(a,c){this._applyManipulationCallback(a,p=>{const _=it.getDataAttribute(p,c);_!==null?(it.removeDataAttribute(p,c),p.style.setProperty(c,_)):p.style.removeProperty(c)})}_applyManipulationCallback(a,c){if(l(a))c(a);else for(const p of q.find(a,this._element))c(p)}}const Ym=".bs.modal",Xm="hidden.bs.modal",Jm="show.bs.modal",Zm="modal-open",eg="show",Fc="modal-static",vS={backdrop:!0,focus:!0,keyboard:!0},wS={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class jr extends We{constructor(a,c){super(a,c),this._dialog=q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Mc,this._addEventListeners()}static get Default(){return vS}static get DefaultType(){return wS}static get NAME(){return"modal"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||this._isTransitioning||T.trigger(this._element,Jm,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Zm),this._adjustDialog(),this._backdrop.show(()=>this._showElement(a)))}hide(){this._isShown&&!this._isTransitioning&&(T.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(eg),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){T.off(window,Ym),T.off(this._dialog,Ym),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new zm({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new qm({trapElement:this._element})}_showElement(a){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const c=q.findOne(".modal-body",this._dialog);c&&(c.scrollTop=0),S(this._element),this._element.classList.add(eg),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,T.trigger(this._element,"shown.bs.modal",{relatedTarget:a})},this._dialog,this._isAnimated())}_addEventListeners(){T.on(this._element,"keydown.dismiss.bs.modal",a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),T.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),T.on(this._element,"mousedown.dismiss.bs.modal",a=>{T.one(this._element,"click.dismiss.bs.modal",c=>{this._element===a.target&&this._element===c.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Zm),this._resetAdjustments(),this._scrollBar.reset(),T.trigger(this._element,Xm)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(T.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,c=this._element.style.overflowY;c==="hidden"||this._element.classList.contains(Fc)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(Fc),this._queueCallback(()=>{this._element.classList.remove(Fc),this._queueCallback(()=>{this._element.style.overflowY=c},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const a=this._element.scrollHeight>document.documentElement.clientHeight,c=this._scrollBar.getWidth(),p=c>0;if(p&&!a){const _=N()?"paddingLeft":"paddingRight";this._element.style[_]=`${c}px`}if(!p&&a){const _=N()?"paddingRight":"paddingLeft";this._element.style[_]=`${c}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(a,c){return this.each(function(){const p=jr.getOrCreateInstance(this,a);if(typeof a=="string"){if(p[a]===void 0)throw new TypeError(`No method named "${a}"`);p[a](c)}})}}T.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(d){const a=q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&d.preventDefault(),T.one(a,Jm,p=>{p.defaultPrevented||T.one(a,Xm,()=>{h(this)&&this.focus()})});const c=q.findOne(".modal.show");c&&jr.getInstance(c).hide(),jr.getOrCreateInstance(a).toggle(this)}),ya(jr),v(jr);const tg="show",ng="showing",rg="hiding",ig=".offcanvas.show",sg="hidePrevented.bs.offcanvas",og="hidden.bs.offcanvas",_S={backdrop:!0,keyboard:!0,scroll:!1},ES={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ln extends We{constructor(a,c){super(a,c),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return _S}static get DefaultType(){return ES}static get NAME(){return"offcanvas"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||T.trigger(this._element,"show.bs.offcanvas",{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Mc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ng),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(tg),this._element.classList.remove(ng),T.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:a})},this._element,!0))}hide(){this._isShown&&(T.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(rg),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(tg,rg),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Mc().reset(),T.trigger(this._element,og)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new zm({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{this._config.backdrop!=="static"?this.hide():T.trigger(this._element,sg)}:null})}_initializeFocusTrap(){return new qm({trapElement:this._element})}_addEventListeners(){T.on(this._element,"keydown.dismiss.bs.offcanvas",a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():T.trigger(this._element,sg))})}static jQueryInterface(a){return this.each(function(){const c=Ln.getOrCreateInstance(this,a);if(typeof a=="string"){if(c[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);c[a](this)}})}}T.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(d){const a=q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),f(this))return;T.one(a,og,()=>{h(this)&&this.focus()});const c=q.findOne(ig);c&&c!==a&&Ln.getInstance(c).hide(),Ln.getOrCreateInstance(a).toggle(this)}),T.on(window,"load.bs.offcanvas.data-api",()=>{for(const d of q.find(ig))Ln.getOrCreateInstance(d).show()}),T.on(window,"resize.bs.offcanvas",()=>{for(const d of q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(d).position!=="fixed"&&Ln.getOrCreateInstance(d).hide()}),ya(Ln),v(Ln);const SS=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),CS=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,TS=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,kS=(d,a)=>{const c=d.nodeName.toLowerCase();return a.includes(c)?!SS.has(c)||!!(CS.test(d.nodeValue)||TS.test(d.nodeValue)):a.filter(p=>p instanceof RegExp).some(p=>p.test(c))},ag={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},IS={allowList:ag,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},xS={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},AS={entry:"(string|element|function|null)",selector:"(string|element)"};class NS extends bn{constructor(a){super(),this._config=this._getConfig(a)}static get Default(){return IS}static get DefaultType(){return xS}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(a=>this._resolvePossibleFunction(a)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(a){return this._checkContent(a),this._config.content={...this._config.content,...a},this}toHtml(){const a=document.createElement("div");a.innerHTML=this._maybeSanitize(this._config.template);for(const[_,E]of Object.entries(this._config.content))this._setContent(a,E,_);const c=a.children[0],p=this._resolvePossibleFunction(this._config.extraClass);return p&&c.classList.add(...p.split(" ")),c}_typeCheckConfig(a){super._typeCheckConfig(a),this._checkContent(a.content)}_checkContent(a){for(const[c,p]of Object.entries(a))super._typeCheckConfig({selector:c,entry:p},AS)}_setContent(a,c,p){const _=q.findOne(p,a);_&&((c=this._resolvePossibleFunction(c))?l(c)?this._putElementInTemplate(u(c),_):this._config.html?_.innerHTML=this._maybeSanitize(c):_.textContent=c:_.remove())}_maybeSanitize(a){return this._config.sanitize?function(c,p,_){if(!c.length)return c;if(_&&typeof _=="function")return _(c);const E=new window.DOMParser().parseFromString(c,"text/html"),I=[].concat(...E.body.querySelectorAll("*"));for(const A of I){const L=A.nodeName.toLowerCase();if(!Object.keys(p).includes(L)){A.remove();continue}const F=[].concat(...A.attributes),U=[].concat(p["*"]||[],p[L]||[]);for(const R of F)kS(R,U)||A.removeAttribute(R.nodeName)}return E.body.innerHTML}(a,this._config.allowList,this._config.sanitizeFn):a}_resolvePossibleFunction(a){return m(a,[this])}_putElementInTemplate(a,c){if(this._config.html)return c.innerHTML="",void c.append(a);c.textContent=a.textContent}}const DS=new Set(["sanitize","allowList","sanitizeFn"]),jc="fade",ba="show",lg=".modal",ug="hide.bs.modal",Pa="hover",cg="focus",bS={AUTO:"auto",TOP:"top",RIGHT:N()?"left":"right",BOTTOM:"bottom",LEFT:N()?"right":"left"},PS={allowList:ag,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},LS={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ur extends We{constructor(a,c){if(Rm===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(a,c),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return PS}static get DefaultType(){return LS}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),T.off(this._element.closest(lg),ug,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const a=T.trigger(this._element,this.constructor.eventName("show")),c=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(a.defaultPrevented||!c)return;this._disposePopper();const p=this._getTipElement();this._element.setAttribute("aria-describedby",p.getAttribute("id"));const{container:_}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(_.append(p),T.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(p),p.classList.add(ba),"ontouchstart"in document.documentElement)for(const E of[].concat(...document.body.children))T.on(E,"mouseover",y);this._queueCallback(()=>{T.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!T.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ba),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))T.off(a,"mouseover",y);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),T.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(a){const c=this._getTemplateFactory(a).toHtml();if(!c)return null;c.classList.remove(jc,ba),c.classList.add(`bs-${this.constructor.NAME}-auto`);const p=(_=>{do _+=Math.floor(1e6*Math.random());while(document.getElementById(_));return _})(this.constructor.NAME).toString();return c.setAttribute("id",p),this._isAnimated()&&c.classList.add(jc),c}setContent(a){this._newContent=a,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(a){return this._templateFactory?this._templateFactory.changeContent(a):this._templateFactory=new NS({...this._config,content:a,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(a){return this.constructor.getOrCreateInstance(a.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(jc)}_isShown(){return this.tip&&this.tip.classList.contains(ba)}_createPopper(a){const c=m(this._config.placement,[this,a,this._element]),p=bS[c.toUpperCase()];return Rc(this._element,a,this._getPopperConfig(p))}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(c=>Number.parseInt(c,10)):typeof a=="function"?c=>a(c,this._element):a}_resolvePossibleFunction(a){return m(a,[this._element])}_getPopperConfig(a){const c={placement:a,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:p=>{this._getTipElement().setAttribute("data-popper-placement",p.state.placement)}}]};return{...c,...m(this._config.popperConfig,[c])}}_setListeners(){const a=this._config.trigger.split(" ");for(const c of a)if(c==="click")T.on(this._element,this.constructor.eventName("click"),this._config.selector,p=>{this._initializeOnDelegatedTarget(p).toggle()});else if(c!=="manual"){const p=c===Pa?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),_=c===Pa?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");T.on(this._element,p,this._config.selector,E=>{const I=this._initializeOnDelegatedTarget(E);I._activeTrigger[E.type==="focusin"?cg:Pa]=!0,I._enter()}),T.on(this._element,_,this._config.selector,E=>{const I=this._initializeOnDelegatedTarget(E);I._activeTrigger[E.type==="focusout"?cg:Pa]=I._element.contains(E.relatedTarget),I._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},T.on(this._element.closest(lg),ug,this._hideModalHandler)}_fixTitle(){const a=this._element.getAttribute("title");a&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",a),this._element.setAttribute("data-bs-original-title",a),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(a,c){clearTimeout(this._timeout),this._timeout=setTimeout(a,c)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(a){const c=it.getDataAttributes(this._element);for(const p of Object.keys(c))DS.has(p)&&delete c[p];return a={...c,...typeof a=="object"&&a?a:{}},a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a.container=a.container===!1?document.body:u(a.container),typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),typeof a.title=="number"&&(a.title=a.title.toString()),typeof a.content=="number"&&(a.content=a.content.toString()),a}_getDelegateConfig(){const a={};for(const[c,p]of Object.entries(this._config))this.constructor.Default[c]!==p&&(a[c]=p);return a.selector=!1,a.trigger="manual",a}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(a){return this.each(function(){const c=Ur.getOrCreateInstance(this,a);if(typeof a=="string"){if(c[a]===void 0)throw new TypeError(`No method named "${a}"`);c[a]()}})}}v(Ur);const OS={...Ur.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$S={...Ur.DefaultType,content:"(null|string|element|function)"};class La extends Ur{static get Default(){return OS}static get DefaultType(){return $S}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(a){return this.each(function(){const c=La.getOrCreateInstance(this,a);if(typeof a=="string"){if(c[a]===void 0)throw new TypeError(`No method named "${a}"`);c[a]()}})}}v(La);const hg="click.bs.scrollspy",Rs="active",dg="[href]",RS={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},MS={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ms extends We{constructor(a,c){super(a,c),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return RS}static get DefaultType(){return MS}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const a of this._observableSections.values())this._observer.observe(a)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(a){return a.target=u(a.target)||document.body,a.rootMargin=a.offset?`${a.offset}px 0px -30%`:a.rootMargin,typeof a.threshold=="string"&&(a.threshold=a.threshold.split(",").map(c=>Number.parseFloat(c))),a}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(T.off(this._config.target,hg),T.on(this._config.target,hg,dg,a=>{const c=this._observableSections.get(a.target.hash);if(c){a.preventDefault();const p=this._rootElement||window,_=c.offsetTop-this._element.offsetTop;if(p.scrollTo)return void p.scrollTo({top:_,behavior:"smooth"});p.scrollTop=_}}))}_getNewObserver(){const a={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(c=>this._observerCallback(c),a)}_observerCallback(a){const c=I=>this._targetLinks.get(`#${I.target.id}`),p=I=>{this._previousScrollData.visibleEntryTop=I.target.offsetTop,this._process(c(I))},_=(this._rootElement||document.documentElement).scrollTop,E=_>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=_;for(const I of a){if(!I.isIntersecting){this._activeTarget=null,this._clearActiveClass(c(I));continue}const A=I.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(E&&A){if(p(I),!_)return}else E||A||p(I)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const a=q.find(dg,this._config.target);for(const c of a){if(!c.hash||f(c))continue;const p=q.findOne(c.hash,this._element);h(p)&&(this._targetLinks.set(c.hash,c),this._observableSections.set(c.hash,p))}}_process(a){this._activeTarget!==a&&(this._clearActiveClass(this._config.target),this._activeTarget=a,a.classList.add(Rs),this._activateParents(a),T.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:a}))}_activateParents(a){if(a.classList.contains("dropdown-item"))q.findOne(".dropdown-toggle",a.closest(".dropdown")).classList.add(Rs);else for(const c of q.parents(a,".nav, .list-group"))for(const p of q.prev(c,".nav-link, .nav-item > .nav-link, .list-group-item"))p.classList.add(Rs)}_clearActiveClass(a){a.classList.remove(Rs);const c=q.find("[href].active",a);for(const p of c)p.classList.remove(Rs)}static jQueryInterface(a){return this.each(function(){const c=Ms.getOrCreateInstance(this,a);if(typeof a=="string"){if(c[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);c[a]()}})}}T.on(window,"load.bs.scrollspy.data-api",()=>{for(const d of q.find('[data-bs-spy="scroll"]'))Ms.getOrCreateInstance(d)}),v(Ms);const FS="ArrowLeft",fg="ArrowRight",jS="ArrowUp",pg="ArrowDown",Oa="active",mg="fade",Uc="show",gg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Vc=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${gg}`;class Vr extends We{constructor(a){super(a),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),T.on(this._element,"keydown.bs.tab",c=>this._keydown(c)))}static get NAME(){return"tab"}show(){const a=this._element;if(this._elemIsActive(a))return;const c=this._getActiveElem(),p=c?T.trigger(c,"hide.bs.tab",{relatedTarget:a}):null;T.trigger(a,"show.bs.tab",{relatedTarget:c}).defaultPrevented||p&&p.defaultPrevented||(this._deactivate(c,a),this._activate(a,c))}_activate(a,c){a&&(a.classList.add(Oa),this._activate(q.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.removeAttribute("tabindex"),a.setAttribute("aria-selected",!0),this._toggleDropDown(a,!0),T.trigger(a,"shown.bs.tab",{relatedTarget:c})):a.classList.add(Uc)},a,a.classList.contains(mg)))}_deactivate(a,c){a&&(a.classList.remove(Oa),a.blur(),this._deactivate(q.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.setAttribute("aria-selected",!1),a.setAttribute("tabindex","-1"),this._toggleDropDown(a,!1),T.trigger(a,"hidden.bs.tab",{relatedTarget:c})):a.classList.remove(Uc)},a,a.classList.contains(mg)))}_keydown(a){if(![FS,fg,jS,pg].includes(a.key))return;a.stopPropagation(),a.preventDefault();const c=[fg,pg].includes(a.key),p=x(this._getChildren().filter(_=>!f(_)),a.target,c,!0);p&&(p.focus({preventScroll:!0}),Vr.getOrCreateInstance(p).show())}_getChildren(){return q.find(Vc,this._parent)}_getActiveElem(){return this._getChildren().find(a=>this._elemIsActive(a))||null}_setInitialAttributes(a,c){this._setAttributeIfNotExists(a,"role","tablist");for(const p of c)this._setInitialAttributesOnChild(p)}_setInitialAttributesOnChild(a){a=this._getInnerElement(a);const c=this._elemIsActive(a),p=this._getOuterElement(a);a.setAttribute("aria-selected",c),p!==a&&this._setAttributeIfNotExists(p,"role","presentation"),c||a.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(a,"role","tab"),this._setInitialAttributesOnTargetPanel(a)}_setInitialAttributesOnTargetPanel(a){const c=q.getElementFromSelector(a);c&&(this._setAttributeIfNotExists(c,"role","tabpanel"),a.id&&this._setAttributeIfNotExists(c,"aria-labelledby",`${a.id}`))}_toggleDropDown(a,c){const p=this._getOuterElement(a);if(!p.classList.contains("dropdown"))return;const _=(E,I)=>{const A=q.findOne(E,p);A&&A.classList.toggle(I,c)};_(".dropdown-toggle",Oa),_(".dropdown-menu",Uc),p.setAttribute("aria-expanded",c)}_setAttributeIfNotExists(a,c,p){a.hasAttribute(c)||a.setAttribute(c,p)}_elemIsActive(a){return a.classList.contains(Oa)}_getInnerElement(a){return a.matches(Vc)?a:q.findOne(Vc,a)}_getOuterElement(a){return a.closest(".nav-item, .list-group-item")||a}static jQueryInterface(a){return this.each(function(){const c=Vr.getOrCreateInstance(this);if(typeof a=="string"){if(c[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);c[a]()}})}}T.on(document,"click.bs.tab",gg,function(d){["A","AREA"].includes(this.tagName)&&d.preventDefault(),f(this)||Vr.getOrCreateInstance(this).show()}),T.on(window,"load.bs.tab",()=>{for(const d of q.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Vr.getOrCreateInstance(d)}),v(Vr);const yg="hide",$a="show",Ra="showing",US={animation:"boolean",autohide:"boolean",delay:"number"},VS={animation:!0,autohide:!0,delay:5e3};class Fs extends We{constructor(a,c){super(a,c),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return VS}static get DefaultType(){return US}static get NAME(){return"toast"}show(){T.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(yg),S(this._element),this._element.classList.add($a,Ra),this._queueCallback(()=>{this._element.classList.remove(Ra),T.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(T.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Ra),this._queueCallback(()=>{this._element.classList.add(yg),this._element.classList.remove(Ra,$a),T.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove($a),super.dispose()}isShown(){return this._element.classList.contains($a)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(a,c){switch(a.type){case"mouseover":case"mouseout":this._hasMouseInteraction=c;break;case"focusin":case"focusout":this._hasKeyboardInteraction=c}if(c)return void this._clearTimeout();const p=a.relatedTarget;this._element===p||this._element.contains(p)||this._maybeScheduleHide()}_setListeners(){T.on(this._element,"mouseover.bs.toast",a=>this._onInteraction(a,!0)),T.on(this._element,"mouseout.bs.toast",a=>this._onInteraction(a,!1)),T.on(this._element,"focusin.bs.toast",a=>this._onInteraction(a,!0)),T.on(this._element,"focusout.bs.toast",a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const c=Fs.getOrCreateInstance(this,a);if(typeof a=="string"){if(c[a]===void 0)throw new TypeError(`No method named "${a}"`);c[a](this)}})}}return ya(Fs),v(Fs),{Alert:Ns,Button:Ds,Carousel:Ei,Collapse:Si,Dropdown:ln,Modal:jr,Offcanvas:Ln,Popover:La,ScrollSpy:Ms,Tab:Vr,Toast:Fs,Tooltip:Ur}})})(Ik);/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oo(){return Oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oo.apply(this,arguments)}var cr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cr||(cr={}));const Uy="popstate";function xk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Od("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zl(i)}return Nk(e,n,null,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function op(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ak(){return Math.random().toString(36).substr(2,8)}function Vy(t,e){return{usr:t.state,key:t.key,idx:e}}function Od(t,e,n,r){return n===void 0&&(n=null),Oo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_s(e):e,{state:n,key:e&&e.key||r||Ak()})}function Zl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Nk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=cr.Pop,u=null,h=f();h==null&&(h=0,o.replaceState(Oo({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function g(){l=cr.Pop;let N=f(),v=N==null?null:N-h;h=N,u&&u({action:l,location:C.location,delta:v})}function y(N,v){l=cr.Push;let m=Od(C.location,N,v);n&&n(m,N),h=f()+1;let w=Vy(m,h),x=C.createHref(m);try{o.pushState(w,"",x)}catch{i.location.assign(x)}s&&u&&u({action:l,location:C.location,delta:1})}function S(N,v){l=cr.Replace;let m=Od(C.location,N,v);n&&n(m,N),h=f();let w=Vy(m,h),x=C.createHref(m);o.replaceState(w,"",x),s&&u&&u({action:l,location:C.location,delta:0})}function k(N){let v=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof N=="string"?N:Zl(N);return Ge(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let C={get action(){return l},get location(){return t(i,o)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Uy,g),u=N,()=>{i.removeEventListener(Uy,g),u=null}},createHref(N){return e(i,N)},createURL:k,encodeLocation(N){let v=k(N);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:y,replace:S,go(N){return o.go(N)}};return C}var By;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(By||(By={}));function Dk(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?_s(e):e,i=ap(r.pathname||"/",n);if(i==null)return null;let s=s1(t);bk(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=Uk(s[l],zk(i));return o}function s1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ge(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=wr([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Ge(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),s1(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:Fk(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of o1(s.path))i(s,o,u)}),e}function o1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=o1(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function bk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Pk=/^:\w+$/,Lk=3,Ok=2,$k=1,Rk=10,Mk=-2,zy=t=>t==="*";function Fk(t,e){let n=t.split("/"),r=n.length;return n.some(zy)&&(r+=Mk),e&&(r+=Ok),n.filter(i=>!zy(i)).reduce((i,s)=>i+(Pk.test(s)?Lk:s===""?$k:Rk),r)}function jk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Uk(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Vk({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h);if(!f)return null;Object.assign(r,f.params);let g=l.route;s.push({params:r,pathname:wr([i,f.pathname]),pathnameBase:Kk(wr([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=wr([i,f.pathnameBase]))}return s}function Vk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Bk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,g)=>{if(f==="*"){let y=l[g]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}return h[f]=Hk(l[g]||"",f),h},{}),pathname:s,pathnameBase:o,pattern:t}}function Bk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),op(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zk(t){try{return decodeURI(t)}catch(e){return op(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hk(t,e){try{return decodeURIComponent(t)}catch(n){return op(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ap(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Wk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_s(t):t;return{pathname:n?n.startsWith("/")?n:qk(n,e):e,search:Qk(r),hash:Gk(i)}}function qk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function l1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_s(t):(i=Oo({},t),Ge(!i.pathname||!i.pathname.includes("?"),yh("?","pathname","search",i)),Ge(!i.pathname||!i.pathname.includes("#"),yh("#","pathname","hash",i)),Ge(!i.search||!i.search.includes("#"),yh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let g=e.length-1;if(o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}l=g>=0?e[g]:"/"}let u=Wk(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const wr=t=>t.join("/").replace(/\/\/+/g,"/"),Kk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Yk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const Jk=typeof Object.is=="function"?Object.is:Xk,{useState:Zk,useEffect:eI,useLayoutEffect:tI,useDebugValue:nI}=Fh;function rI(t,e,n){const r=e(),[{inst:i},s]=Zk({inst:{value:r,getSnapshot:e}});return tI(()=>{i.value=r,i.getSnapshot=e,vh(i)&&s({inst:i})},[t,r,e]),eI(()=>(vh(i)&&s({inst:i}),t(()=>{vh(i)&&s({inst:i})})),[t]),nI(r),r}function vh(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!Jk(n,r)}catch{return!0}}function iI(t,e,n){return e()}const sI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oI=!sI,aI=oI?iI:rI;"useSyncExternalStore"in Fh&&(t=>t.useSyncExternalStore)(Fh);const u1=$.createContext(null),lp=$.createContext(null),Es=$.createContext(null),Mu=$.createContext(null),fi=$.createContext({outlet:null,matches:[]}),c1=$.createContext(null);function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(this,arguments)}function lI(t,e){let{relative:n}=e===void 0?{}:e;ea()||Ge(!1);let{basename:r,navigator:i}=$.useContext(Es),{hash:s,pathname:o,search:l}=up(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:wr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function ea(){return $.useContext(Mu)!=null}function ta(){return ea()||Ge(!1),$.useContext(Mu).location}function uI(){ea()||Ge(!1);let{basename:t,navigator:e}=$.useContext(Es),{matches:n}=$.useContext(fi),{pathname:r}=ta(),i=JSON.stringify(a1(n).map(l=>l.pathnameBase)),s=$.useRef(!1);return $.useEffect(()=>{s.current=!0}),$.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){e.go(l);return}let h=l1(l,JSON.parse(i),r,u.relative==="path");t!=="/"&&(h.pathname=h.pathname==="/"?t:wr([t,h.pathname])),(u.replace?e.replace:e.push)(h,u.state,u)},[t,e,i,r])}function cI(){let{matches:t}=$.useContext(fi),e=t[t.length-1];return e?e.params:{}}function up(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=$.useContext(fi),{pathname:i}=ta(),s=JSON.stringify(a1(r).map(o=>o.pathnameBase));return $.useMemo(()=>l1(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function hI(t,e){ea()||Ge(!1);let{navigator:n}=$.useContext(Es),r=$.useContext(lp),{matches:i}=$.useContext(fi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ta(),h;if(e){var f;let C=typeof e=="string"?_s(e):e;l==="/"||(f=C.pathname)!=null&&f.startsWith(l)||Ge(!1),h=C}else h=u;let g=h.pathname||"/",y=l==="/"?g:g.slice(l.length)||"/",S=Dk(t,{pathname:y}),k=mI(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:wr([l,n.encodeLocation?n.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:wr([l,n.encodeLocation?n.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,r||void 0);return e&&k?$.createElement(Mu.Provider,{value:{location:$d({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:cr.Pop}},k):k}function dI(){let t=wI(),e=Yk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,s)}class fI extends $.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?$.createElement(fi.Provider,{value:this.props.routeContext},$.createElement(c1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pI(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(u1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(fi.Provider,{value:e},r)}function mI(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Ge(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,l)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,h=null;n&&(o.route.ErrorBoundary?h=$.createElement(o.route.ErrorBoundary,null):o.route.errorElement?h=o.route.errorElement:h=$.createElement(dI,null));let f=e.concat(r.slice(0,l+1)),g=()=>{let y=s;return u?y=h:o.route.Component?y=$.createElement(o.route.Component,null):o.route.element&&(y=o.route.element),$.createElement(pI,{match:o,routeContext:{outlet:s,matches:f},children:y})};return n&&(o.route.ErrorBoundary||o.route.errorElement||l===0)?$.createElement(fI,{location:n.location,component:h,error:u,children:g(),routeContext:{outlet:null,matches:f}}):g()},null)}var Hy;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Hy||(Hy={}));var eu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(eu||(eu={}));function gI(t){let e=$.useContext(lp);return e||Ge(!1),e}function yI(t){let e=$.useContext(fi);return e||Ge(!1),e}function vI(t){let e=yI(),n=e.matches[e.matches.length-1];return n.route.id||Ge(!1),n.route.id}function wI(){var t;let e=$.useContext(c1),n=gI(eu.UseRouteError),r=vI(eu.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Cl(t){Ge(!1)}function _I(t){let{basename:e="/",children:n=null,location:r,navigationType:i=cr.Pop,navigator:s,static:o=!1}=t;ea()&&Ge(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=_s(r));let{pathname:h="/",search:f="",hash:g="",state:y=null,key:S="default"}=r,k=$.useMemo(()=>{let C=ap(h,l);return C==null?null:{location:{pathname:C,search:f,hash:g,state:y,key:S},navigationType:i}},[l,h,f,g,y,S,i]);return k==null?null:$.createElement(Es.Provider,{value:u},$.createElement(Mu.Provider,{children:n,value:k}))}function EI(t){let{children:e,location:n}=t,r=$.useContext(u1),i=r&&!e?r.router.routes:Rd(e);return hI(i,n)}var Wy;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Wy||(Wy={}));new Promise(()=>{});function Rd(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,Rd(r.props.children,s));return}r.type!==Cl&&Ge(!1),!r.props.index||!r.props.children||Ge(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Rd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}function h1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CI(t,e){return t.button===0&&(!e||e==="_self")&&!SI(t)}const TI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],kI=["aria-current","caseSensitive","className","end","style","to","children"];function II(t){let{basename:e,children:n,window:r}=t,i=$.useRef();i.current==null&&(i.current=xk({window:r,v5Compat:!0}));let s=i.current,[o,l]=$.useState({action:s.action,location:s.location});return $.useLayoutEffect(()=>s.listen(l),[s]),$.createElement(_I,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const xI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NI=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:f}=e,g=h1(e,TI),{basename:y}=$.useContext(Es),S,k=!1;if(typeof h=="string"&&AI.test(h)&&(S=h,xI)){let m=new URL(window.location.href),w=h.startsWith("//")?new URL(m.protocol+h):new URL(h),x=ap(w.pathname,y);w.origin===m.origin&&x!=null?h=x+w.search+w.hash:k=!0}let C=lI(h,{relative:i}),N=DI(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:i});function v(m){r&&r(m),m.defaultPrevented||N(m)}return $.createElement("a",tu({},g,{href:S||C,onClick:k||s?r:v,ref:n,target:u}))}),nu=$.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:u,children:h}=e,f=h1(e,kI),g=up(u,{relative:f.relative}),y=ta(),S=$.useContext(lp),{navigator:k}=$.useContext(Es),C=k.encodeLocation?k.encodeLocation(g).pathname:g.pathname,N=y.pathname,v=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(N=N.toLowerCase(),v=v?v.toLowerCase():null,C=C.toLowerCase());let m=N===C||!o&&N.startsWith(C)&&N.charAt(C.length)==="/",w=v!=null&&(v===C||!o&&v.startsWith(C)&&v.charAt(C.length)==="/"),x=m?r:void 0,O;typeof s=="function"?O=s({isActive:m,isPending:w}):O=[s,m?"active":null,w?"pending":null].filter(Boolean).join(" ");let V=typeof l=="function"?l({isActive:m,isPending:w}):l;return $.createElement(NI,tu({},f,{"aria-current":x,className:O,ref:n,style:V,to:u}),typeof h=="function"?h({isActive:m,isPending:w}):h)});var qy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(qy||(qy={}));var Ky;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function DI(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,l=uI(),u=ta(),h=up(t,{relative:o});return $.useCallback(f=>{if(CI(f,n)){f.preventDefault();let g=r!==void 0?r:Zl(u)===Zl(h);l(t,{replace:g,state:i,preventScrollReset:s,relative:o})}},[u,l,h,r,i,n,t,s,o])}const bI="_Nav_a31oe_2",PI="_Nav_Link_a31oe_6",wh={Nav:bI,Nav_Link:PI},LI=()=>at("nav",{className:wh.Nav,children:[G(nu,{to:"/eShop",className:wh.Nav_Link,children:"Home"}),G(nu,{to:"/eShop/products",className:wh.Nav_Link,children:"Products"})]}),OI=()=>at("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel",children:[at("ol",{className:"carousel-indicators",children:[G("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),G("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),G("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})]}),at("div",{className:"carousel-inner",children:[G("div",{className:"carousel-item active",children:G("img",{className:"d-block w-100",src:"src/assets/images/landscape.jpg",alt:"Landscape Photography"})}),G("div",{className:"carousel-item",children:G("img",{className:"d-block w-100",src:"src/assets/images/infant.jpg",alt:"Infant Photography"})}),G("div",{className:"carousel-item",children:G("img",{className:"d-block w-100",src:"src/assets/images/event.jpg",alt:"Event Photography"})})]}),at("a",{className:"carousel-control-prev",href:"#carouselExampleIndicatorsTESTING",role:"button","data-slide":"prev",children:[G("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),G("span",{className:"sr-only",children:"Previous"})]}),at("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next",children:[G("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),G("span",{className:"sr-only",children:"Next"})]})]}),$I="_ProductCard_1kk81_2",RI="_ProductCard_Desc_1kk81_10",MI="_ProductCard_Desc_Img_1kk81_32",_h={ProductCard:$I,ProductCard_Desc:RI,ProductCard_Desc_Img:MI},FI=t=>t.replace(/(^\w|-\w)/g,jI),jI=t=>t.replace(/-/," ").toUpperCase(),UI=({title:t,id:e,image:n,yearTaken:r,location:i,updated:s,setUpdated:o})=>{const[l,u]=$.useState("");return $.useEffect(()=>{(async()=>{const f=await FI(t);u(f)})()},[t]),at("div",{className:_h.ProductCard,children:[G("img",{src:n,alt:l,className:_h.ProductCard_Desc_Img}),G(nu,{to:`/eShop/products/${e}`,children:at("div",{className:_h.ProductCard_Desc,children:[G("h3",{children:l}),G("p",{children:i?`${i==null?void 0:i.suburb}`:"No location information"}),G("p",{children:r})]})})]})},VI="_ProductGrid_q1els_1",BI={ProductGrid:VI},d1=({items:t,updated:e,setUpdated:n})=>G("div",{className:BI.ProductGrid,children:t&&t.map(r=>G(UI,{updated:e,setUpdated:n,title:r==null?void 0:r["photo-title"],yearTaken:r==null?void 0:r.yearTaken,image:r==null?void 0:r.image,id:r==null?void 0:r.id,location:r==null?void 0:r.location},r==null?void 0:r.id))}),zI="_HomePage_1mq3n_1",HI="_HomePage_Carousel_1mq3n_7",WI="_HomePage_Grid_1mq3n_19",Eh={HomePage:zI,HomePage_Carousel:HI,HomePage_Grid:WI},qI=({items:t,updated:e,setUpdated:n})=>at("section",{className:Eh.HomePage,children:[G("article",{className:Eh.HomePage_Carousel,children:G(OI,{})}),G("article",{className:Eh.HomePage_Grid,children:G(d1,{items:t,updated:e,setUpdated:n})})]}),KI="_Header_1o0gn_2",QI="_Link_1o0gn_13",Qy={Header:KI,Link:QI},GI=()=>G("div",{className:Qy.Header,children:G(nu,{to:"/eShop",className:Qy.Link,children:G("h1",{children:"RS Photography"})})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|l>>4;let y=(l&15)<<2|h>>6,S=h&63;u||(S=64,o||(y=64)),r.push(n[f],n[g],n[y],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw new XI;const y=s<<2|l>>4;if(r.push(y),h!==64){const S=l<<4&240|h>>2;if(r.push(S),g!==64){const k=h<<6&192|g;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JI=function(t){const e=f1(t);return p1.encodeByteArray(e,!0)},ru=function(t){return JI(t).replace(/\./g,"")},ZI=function(t){try{return p1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=()=>ex().__FIREBASE_DEFAULTS__,nx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZI(t[1]);return e&&JSON.parse(e)},m1=()=>{try{return tx()||nx()||rx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ix=t=>{var e,n;return(n=(e=m1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sx=t=>{const e=ix(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ox=()=>{var t;return(t=m1())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[ru(JSON.stringify(n)),ru(JSON.stringify(o)),l].join(".")}function ux(){try{return typeof indexedDB=="object"}catch{return!1}}function cx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="FirebaseError";class Ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hx,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g1.prototype.create)}}class g1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?dx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ss(i,l,r)}}function dx(t,e){return t.replace(fx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fx=/\{\$([^}]+)}/g;function Md(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Gy(s)&&Gy(o)){if(!Md(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t){return t&&t._delegate?t._delegate:t}class $o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ax;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gx(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mx(t){return t===Wr?void 0:t}function gx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new px(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const vx={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},wx=me.INFO,_x={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Ex=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_x[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class y1{constructor(e){this.name=e,this._logLevel=wx,this._logHandler=Ex,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const Sx=(t,e)=>e.some(n=>t instanceof n);let Yy,Xy;function Cx(){return Yy||(Yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tx(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v1=new WeakMap,Fd=new WeakMap,w1=new WeakMap,Sh=new WeakMap,cp=new WeakMap;function kx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_r(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&v1.set(n,t)}).catch(()=>{}),cp.set(e,t),e}function Ix(t){if(Fd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fd.set(t,e)}let jd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xx(t){jd=t(jd)}function Ax(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ch(this),e,...n);return w1.set(r,e.sort?e.sort():[e]),_r(r)}:Tx().includes(t)?function(...e){return t.apply(Ch(this),e),_r(v1.get(this))}:function(...e){return _r(t.apply(Ch(this),e))}}function Nx(t){return typeof t=="function"?Ax(t):(t instanceof IDBTransaction&&Ix(t),Sx(t,Cx())?new Proxy(t,jd):t)}function _r(t){if(t instanceof IDBRequest)return kx(t);if(Sh.has(t))return Sh.get(t);const e=Nx(t);return e!==t&&(Sh.set(t,e),cp.set(e,t)),e}const Ch=t=>cp.get(t);function Dx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=_r(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_r(o.result),u.oldVersion,u.newVersion,_r(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const bx=["get","getKey","getAll","getAllKeys","count"],Px=["put","add","delete","clear"],Th=new Map;function Jy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Th.get(e))return Th.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Px.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bx.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return Th.set(e,s),s}xx(t=>({...t,get:(e,n,r)=>Jy(e,n)||t.get(e,n,r),has:(e,n)=>!!Jy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ox(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ox(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ud="@firebase/app",Zy="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new y1("@firebase/app"),$x="@firebase/app-compat",Rx="@firebase/analytics-compat",Mx="@firebase/analytics",Fx="@firebase/app-check-compat",jx="@firebase/app-check",Ux="@firebase/auth",Vx="@firebase/auth-compat",Bx="@firebase/database",zx="@firebase/database-compat",Hx="@firebase/functions",Wx="@firebase/functions-compat",qx="@firebase/installations",Kx="@firebase/installations-compat",Qx="@firebase/messaging",Gx="@firebase/messaging-compat",Yx="@firebase/performance",Xx="@firebase/performance-compat",Jx="@firebase/remote-config",Zx="@firebase/remote-config-compat",eA="@firebase/storage",tA="@firebase/storage-compat",nA="@firebase/firestore",rA="@firebase/firestore-compat",iA="firebase",sA="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",oA={[Ud]:"fire-core",[$x]:"fire-core-compat",[Mx]:"fire-analytics",[Rx]:"fire-analytics-compat",[jx]:"fire-app-check",[Fx]:"fire-app-check-compat",[Ux]:"fire-auth",[Vx]:"fire-auth-compat",[Bx]:"fire-rtdb",[zx]:"fire-rtdb-compat",[Hx]:"fire-fn",[Wx]:"fire-fn-compat",[qx]:"fire-iid",[Kx]:"fire-iid-compat",[Qx]:"fire-fcm",[Gx]:"fire-fcm-compat",[Yx]:"fire-perf",[Xx]:"fire-perf-compat",[Jx]:"fire-rc",[Zx]:"fire-rc-compat",[eA]:"fire-gcs",[tA]:"fire-gcs-compat",[nA]:"fire-fst",[rA]:"fire-fst-compat","fire-js":"fire-js",[iA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,Bd=new Map;function aA(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function su(t){const e=t.name;if(Bd.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Bd.set(e,t);for(const n of iu.values())aA(n,t);return!0}function lA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Er=new g1("app","Firebase",uA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=sA;function _1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Er.create("bad-app-name",{appName:String(i)});if(n||(n=ox()),!n)throw Er.create("no-options");const s=iu.get(i);if(s){if(Md(n,s.options)&&Md(r,s.config))return s;throw Er.create("duplicate-app",{appName:i})}const o=new yx(i);for(const u of Bd.values())o.addComponent(u);const l=new cA(n,r,o);return iu.set(i,l),l}function dA(t=Vd){const e=iu.get(t);if(!e&&t===Vd)return _1();if(!e)throw Er.create("no-app",{appName:t});return e}function Zi(t,e,n){var r;let i=(r=oA[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(l.join(" "));return}su(new $o(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebase-heartbeat-database",pA=1,Ro="firebase-heartbeat-store";let kh=null;function E1(){return kh||(kh=Dx(fA,pA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ro)}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),kh}async function mA(t){try{return(await E1()).transaction(Ro).objectStore(Ro).get(S1(t))}catch(e){if(e instanceof Ss)ai.warn(e.message);else{const n=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function ev(t,e){try{const r=(await E1()).transaction(Ro,"readwrite");return await r.objectStore(Ro).put(e,S1(t)),r.done}catch(n){if(n instanceof Ss)ai.warn(n.message);else{const r=Er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(r.message)}}}function S1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1024,yA=30*24*60*60*1e3;class vA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _A(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=yA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tv(),{heartbeatsToSend:n,unsentEntries:r}=wA(this._heartbeatsCache.heartbeats),i=ru(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function tv(){return new Date().toISOString().substring(0,10)}function wA(t,e=gA){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _A{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ux()?cx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await mA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nv(t){return ru(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){su(new $o("platform-logger",e=>new Lx(e),"PRIVATE")),su(new $o("heartbeat",e=>new vA(e),"PRIVATE")),Zi(Ud,Zy,t),Zi(Ud,Zy,"esm2017"),Zi("fire-js","")}EA("");var SA="firebase",CA="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(SA,CA,"app");var TA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,hp=hp||{},Z=TA||self;function ou(){}function Fu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function na(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function kA(t){return Object.prototype.hasOwnProperty.call(t,Ih)&&t[Ih]||(t[Ih]=++IA)}var Ih="closure_uid_"+(1e9*Math.random()>>>0),IA=0;function xA(t,e,n){return t.call.apply(t.bind,arguments)}function AA(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=xA:wt=AA,wt.apply(null,arguments)}function rl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ht(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function Pr(){this.s=this.s,this.o=this.o}var NA=0;Pr.prototype.s=!1;Pr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),NA!=0)&&kA(this)};Pr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function dp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Fu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function _t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var DA=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",ou,e),Z.removeEventListener("test",ou,e)}catch{}return t}();function au(t){return/^[\s\xa0]*$/.test(t)}var iv=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xh(t,e){return t<e?-1:t>e?1:0}function ju(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function kn(t){return ju().indexOf(t)!=-1}function fp(t){return fp[" "](t),t}fp[" "]=ou;function bA(t){var e=OA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var PA=kn("Opera"),us=kn("Trident")||kn("MSIE"),T1=kn("Edge"),zd=T1||us,k1=kn("Gecko")&&!(ju().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),LA=ju().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function I1(){var t=Z.document;return t?t.documentMode:void 0}var lu;e:{var Ah="",Nh=function(){var t=ju();if(k1)return/rv:([^\);]+)(\)|;)/.exec(t);if(T1)return/Edge\/([\d\.]+)/.exec(t);if(us)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(LA)return/WebKit\/(\S+)/.exec(t);if(PA)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Nh&&(Ah=Nh?Nh[1]:""),us){var Dh=I1();if(Dh!=null&&Dh>parseFloat(Ah)){lu=String(Dh);break e}}lu=Ah}var OA={};function $A(){return bA(function(){let t=0;const e=iv(String(lu)).split("."),n=iv("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=xh(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||xh(i[2].length==0,s[2].length==0)||xh(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Hd;if(Z.document&&us){var sv=I1();Hd=sv||parseInt(lu,10)||void 0}else Hd=void 0;var RA=Hd;function Mo(t,e){if(_t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(k1){e:{try{fp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:MA[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mo.X.h.call(this)}}ht(Mo,_t);var MA={2:"touch",3:"pen",4:"mouse"};Mo.prototype.h=function(){Mo.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ra="closure_listenable_"+(1e6*Math.random()|0),FA=0;function jA(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++FA,this.ba=this.ea=!1}function Uu(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function pp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function x1(t){const e={};for(const n in t)e[n]=t[n];return e}const ov="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ov.length;s++)n=ov[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Vu(t){this.src=t,this.g={},this.h=0}Vu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=qd(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new jA(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Wd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=C1(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Uu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function qd(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var mp="closure_lm_"+(1e6*Math.random()|0),bh={};function N1(t,e,n,r,i){if(r&&r.once)return b1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)N1(t,e[s],n,r,i);return null}return n=vp(n),t&&t[ra]?t.N(e,n,na(r)?!!r.capture:!!r,i):D1(t,e,n,!1,r,i)}function D1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=na(i)?!!i.capture:!!i,l=yp(t);if(l||(t[mp]=l=new Vu(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=UA(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)DA||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(L1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UA(){function t(n){return e.call(t.src,t.listener,n)}const e=VA;return t}function b1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)b1(t,e[s],n,r,i);return null}return n=vp(n),t&&t[ra]?t.O(e,n,na(r)?!!r.capture:!!r,i):D1(t,e,n,!0,r,i)}function P1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)P1(t,e[s],n,r,i);else r=na(r)?!!r.capture:!!r,n=vp(n),t&&t[ra]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=qd(s,n,r,i),-1<n&&(Uu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=yp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qd(e,n,r,i)),(n=-1<t?e[t]:null)&&gp(n))}function gp(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[ra])Wd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(L1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yp(e))?(Wd(n,t),n.h==0&&(n.src=null,e[mp]=null)):Uu(t)}}}function L1(t){return t in bh?bh[t]:bh[t]="on"+t}function VA(t,e){if(t.ba)t=!0;else{e=new Mo(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&gp(t),t=n.call(r,e)}return t}function yp(t){return t=t[mp],t instanceof Vu?t:null}var Ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function vp(t){return typeof t=="function"?t:(t[Ph]||(t[Ph]=function(e){return t.handleEvent(e)}),t[Ph])}function rt(){Pr.call(this),this.i=new Vu(this),this.P=this,this.I=null}ht(rt,Pr);rt.prototype[ra]=!0;rt.prototype.removeEventListener=function(t,e,n,r){P1(this,t,e,n,r)};function ut(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new _t(e,t);else if(e instanceof _t)e.target=e.target||t;else{var i=e;e=new _t(r,t),A1(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=il(o,r,!0,e)&&i}if(o=e.g=t,i=il(o,r,!0,e)&&i,i=il(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=il(o,r,!1,e)&&i}rt.prototype.M=function(){if(rt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uu(n[r]);delete t.g[e],t.h--}}this.I=null};rt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function il(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var l=o.listener,u=o.ha||o.src;o.ea&&Wd(t.i,o),i=l.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var wp=Z.JSON.stringify;function BA(){var t=R1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class zA{constructor(){this.h=this.g=null}add(e,n){const r=O1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var O1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new HA,t=>t.reset());class HA{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function WA(t){Z.setTimeout(()=>{throw t},0)}function $1(t,e){Kd||qA(),Qd||(Kd(),Qd=!0),R1.add(t,e)}var Kd;function qA(){var t=Z.Promise.resolve(void 0);Kd=function(){t.then(KA)}}var Qd=!1,R1=new zA;function KA(){for(var t;t=BA();){try{t.h.call(t.g)}catch(n){WA(n)}var e=O1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qd=!1}function Bu(t,e){rt.call(this),this.h=t||1,this.g=e||Z,this.j=wt(this.lb,this),this.l=Date.now()}ht(Bu,rt);H=Bu.prototype;H.ca=!1;H.R=null;H.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ut(this,"tick"),this.ca&&(_p(this),this.start()))}};H.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _p(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}H.M=function(){Bu.X.M.call(this),_p(this),delete this.g};function Ep(t,e,n){if(typeof t=="function")n&&(t=wt(t,n));else if(t&&typeof t.handleEvent=="function")t=wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function M1(t){t.g=Ep(()=>{t.g=null,t.i&&(t.i=!1,M1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class QA extends Pr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:M1(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fo(t){Pr.call(this),this.h=t,this.g={}}ht(Fo,Pr);var av=[];function F1(t,e,n,r){Array.isArray(n)||(n&&(av[0]=n.toString()),n=av);for(var i=0;i<n.length;i++){var s=N1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function j1(t){pp(t.g,function(e,n){this.g.hasOwnProperty(n)&&gp(e)},t),t.g={}}Fo.prototype.M=function(){Fo.X.M.call(this),j1(this)};Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zu(){this.g=!0}zu.prototype.Aa=function(){this.g=!1};function GA(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),u=0;u<l.length;u++){var h=l[u].split("=");if(1<h.length){var f=h[0];h=h[1];var g=f.split("_");o=2<=g.length&&g[1]=="type"?o+(f+"="+h+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function YA(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function qi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+JA(t,n)+(r?" "+r:"")})}function XA(t,e){t.info(function(){return"TIMEOUT: "+e})}zu.prototype.info=function(){};function JA(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return wp(n)}catch{return e}}var pi={},lv=null;function Hu(){return lv=lv||new rt}pi.Pa="serverreachability";function U1(t){_t.call(this,pi.Pa,t)}ht(U1,_t);function jo(t){const e=Hu();ut(e,new U1(e))}pi.STAT_EVENT="statevent";function V1(t,e){_t.call(this,pi.STAT_EVENT,t),this.stat=e}ht(V1,_t);function At(t){const e=Hu();ut(e,new V1(e,t))}pi.Qa="timingevent";function B1(t,e){_t.call(this,pi.Qa,t),this.size=e}ht(B1,_t);function ia(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var Wu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},z1={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sp(){}Sp.prototype.h=null;function uv(t){return t.h||(t.h=t.i())}function H1(){}var sa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Cp(){_t.call(this,"d")}ht(Cp,_t);function Tp(){_t.call(this,"c")}ht(Tp,_t);var Gd;function qu(){}ht(qu,Sp);qu.prototype.g=function(){return new XMLHttpRequest};qu.prototype.i=function(){return{}};Gd=new qu;function oa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Fo(this),this.O=ZA,t=zd?125:void 0,this.T=new Bu(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new W1}function W1(){this.i=null,this.g="",this.h=!1}var ZA=45e3,Yd={},uu={};H=oa.prototype;H.setTimeout=function(t){this.O=t};function Xd(t,e,n){t.K=1,t.v=Qu(qn(e)),t.s=n,t.P=!0,q1(t,null)}function q1(t,e){t.F=Date.now(),aa(t),t.A=qn(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),e_(n.i,"t",r),t.C=0,n=t.l.H,t.h=new W1,t.g=E_(t.l,n?e:null,!t.s),0<t.N&&(t.L=new QA(wt(t.La,t,t.g),t.N)),F1(t.S,t.g,"readystatechange",t.ib),e=t.H?x1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),jo(),GA(t.j,t.u,t.A,t.m,t.U,t.s)}H.ib=function(t){t=t.target;const e=this.L;e&&Fn(t)==3?e.l():this.La(t)};H.La=function(t){try{if(t==this.g)e:{const f=Fn(this.g);var e=this.g.Ea();const g=this.g.aa();if(!(3>f)&&(f!=3||zd||this.g&&(this.h.h||this.g.fa()||fv(this.g)))){this.I||f!=4||e==7||(e==8||0>=g?jo(3):jo(2)),Ku(this);var n=this.g.aa();this.Y=n;t:if(K1(this)){var r=fv(this.g);t="";var i=r.length,s=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gr(this),ho(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,YA(this.j,this.u,this.A,this.m,this.U,f,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!au(l)){var h=l;break t}}h=null}if(n=h)qi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jd(this,n);else{this.i=!1,this.o=3,At(12),Gr(this),ho(this);break e}}this.P?(Q1(this,f,o),zd&&this.i&&f==3&&(F1(this.S,this.T,"tick",this.hb),this.T.start())):(qi(this.j,this.m,o,null),Jd(this,o)),f==4&&Gr(this),this.i&&!this.I&&(f==4?y_(this.l,this):(this.i=!1,aa(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),Gr(this),ho(this)}}}catch{}finally{}};function K1(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Q1(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=eN(t,n),i==uu){e==4&&(t.o=4,At(14),r=!1),qi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Yd){t.o=4,At(15),qi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else qi(t.j,t.m,i,null),Jd(t,i);K1(t)&&i!=uu&&i!=Yd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,At(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),bp(e),e.K=!0,At(11))):(qi(t.j,t.m,n,"[Invalid Chunked Response]"),Gr(t),ho(t))}H.hb=function(){if(this.g){var t=Fn(this.g),e=this.g.fa();this.C<e.length&&(Ku(this),Q1(this,t,e),this.i&&t!=4&&aa(this))}};function eN(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?uu:(n=Number(e.substring(n,r)),isNaN(n)?Yd:(r+=1,r+n>e.length?uu:(e=e.substr(r,n),t.C=r+n,e)))}H.cancel=function(){this.I=!0,Gr(this)};function aa(t){t.V=Date.now()+t.O,G1(t,t.O)}function G1(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ia(wt(t.gb,t),e)}function Ku(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}H.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(XA(this.j,this.A),this.K!=2&&(jo(),At(17)),Gr(this),this.o=2,ho(this)):G1(this,this.V-t)};function ho(t){t.l.G==0||t.I||y_(t.l,t)}function Gr(t){Ku(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,_p(t.T),j1(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Jd(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Zd(n.h,t))){if(!t.J&&Zd(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)du(n),Xu(n);else break e;Dp(n),At(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=ia(wt(n.cb,n),6e3));if(1>=r_(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Yr(n,11)}else if((t.J||n.g==t)&&du(n),!au(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.T=h[0],h=h[1],n.G==2)if(h[0]=="c"){n.I=h[1],n.ka=h[2];const f=h[3];f!=null&&(n.ma=f,n.j.info("VER="+n.ma));const g=h[4];g!=null&&(n.Ca=g,n.j.info("SVER="+n.Ca));const y=h[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const S=t.g;if(S){const k=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var s=r.h;s.g||k.indexOf("spdy")==-1&&k.indexOf("quic")==-1&&k.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(kp(s,s.h),s.h=null))}if(r.D){const C=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.za=C,be(r.F,r.D,C))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=__(r,r.H?r.ka:null,r.V),o.J){i_(r.h,o);var l=o,u=r.J;u&&l.setTimeout(u),l.B&&(Ku(l),aa(l)),r.g=o}else m_(r);0<n.i.length&&Ju(n)}else h[0]!="stop"&&h[0]!="close"||Yr(n,7);else n.G==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?Yr(n,7):Np(n):h[0]!="noop"&&n.l&&n.l.wa(h),n.A=0)}}jo(4)}catch{}}function tN(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Fu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function nN(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Fu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Y1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Fu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=nN(t),r=tN(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var X1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ei(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ei){this.h=e!==void 0?e:t.h,cu(this,t.j),this.s=t.s,this.g=t.g,hu(this,t.m),this.l=t.l,e=t.i;var n=new Uo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),cv(this,n),this.o=t.o}else t&&(n=String(t).match(X1))?(this.h=!!e,cu(this,n[1]||"",!0),this.s=Js(n[2]||""),this.g=Js(n[3]||"",!0),hu(this,n[4]),this.l=Js(n[5]||"",!0),cv(this,n[6]||"",!0),this.o=Js(n[7]||"")):(this.h=!!e,this.i=new Uo(null,this.h))}ei.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zs(e,hv,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Zs(e,hv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Zs(n,n.charAt(0)=="/"?oN:sN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zs(n,lN)),t.join("")};function qn(t){return new ei(t)}function cu(t,e,n){t.j=n?Js(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cv(t,e,n){e instanceof Uo?(t.i=e,uN(t.i,t.h)):(n||(e=Zs(e,aN)),t.i=new Uo(e,t.h))}function be(t,e,n){t.i.set(e,n)}function Qu(t){return be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Js(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,iN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hv=/[#\/\?@]/g,sN=/[#\?:]/g,oN=/[#\?]/g,aN=/[#\?@]/g,lN=/#/g;function Uo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Lr(t){t.g||(t.g=new Map,t.h=0,t.i&&rN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=Uo.prototype;H.add=function(t,e){Lr(this),this.i=null,t=Cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function J1(t,e){Lr(t),e=Cs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Z1(t,e){return Lr(t),e=Cs(t,e),t.g.has(e)}H.forEach=function(t,e){Lr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.oa=function(){Lr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.W=function(t){Lr(this);let e=[];if(typeof t=="string")Z1(this,t)&&(e=e.concat(this.g.get(Cs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return Lr(this),this.i=null,t=Cs(this,t),Z1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function e_(t,e,n){J1(t,e),0<n.length&&(t.i=null,t.g.set(Cs(t,e),dp(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uN(t,e){e&&!t.j&&(Lr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(J1(this,r),e_(this,i,n))},t)),t.j=e}var cN=class{constructor(e,n){this.h=e,this.g=n}};function t_(t){this.l=t||hN,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ga&&Z.g.Ga()&&Z.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hN=10;function n_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function r_(t){return t.h?1:t.g?t.g.size:0}function Zd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function kp(t,e){t.g?t.g.add(e):t.h=e}function i_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}t_.prototype.cancel=function(){if(this.i=s_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function s_(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return dp(t.i)}function Ip(){}Ip.prototype.stringify=function(t){return Z.JSON.stringify(t,void 0)};Ip.prototype.parse=function(t){return Z.JSON.parse(t,void 0)};function dN(){this.g=new Ip}function fN(t,e,n){const r=n||"";try{Y1(t,function(i,s){let o=i;na(i)&&(o=wp(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pN(t,e){const n=new zu;if(Z.Image){const r=new Image;r.onload=rl(sl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rl(sl,n,r,"TestLoadImage: error",!1,e),r.onabort=rl(sl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rl(sl,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function sl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function la(t){this.l=t.ac||null,this.j=t.jb||!1}ht(la,Sp);la.prototype.g=function(){return new Gu(this.l,this.j)};la.prototype.i=function(t){return function(){return t}}({});function Gu(t,e){rt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=xp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ht(Gu,rt);var xp=0;H=Gu.prototype;H.open=function(t,e){if(this.readyState!=xp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vo(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Z).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=xp};H.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vo(this)),this.g&&(this.readyState=3,Vo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;o_(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function o_(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}H.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ua(this):Vo(this),this.readyState==3&&o_(this)}};H.Va=function(t){this.g&&(this.response=this.responseText=t,ua(this))};H.Ua=function(t){this.g&&(this.response=t,ua(this))};H.ga=function(){this.g&&ua(this)};function ua(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vo(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Vo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var mN=Z.JSON.parse;function Fe(t){rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=a_,this.K=this.L=!1}ht(Fe,rt);var a_="",gN=/^https?$/i,yN=["POST","PUT"];H=Fe.prototype;H.Ka=function(t){this.L=t};H.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gd.g(),this.C=this.u?uv(this.u):uv(Gd),this.g.onreadystatechange=wt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){dv(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=C1(yN,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{c_(this),0<this.B&&((this.K=vN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.qa,this)):this.A=Ep(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){dv(this,s)}};function vN(t){return us&&$A()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.qa=function(){typeof hp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function dv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,l_(t),Yu(t)}function l_(t){t.D||(t.D=!0,ut(t,"complete"),ut(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),Yu(this))};H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yu(this,!0)),Fe.X.M.call(this)};H.Ha=function(){this.s||(this.F||this.v||this.l?u_(this):this.fb())};H.fb=function(){u_(this)};function u_(t){if(t.h&&typeof hp<"u"&&(!t.C[1]||Fn(t)!=4||t.aa()!=2)){if(t.v&&Fn(t)==4)Ep(t.Ha,0,t);else if(ut(t,"readystatechange"),Fn(t)==4){t.h=!1;try{const l=t.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=l===0){var i=String(t.H).match(X1)[1]||null;if(!i&&Z.self&&Z.self.location){var s=Z.self.location.protocol;i=s.substr(0,s.length-1)}r=!gN.test(i?i.toLowerCase():"")}n=r}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var o=2<Fn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",l_(t)}}finally{Yu(t)}}}}function Yu(t,e){if(t.g){c_(t);const n=t.g,r=t.C[0]?ou:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function c_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Fn(t){return t.g?t.g.readyState:0}H.aa=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}};H.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),mN(e)}};function fv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case a_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}H.Ea=function(){return this.m};H.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function h_(t){let e="";return pp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ap(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=h_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):be(t,e,n))}function Ks(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function d_(t){this.Ca=0,this.i=[],this.j=new zu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ks("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ks("baseRetryDelayMs",5e3,t),this.bb=Ks("retryDelaySeedMs",1e4,t),this.$a=Ks("forwardChannelMaxRetries",2,t),this.ta=Ks("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new t_(t&&t.concurrentRequestLimit),this.Fa=new dN,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}H=d_.prototype;H.ma=8;H.G=1;function Np(t){if(f_(t),t.G==3){var e=t.U++,n=qn(t.F);be(n,"SID",t.I),be(n,"RID",e),be(n,"TYPE","terminate"),ca(t,n),e=new oa(t,t.j,e,void 0),e.K=2,e.v=Qu(qn(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&(new Image().src=e.v,n=!0),n||(e.g=E_(e.l,null),e.g.da(e.v)),e.F=Date.now(),aa(e)}w_(t)}function Xu(t){t.g&&(bp(t),t.g.cancel(),t.g=null)}function f_(t){Xu(t),t.u&&(Z.clearTimeout(t.u),t.u=null),du(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function Ju(t){n_(t.h)||t.m||(t.m=!0,$1(t.Ja,t),t.C=0)}function wN(t,e){return r_(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=ia(wt(t.Ja,t,e),v_(t,t.C)),t.C++,!0)}H.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new oa(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=x1(s),A1(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=p_(this,i,e),n=qn(this.F),be(n,"RID",t),be(n,"CVER",22),this.D&&be(n,"X-HTTP-Session-Id",this.D),ca(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(h_(s)))+"&"+e:this.o&&Ap(n,this.o,s)),kp(this.h,i),this.Ya&&be(n,"TYPE","init"),this.O?(be(n,"$req",e),be(n,"SID","null"),i.Z=!0,Xd(i,n,null)):Xd(i,n,e),this.G=2}}else this.G==3&&(t?pv(this,t):this.i.length==0||n_(this.h)||pv(this))};function pv(t,e){var n;e?n=e.m:n=t.U++;const r=qn(t.F);be(r,"SID",t.I),be(r,"RID",n),be(r,"AID",t.T),ca(t,r),t.o&&t.s&&Ap(r,t.o,t.s),n=new oa(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=p_(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),kp(t.h,n),Xd(n,r,e)}function ca(t,e){t.ia&&pp(t.ia,function(n,r){be(e,r,n)}),t.l&&Y1({},function(n,r){be(e,r,n)})}function p_(t,e,n){n=Math.min(t.i.length,n);var r=t.l?wt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let u=0;u<n;u++){let h=i[u].h;const f=i[u].g;if(h-=s,0>h)s=Math.max(0,i[u].h-100),l=!1;else try{fN(f,o,"req"+h+"_")}catch{r&&r(f)}}if(l){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function m_(t){t.g||t.u||(t.Z=1,$1(t.Ia,t),t.A=0)}function Dp(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=ia(wt(t.Ia,t),v_(t,t.A)),t.A++,!0)}H.Ia=function(){if(this.u=null,g_(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ia(wt(this.eb,this),t)}};H.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,At(10),Xu(this),g_(this))};function bp(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function g_(t){t.g=new oa(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=qn(t.sa);be(e,"RID","rpc"),be(e,"SID",t.I),be(e,"CI",t.L?"0":"1"),be(e,"AID",t.T),be(e,"TYPE","xmlhttp"),ca(t,e),t.o&&t.s&&Ap(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Qu(qn(e)),n.s=null,n.P=!0,q1(n,t)}H.cb=function(){this.v!=null&&(this.v=null,Xu(this),Dp(this),At(19))};function du(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function y_(t,e){var n=null;if(t.g==e){du(t),bp(t),t.g=null;var r=2}else if(Zd(t.h,e))n=e.D,i_(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Hu(),ut(r,new B1(r,n)),Ju(t)}else m_(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&wN(t,e)||r==2&&Dp(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Yr(t,5);break;case 4:Yr(t,10);break;case 3:Yr(t,6);break;default:Yr(t,2)}}}function v_(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Yr(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=wt(t.kb,t);n||(n=new ei("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||cu(n,"https"),Qu(n)),pN(n.toString(),r)}else At(2);t.G=0,t.l&&t.l.va(e),w_(t),f_(t)}H.kb=function(t){t?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function w_(t){if(t.G=0,t.la=[],t.l){const e=s_(t.h);(e.length!=0||t.i.length!=0)&&(rv(t.la,e),rv(t.la,t.i),t.h.i.length=0,dp(t.i),t.i.length=0),t.l.ua()}}function __(t,e,n){var r=n instanceof ei?qn(n):new ei(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),hu(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ei(null,void 0);r&&cu(s,r),e&&(s.g=e),i&&hu(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&be(r,n,e),be(r,"VER",t.ma),ca(t,r),r}function E_(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Fe(new la({jb:!0})):new Fe(t.ra),e.Ka(t.H),e}function S_(){}H=S_.prototype;H.xa=function(){};H.wa=function(){};H.va=function(){};H.ua=function(){};H.Ra=function(){};function fu(){if(us&&!(10<=Number(RA)))throw Error("Environmental error: no available transport.")}fu.prototype.g=function(t,e){return new Qt(t,e)};function Qt(t,e){rt.call(this),this.g=new d_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!au(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!au(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ts(this)}ht(Qt,rt);Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;At(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=__(t,null,t.V),Ju(t)};Qt.prototype.close=function(){Np(this.g)};Qt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=wp(t),t=n);e.i.push(new cN(e.ab++,t)),e.G==3&&Ju(e)};Qt.prototype.M=function(){this.g.l=null,delete this.j,Np(this.g),delete this.g,Qt.X.M.call(this)};function C_(t){Cp.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ht(C_,Cp);function T_(){Tp.call(this),this.status=1}ht(T_,Tp);function Ts(t){this.g=t}ht(Ts,S_);Ts.prototype.xa=function(){ut(this.g,"a")};Ts.prototype.wa=function(t){ut(this.g,new C_(t))};Ts.prototype.va=function(t){ut(this.g,new T_)};Ts.prototype.ua=function(){ut(this.g,"b")};fu.prototype.createWebChannel=fu.prototype.g;Qt.prototype.send=Qt.prototype.u;Qt.prototype.open=Qt.prototype.m;Qt.prototype.close=Qt.prototype.close;Wu.NO_ERROR=0;Wu.TIMEOUT=8;Wu.HTTP_ERROR=6;z1.COMPLETE="complete";H1.EventType=sa;sa.OPEN="a";sa.CLOSE="b";sa.ERROR="c";sa.MESSAGE="d";rt.prototype.listen=rt.prototype.N;Fe.prototype.listenOnce=Fe.prototype.O;Fe.prototype.getLastError=Fe.prototype.Oa;Fe.prototype.getLastErrorCode=Fe.prototype.Ea;Fe.prototype.getStatus=Fe.prototype.aa;Fe.prototype.getResponseJson=Fe.prototype.Sa;Fe.prototype.getResponseText=Fe.prototype.fa;Fe.prototype.send=Fe.prototype.da;Fe.prototype.setWithCredentials=Fe.prototype.Ka;var _N=function(){return new fu},EN=function(){return Hu()},Lh=Wu,SN=z1,CN=pi,mv={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},TN=la,ol=H1,kN=Fe;const gv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new y1("@firebase/firestore");function yv(){return li.logLevel}function W(t,...e){if(li.logLevel<=me.DEBUG){const n=e.map(Pp);li.debug(`Firestore (${ks}): ${t}`,...n)}}function Kn(t,...e){if(li.logLevel<=me.ERROR){const n=e.map(Pp);li.error(`Firestore (${ks}): ${t}`,...n)}}function pu(t,...e){if(li.logLevel<=me.WARN){const n=e.map(Pp);li.warn(`Firestore (${ks}): ${t}`,...n)}}function Pp(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function Ae(t,e){t||J()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class xN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AN{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Un,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Un)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new k_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new mt(e)}}class NN{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class DN{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new NN(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PN{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.T=n.token,new bN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=LN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function cs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new Ye(0,0))}static max(){return new re(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends Bo{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const ON=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Bo{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return ON.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new K(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new K(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Pe.fromString(e))}static fromName(e){return new Q(Pe.fromString(e).popFirst(5))}static empty(){return new Q(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Pe(e.slice()))}}function $N(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Ir(i,Q.empty(),e)}function RN(t){return new Ir(t.readTime,t.key,-1)}class Ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(re.min(),Q.empty(),-1)}static max(){return new Ir(re.max(),Q.empty(),-1)}}function MN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==FN)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Lp.ct=-1;function Zu(t){return t==null}function mu(t){return t===0&&1/t==-1/0}function UN(t){return typeof t=="number"&&Number.isInteger(t)&&!mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new al(this.root,e,this.comparator,!1)}getReverseIterator(){return new al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new al(this.root,e,this.comparator,!0)}}class al{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ot.RED,this.left=i??ot.EMPTY,this.right=s??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(e){return new wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Xe(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new VN("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const BN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=BN.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function N_(t){const e=t.mapValue.fields.__previous_value__;return A_(e)?N_(e):e}function zo(t){const e=xr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,r,i,s,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.useFetchStreams=u}}class Ho{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ho("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A_(t)?4:HN(t)?9007199254740991:10:J()}function Nn(t,e){if(t===e)return!0;const n=ui(t);if(n!==ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zo(t).isEqual(zo(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xr(r.timestampValue),o=xr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return hs(r.bytesValue).isEqual(hs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?mu(s)===mu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return cs(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(vv(s)!==vv(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Nn(s[l],o[l])))return!1;return!0}(t,e);default:return J()}}function Wo(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function ds(t,e){if(t===e)return 0;const n=ui(t),r=ui(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),l=ze(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return _v(t.timestampValue,e.timestampValue);case 4:return _v(zo(t),zo(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(i,s){const o=hs(i),l=hs(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const h=ge(o[u],l[u]);if(h!==0)return h}return ge(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ge(ze(i.latitude),ze(s.latitude));return o!==0?o:ge(ze(i.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],l=s.values||[];for(let u=0;u<o.length&&u<l.length;++u){const h=ds(o[u],l[u]);if(h)return h}return ge(o.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ll.mapValue&&s===ll.mapValue)return 0;if(i===ll.mapValue)return 1;if(s===ll.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const g=ge(l[f],h[f]);if(g!==0)return g;const y=ds(o[l[f]],u[h[f]]);if(y!==0)return y}return ge(l.length,h.length)}(t.mapValue,e.mapValue);default:throw J()}}function _v(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=xr(t),r=xr(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function fs(t){return ef(t)}function ef(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=xr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?hs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ef(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${ef(r.fields[l])}`;return s+"}"}(t.mapValue):J();var e,n}function tf(t){return!!t&&"integerValue"in t}function Op(t){return!!t&&"arrayValue"in t}function Ev(t){return!!t&&"nullValue"in t}function Sv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tl(t){return!!t&&"mapValue"in t}function fo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fo(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=fo(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Tl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Tl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(fo(this.value))}}function D_(t){const e=[];return mi(t.fields,(n,r)=>{const i=new vt([n]);if(Tl(r)){const s=D_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new yt(e,0,re.min(),re.min(),re.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new yt(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new yt(e,2,n,re.min(),re.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,re.min(),re.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.position=e,this.inclusive=n}}function Cv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=ds(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n="asc"){this.field=e,this.dir=n}}function WN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{}class Ke extends b_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KN(e,n,r):n==="array-contains"?new YN(e,r):n==="in"?new XN(e,r):n==="not-in"?new JN(e,r):n==="array-contains-any"?new ZN(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QN(e,r):new GN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&ui(this.value)===ui(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dn extends b_{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Dn(e,n)}matches(e){return P_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function P_(t){return t.op==="and"}function L_(t){return qN(t)&&P_(t)}function qN(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function nf(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(L_(t))return t.filters.map(e=>nf(e)).join(",");{const e=t.filters.map(n=>nf(n)).join(",");return`${t.op}(${e})`}}function O_(t,e){return t instanceof Ke?function(n,r){return r instanceof Ke&&n.op===r.op&&n.field.isEqual(r.field)&&Nn(n.value,r.value)}(t,e):t instanceof Dn?function(n,r){return r instanceof Dn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&O_(s,r.filters[o]),!0):!1}(t,e):void J()}function $_(t){return t instanceof Ke?function(e){return`${e.field.canonicalString()} ${e.op} ${fs(e.value)}`}(t):t instanceof Dn?function(e){return e.op.toString()+" {"+e.getFilters().map($_).join(" ,")+"}"}(t):"Filter"}class KN extends Ke{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class QN extends Ke{constructor(e,n){super(e,"in",n),this.keys=R_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GN extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=R_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function R_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class YN extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&Wo(n.arrayValue,this.value)}}class XN extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wo(this.value.arrayValue,n)}}class JN extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wo(this.value.arrayValue,n)}}class ZN extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ft=null}}function kv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eD(t,e,n,r,i,s,o)}function $p(t){const e=ie(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Zu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.ft=n}return e.ft}function Rp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!O_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tv(t.startAt,e.startAt)&&Tv(t.endAt,e.endAt)}function rf(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.dt=null,this.wt=null,this.startAt,this.endAt}}function tD(t,e,n,r,i,s,o,l){return new ec(t,e,n,r,i,s,o,l)}function Mp(t){return new ec(t)}function Iv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function rD(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function iD(t){return t.collectionGroup!==null}function es(t){const e=ie(t);if(e.dt===null){e.dt=[];const n=rD(e),r=nD(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new po(n)),e.dt.push(new po(vt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new po(vt.keyField(),s))}}}return e.dt}function Qn(t){const e=ie(t);if(!e.wt)if(e.limitType==="F")e.wt=kv(e.path,e.collectionGroup,es(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of es(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new po(s.field,o))}const r=e.endAt?new gu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gu(e.startAt.position,e.startAt.inclusive):null;e.wt=kv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function sf(t,e,n){return new ec(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tc(t,e){return Rp(Qn(t),Qn(e))&&t.limitType===e.limitType}function M_(t){return`${$p(Qn(t))}|lt:${t.limitType}`}function of(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>$_(r)).join(", ")}]`),Zu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),`Target(${n})`}(Qn(t))}; limitType=${t.limitType})`}function nc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of es(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const l=Cv(i,s,o);return i.inclusive?l<=0:l<0}(n.startAt,es(n),r)||n.endAt&&!function(i,s,o){const l=Cv(i,s,o);return i.inclusive?l>=0:l>0}(n.endAt,es(n),r))}(t,e)}function sD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function F_(t){return(e,n)=>{let r=!1;for(const i of es(t)){const s=oD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oD(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,s,o){const l=s.data.field(i),u=o.data.field(i);return l!==null&&u!==null?ds(l,u):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return x_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new Je(Q.comparator);function Gn(){return aD}const j_=new Je(Q.comparator);function eo(...t){let e=j_;for(const n of t)e=e.insert(n.key,n);return e}function U_(t){let e=j_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xr(){return mo()}function V_(){return mo()}function mo(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const lD=new Je(Q.comparator),uD=new Xe(Q.comparator);function ue(...t){let e=uD;for(const n of t)e=e.add(n);return e}const cD=new Xe(ge);function B_(){return cD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function H_(t){return{integerValue:""+t}}function W_(t,e){return UN(e)?H_(e):z_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function hD(t,e,n){return t instanceof yu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof qo?K_(t,e):t instanceof Ko?Q_(t,e):function(r,i){const s=q_(r,i),o=xv(s)+xv(r._t);return tf(s)&&tf(r._t)?H_(o):z_(r.serializer,o)}(t,e)}function dD(t,e,n){return t instanceof qo?K_(t,e):t instanceof Ko?Q_(t,e):n}function q_(t,e){return t instanceof Qo?tf(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class yu extends rc{}class qo extends rc{constructor(e){super(),this.elements=e}}function K_(t,e){const n=G_(e);for(const r of t.elements)n.some(i=>Nn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ko extends rc{constructor(e){super(),this.elements=e}}function Q_(t,e){let n=G_(e);for(const r of t.elements)n=n.filter(i=>!Nn(i,r));return{arrayValue:{values:n}}}class Qo extends rc{constructor(e,n){super(),this.serializer=e,this._t=n}}function xv(t){return ze(t.integerValue||t.doubleValue)}function G_(t){return Op(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.field=e,this.transform=n}}function pD(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof qo&&r instanceof qo||n instanceof Ko&&r instanceof Ko?cs(n.elements,r.elements,Nn):n instanceof Qo&&r instanceof Qo?Nn(n._t,r._t):n instanceof yu&&r instanceof yu}(t.transform,e.transform)}class mD{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ic{}function Y_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new J_(t.key,Vn.none()):new sc(t.key,t.data,Vn.none());{const n=t.data,r=zt.empty();let i=new Xe(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new gi(t.key,r,new pn(i.toArray()),Vn.none())}}function gD(t,e,n){t instanceof sc?function(r,i,s){const o=r.value.clone(),l=Nv(r.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof gi?function(r,i,s){if(!kl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Nv(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(X_(r)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function go(t,e,n,r){return t instanceof sc?function(i,s,o,l){if(!kl(i.precondition,s))return o;const u=i.value.clone(),h=Dv(i.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gi?function(i,s,o,l){if(!kl(i.precondition,s))return o;const u=Dv(i.fieldTransforms,l,s),h=s.data;return h.setAll(X_(i)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,s,o){return kl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function yD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=q_(r.transform,i||null);s!=null&&(n===null&&(n=zt.empty()),n.set(r.field,s))}return n||null}function Av(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&cs(n,r,(i,s)=>pD(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sc extends ic{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gi extends ic{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function X_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Nv(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,dD(o,l,n[i]))}return r}function Dv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hD(s,o,e))}return r}class J_ extends ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vD extends ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=go(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=go(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=Y_(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(n,r)=>Av(n,r))&&cs(this.baseMutations,e.baseMutations,(n,r)=>Av(n,r))}}class Fp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=lD;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,de;function SD(t){switch(t){default:return J();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Z_(t){if(t===void 0)return Kn("GRPC error has no .code"),D.UNKNOWN;switch(t){case Be.OK:return D.OK;case Be.CANCELLED:return D.CANCELLED;case Be.UNKNOWN:return D.UNKNOWN;case Be.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Be.INTERNAL:return D.INTERNAL;case Be.UNAVAILABLE:return D.UNAVAILABLE;case Be.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Be.NOT_FOUND:return D.NOT_FOUND;case Be.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Be.ABORTED:return D.ABORTED;case Be.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Be.DATA_LOSS:return D.DATA_LOSS;default:return J()}}(de=Be||(Be={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ul}static getOrCreateInstance(){return ul===null&&(ul=new jp),ul}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ul=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new oc(re.min(),i,B_(),Gn(),ue())}}class fa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fa(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class eE{constructor(e,n){this.targetId=e,this.Et=n}}class tE{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class bv{constructor(){this.At=0,this.Rt=Lv(),this.vt=St.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=ue(),n=ue(),r=ue();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new fa(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=Lv()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class CD{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Gn(),this.qt=Pv(),this.Ut=new Xe(ge)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(rf(o))if(i===0){const l=new Q(o.path);this.Qt(r,l,yt.newNoDocument(l,re.min()))}else Ae(i===1);else{const l=this.Zt(r);l!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=jp.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:l,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const l=this.Yt(o);if(l){if(s.current&&rf(l.target)){const u=new Q(l.target.path);this.Lt.get(u)!==null||this.te(o,u)||this.Qt(o,u,yt.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ue();this.qt.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.Yt(u);return!h||h.purpose===2||(l=!1,!1)}),l&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new oc(e,n,this.Ut,this.Lt,r);return this.Lt=Gn(),this.qt=Pv(),this.Ut=new Xe(ge),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new bv,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Xe(ge),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new bv),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function Pv(){return new Je(Q.comparator)}function Lv(){return new Je(Q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),kD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ID=(()=>({and:"AND",or:"OR"}))();class xD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AD(t,e){return vu(t,e.toTimestamp())}function An(t){return Ae(!!t),re.fromTimestamp(function(e){const n=xr(e);return new Ye(n.seconds,n.nanos)}(t))}function Up(t,e){return function(n){return new Pe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function rE(t){const e=Pe.fromString(t);return Ae(aE(e)),e}function af(t,e){return Up(t.databaseId,e.path)}function Oh(t,e){const n=rE(e);if(n.get(1)!==t.databaseId.projectId)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(iE(n))}function lf(t,e){return Up(t.databaseId,e)}function ND(t){const e=rE(t);return e.length===4?Pe.emptyPath():iE(e)}function uf(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iE(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ov(t,e,n){return{name:af(t,e),fields:n.value.mapValue.fields}}function DD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Ae(h===void 0||typeof h=="string"),St.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Uint8Array),St.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?D.UNKNOWN:Z_(u.code);return new K(h,u.message||"")}(o);n=new tE(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Oh(t,r.document.name),s=An(r.document.updateTime),o=r.document.createTime?An(r.document.createTime):re.min(),l=new zt({mapValue:{fields:r.document.fields}}),u=yt.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Il(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Oh(t,r.document),s=r.readTime?An(r.readTime):re.min(),o=yt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Il([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Oh(t,r.document),s=r.removedTargetIds||[];n=new Il([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new ED(i),o=r.targetId;n=new eE(o,s)}}return n}function bD(t,e){let n;if(e instanceof sc)n={update:Ov(t,e.key,e.value)};else if(e instanceof J_)n={delete:af(t,e.key)};else if(e instanceof gi)n={update:Ov(t,e.key,e.data),updateMask:UD(e.fieldMask)};else{if(!(e instanceof vD))return J();n={verify:af(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof yu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ko)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Qo)return{fieldPath:s.field.canonicalString(),increment:o._t};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:AD(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(t,e.precondition)),n}function PD(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?An(r.updateTime):An(i);return s.isEqual(re.min())&&(s=An(i)),new mD(s,r.transformResults||[])}(n,e))):[]}function LD(t,e){return{documents:[lf(t,e.path)]}}function OD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=lf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return oE(Dn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:Pi(f.field),direction:MD(f.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(u,h){return u.useProto3Json||Zu(h)?h:{value:h}}(t,e.limit);var l;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function $D(t){let e=ND(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(f){const g=sE(f);return g instanceof Dn&&L_(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>function(g){return new po(Li(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f)));let l=null;n.limit&&(l=function(f){let g;return g=typeof f=="object"?f.value:f,Zu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(f){const g=!!f.before,y=f.values||[];return new gu(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(f){const g=!f.before,y=f.values||[];return new gu(y,g)}(n.endAt)),tD(e,i,o,s,l,"F",u,h)}function RD(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return J()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function sE(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Li(e.unaryFilter.field);return Ke.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Li(e.unaryFilter.field);return Ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Li(e.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Li(e.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(e){return Ke.create(Li(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Dn.create(e.compositeFilter.filters.map(n=>sE(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return J()}}(e.compositeFilter.op))}(t):J()}function MD(t){return TD[t]}function FD(t){return kD[t]}function jD(t){return ID[t]}function Pi(t){return{fieldPath:t.canonicalString()}}function Li(t){return vt.fromServerFormat(t.fieldPath)}function oE(t){return t instanceof Ke?function(e){if(e.op==="=="){if(Sv(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NAN"}};if(Ev(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Sv(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NOT_NAN"}};if(Ev(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pi(e.field),op:FD(e.op),value:e.value}}}(t):t instanceof Dn?function(e){const n=e.getFilters().map(r=>oE(r));return n.length===1?n[0]:{compositeFilter:{op:jD(e.op),filters:n}}}(t):J()}function UD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r,i,s=re.min(),o=re.min(),l=St.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.se=e}}function BD(t){const e=$D({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.He=new HD}addToCollectionParentIndex(e,n){return this.He.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Ir.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class HD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new ps(0)}static bn(){return new ps(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&go(r.mutation,i,pn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=eo();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Gn();const o=mo(),l=mo();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof gi)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),go(f.mutation,h,f.mutation.getFieldMask(),Ye.now())):o.set(h.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var g;return l.set(h,new qD(f,(g=o.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const r=mo();let i=new Je((o,l)=>o-l),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||pn.empty();f=l.applyToLocalView(h,f),r.set(u,f);const g=(i.get(l.batchId)||ue()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,g=V_();f.forEach(y=>{if(!s.has(y)){const S=Y_(n.get(y),r.get(y));S!==null&&g.set(y,S),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Xr());let l=-1,u=s;return o.next(h=>P.forEach(h,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,ue())).next(f=>({batchId:l,changes:U_(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=eo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=eo();return this.indexManager.getCollectionParents(e,i).next(o=>P.forEach(o,l=>{const u=function(h,f){return new ec(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(h=>{h.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((l,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,yt.newInvalidDocument(h)))});let o=eo();return s.forEach((l,u)=>{const h=i.get(l);h!==void 0&&go(h.mutation,u,pn.empty(),Ye.now()),nc(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return P.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:An(r.createTime)}),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:BD(r.bundledQuery),readTime:An(r.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.overlays=new Je(Q.comparator),this.ts=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Xr(),s=n.length+1,o=new Q(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Je((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=Xr(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Xr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return P.resolve(l)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _D(n,r));let s=this.ts.get(n);s===void 0&&(s=ue(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.es=new Xe(et.ns),this.ss=new Xe(et.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new et(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new et(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new Q(new Pe([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new Q(new Pe([])),r=new et(n,e),i=new et(n,e+1);let s=ue();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return Q.comparator(e.key,n.key)||ge(e.ds,n.ds)}static rs(e,n){return ge(e.ds,n.ds)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Xe(et.ns)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wD(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this._s=this._s.add(new et(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const l=this.gs(o.ds);s.push(l)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(ge);return n.forEach(i=>{const s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],l=>{r=r.add(l.ds)})}),P.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new et(new Q(s),0);let l=new Xe(ge);return this._s.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.ds)),!0)},o),P.resolve(this.ps(l))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return P.forEach(n.mutations,i=>{const s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new et(n,0),i=this._s.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.Ts=e,this.docs=new Je(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gn();const o=n.path,l=new Q(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||MN(RN(f),r)<=0||(i.has(f.key)||nc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Es(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JD(this)}getSize(e){return P.resolve(this.size)}}class JD extends WD{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.persistence=e,this.As=new Is(n=>$p(n),Rp),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Vp,this.targetCount=0,this.bs=ps.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),P.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new ps(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Sn(n),P.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new Lp(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new ZD(this),this.indexManager=new zD,this.remoteDocumentCache=function(r){return new XD(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new VD(n),this.xs=new QD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new YD(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new tb(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return P.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class tb extends jN{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.$s=new Vp,this.Ms=null}static Fs(e){return new Bp(e)}get Bs(){if(this.Ms)return this.Ms;throw J()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),P.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Bs,r=>{const i=Q.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return P.or([()=>P.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(Iv(n))return P.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=sf(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.xi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.$i(n,l);return this.Mi(n,h,o,u.readTime)?this.Ni(e,sf(n,null,"F")):this.Fi(e,h,n,u)}))})))}ki(e,n,r,i){return Iv(n)||i.isEqual(re.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(yv()<=me.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),of(n)),this.Fi(e,o,n,$N(i,-1)))})}$i(e,n){let r=new Xe(F_(e));return n.forEach((i,s)=>{nc(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return yv()<=me.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",of(n)),this.xi.getDocumentsMatchingQuery(e,n,Ir.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new Je(ge),this.qi=new Is(s=>$p(s),Rp),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KD(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function ib(t,e,n,r){return new rb(t,e,n,r)}async function lE(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=ue();for(const h of i){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Qi:h,removedBatchIds:o,addedBatchIds:l}))})})}function sb(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,l,u,h){const f=u.batch,g=f.keys();let y=P.resolve();return g.forEach(S=>{y=y.next(()=>h.getEntry(l,S)).next(k=>{const C=u.docVersions.get(S);Ae(C!==null),k.version.compareTo(C)<0&&(f.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),h.addEntry(k)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ue();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uE(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function ob(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const l=[];e.targetChanges.forEach((f,g)=>{const y=i.get(g);if(!y)return;l.push(n.Ds.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Ds.addMatchingKeys(s,f.addedDocuments,g)));let S=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(g)?S=S.withResumeToken(St.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):f.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(f.resumeToken,r)),i=i.insert(g,S),function(k,C,N){return k.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(y,S,f)&&l.push(n.Ds.updateTargetData(s,S))});let u=Gn(),h=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(ab(s,o,e.documentUpdates).next(f=>{u=f.zi,h=f.ji})),!r.isEqual(re.min())){const f=n.Ds.getLastRemoteSnapshotVersion(s).next(g=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return P.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Li=i,s))}function ab(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):W("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{zi:o,ji:i}})}function lb(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ub(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new ti(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function cf(t,e,n){const r=ie(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!da(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function $v(t,e,n){const r=ie(t);let i=re.min(),s=ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,h){const f=ie(l),g=f.qi.get(h);return g!==void 0?P.resolve(f.Li.get(g)):f.Ds.getTargetData(u,h)}(r,o,Qn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:ue())).next(l=>(cb(r,sD(e),l),{documents:l,Wi:s})))}function cb(t,e,n){let r=t.Ui.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class Rv{constructor(){this.activeTargetIds=B_()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hb{constructor(){this.Br=new Rv,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Rv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl=null;function $h(){return cl===null?cl=268435456+Math.round(2147483648*Math.random()):cl++,"0x"+cl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class mb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=$h(),l=this.ao(e,n);W("RestConnection",`Sending RPC '${e}' ${o}:`,l,r);const u={};return this.ho(u,i,s),this.lo(e,l,u,r).then(h=>(W("RestConnection",`Received RPC '${e}' ${o}: `,h),h),h=>{throw pu("RestConnection",`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",r),h})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ks,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=fb[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=$h();return new Promise((o,l)=>{const u=new kN;u.setWithCredentials(!0),u.listenOnce(SN.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Lh.NO_ERROR:const f=u.getResponseJson();W(pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Lh.TIMEOUT:W(pt,`RPC '${e}' ${s} timed out`),l(new K(D.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const g=u.getStatus();if(W(pt,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const k=function(C){const N=C.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(N)>=0?N:D.UNKNOWN}(S.status);l(new K(k,S.message))}else l(new K(D.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(D.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{W(pt,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);W(pt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",h,r,15)})}wo(e,n,r){const i=$h(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_N(),l=EN(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new TN({})),this.ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");W(pt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);let g=!1,y=!1;const S=new pb({Wr:C=>{y?W(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(g||(W(pt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),W(pt,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},Hr:()=>f.close()}),k=(C,N,v)=>{C.listen(N,m=>{try{v(m)}catch(w){setTimeout(()=>{throw w},0)}})};return k(f,ol.EventType.OPEN,()=>{y||W(pt,`RPC '${e}' stream ${i} transport opened.`)}),k(f,ol.EventType.CLOSE,()=>{y||(y=!0,W(pt,`RPC '${e}' stream ${i} transport closed`),S.so())}),k(f,ol.EventType.ERROR,C=>{y||(y=!0,pu(pt,`RPC '${e}' stream ${i} transport errored:`,C),S.so(new K(D.UNAVAILABLE,"The operation could not be completed")))}),k(f,ol.EventType.MESSAGE,C=>{var N;if(!y){const v=C.data[0];Ae(!!v);const m=v,w=m.error||((N=m[0])===null||N===void 0?void 0:N.error);if(w){W(pt,`RPC '${e}' stream ${i} received error:`,w);const x=w.status;let O=function(B){const z=Be[B];if(z!==void 0)return Z_(z)}(x),V=w.message;O===void 0&&(O=D.INTERNAL,V="Unknown error status: "+x+" with message "+w.message),y=!0,S.so(new K(O,V)),f.close()}else W(pt,`RPC '${e}' stream ${i} received:`,v),S.io(v)}}),k(l,CN.STAT_EVENT,C=>{C.stat===mv.PROXY?W(pt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===mv.NOPROXY&&W(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.no()},0),S}}function Rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return new xD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,r,i,s,o,l,u){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new cE(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new K(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gb extends hE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=DD(this.serializer,e),r=function(i){if(!("targetChange"in i))return re.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?An(s.readTime):re.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=uf(this.serializer),n.addTarget=function(i,s){let o;const l=s.target;return o=rf(l)?{documents:LD(i,l)}:{query:OD(i,l)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=nE(i,s.resumeToken):s.snapshotVersion.compareTo(re.min())>0&&(o.readTime=vu(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=RD(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=uf(this.serializer),n.removeTarget=e,this.Fo(n)}}class yb extends hE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=PD(e.writeResults,e.commitTime),r=An(e.commitTime);return this.listener.Zo(r,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=uf(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bD(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(D.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(D.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class wb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Kn(n),this.ru=!1):W("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{yi(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ie(l);u.du.add(4),await pa(u),u.mu.set("Unknown"),u.du.delete(4),await lc(u)}(this))})}),this.mu=new wb(r,i)}}async function lc(t){if(yi(t))for(const e of t.wu)await e(!0)}async function pa(t){for(const e of t.wu)await e(!1)}function dE(t,e){const n=ie(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),qp(n)?Wp(n):xs(n).No()&&Hp(n,e))}function fE(t,e){const n=ie(t),r=xs(n);n.fu.delete(e),r.No()&&pE(n,e),n.fu.size===0&&(r.No()?r.$o():yi(n)&&n.mu.set("Unknown"))}function Hp(t,e){t.gu.Ot(e.targetId),xs(t).jo(e)}function pE(t,e){t.gu.Ot(e),xs(t).Wo(e)}function Wp(t){t.gu=new CD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),xs(t).start(),t.mu.ou()}function qp(t){return yi(t)&&!xs(t).xo()&&t.fu.size>0}function yi(t){return ie(t).du.size===0}function mE(t){t.gu=void 0}async function Eb(t){t.fu.forEach((e,n)=>{Hp(t,e)})}async function Sb(t,e){mE(t),qp(t)?(t.mu.au(e),Wp(t)):t.mu.set("Unknown")}async function Cb(t,e,n){if(t.mu.set("Online"),e instanceof tE&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wu(t,r)}else if(e instanceof Il?t.gu.Kt(e):e instanceof eE?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(re.min()))try{const r=await uE(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.fu.get(u);h&&i.fu.set(u,h.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach(l=>{const u=i.fu.get(l);if(!u)return;i.fu.set(l,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),pE(i,l);const h=new ti(u.target,l,1,u.sequenceNumber);Hp(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await wu(t,r)}}async function wu(t,e,n){if(!da(e))throw e;t.du.add(1),await pa(t),t.mu.set("Offline"),n||(n=()=>uE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await lc(t)})}function gE(t,e){return e().catch(n=>wu(t,n,e))}async function uc(t){const e=ie(t),n=Ar(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;Tb(e);)try{const i=await lb(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,kb(e,i)}catch(i){await wu(e,i)}yE(e)&&vE(e)}function Tb(t){return yi(t)&&t.lu.length<10}function kb(t,e){t.lu.push(e);const n=Ar(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function yE(t){return yi(t)&&!Ar(t).xo()&&t.lu.length>0}function vE(t){Ar(t).start()}async function Ib(t){Ar(t).tu()}async function xb(t){const e=Ar(t);for(const n of t.lu)e.Yo(n.mutations)}async function Ab(t,e,n){const r=t.lu.shift(),i=Fp.from(r,e,n);await gE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await uc(t)}async function Nb(t,e){e&&Ar(t).Jo&&await async function(n,r){if(i=r.code,SD(i)&&i!==D.ABORTED){const s=n.lu.shift();Ar(n).Oo(),await gE(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await uc(n)}var i}(t,e),yE(t)&&vE(t)}async function Fv(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=yi(n);n.du.add(3),await pa(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await lc(n)}async function Db(t,e){const n=ie(t);e?(n.du.delete(2),await lc(n)):e||(n.du.add(2),await pa(n),n.mu.set("Unknown"))}function xs(t){return t.yu||(t.yu=function(e,n,r){const i=ie(e);return i.nu(),new gb(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:Eb.bind(null,t),Zr:Sb.bind(null,t),zo:Cb.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),qp(t)?Wp(t):t.mu.set("Unknown")):(await t.yu.stop(),mE(t))})),t.yu}function Ar(t){return t.pu||(t.pu=function(e,n,r){const i=ie(e);return i.nu(),new yb(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:Ib.bind(null,t),Zr:Nb.bind(null,t),Xo:xb.bind(null,t),Zo:Ab.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await uc(t)):(await t.pu.stop(),t.lu.length>0&&(W("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Kp(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),da(t))return new K(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=eo(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new ts(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ts)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ts;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.Iu=new Je(Q.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):J():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ms{constructor(e,n,r,i,s,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ms(e,n,ts.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.Eu=void 0,this.listeners=[]}}class Pb{constructor(){this.queries=new Is(e=>M_(e),tc),this.onlineState="Unknown",this.Au=new Set}}async function wE(t,e){const n=ie(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bb),i)try{s.Eu=await n.onListen(r)}catch(o){const l=Qp(o,`Initialization of query '${of(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&Gp(n)}async function _E(t,e){const n=ie(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Lb(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.vu(i)&&(r=!0);o.Eu=i}}r&&Gp(n)}function Ob(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Gp(t){t.Au.forEach(e=>{e.next()})}class EE{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.key=e}}class CE{constructor(e){this.key=e}}class $b{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ue(),this.mutatedKeys=ue(),this.Ku=F_(e),this.Gu=new ts(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new jv,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const y=i.get(f),S=nc(this.query,g)?g:null,k=!!y&&this.mutatedKeys.has(y.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;y&&S?y.data.isEqual(S.data)?k!==C&&(r.track({type:3,doc:S}),N=!0):this.Wu(y,S)||(r.track({type:2,doc:S}),N=!0,(u&&this.Ku(S,u)>0||h&&this.Ku(S,h)<0)&&(l=!0)):!y&&S?(r.track({type:0,doc:S}),N=!0):y&&!S&&(r.track({type:1,doc:y}),N=!0,(u||h)&&(l=!0)),N&&(S?(o=o.add(S),s=C?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Gu:o,ju:r,Mi:l,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((h,f)=>function(g,y){const S=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return S(g)-S(y)}(h.type,f.type)||this.Ku(h.doc,f.doc)),this.Hu(r);const o=n?this.Ju():[],l=this.Uu.size===0&&this.current?1:0,u=l!==this.qu;return this.qu=l,s.length!==0||u?{snapshot:new ms(this.query,e.Gu,i,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new jv,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=ue(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new CE(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new SE(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=ue();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return ms.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class Rb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Mb{constructor(e){this.key=e,this.ec=!1}}class Fb{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Is(l=>M_(l),tc),this.ic=new Map,this.rc=new Set,this.oc=new Je(Q.comparator),this.uc=new Map,this.cc=new Vp,this.ac={},this.hc=new Map,this.lc=ps.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function jb(t,e){const n=Gb(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await ub(n.localStore,Qn(e));n.isPrimaryClient&&dE(n.remoteStore,o);const l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Ub(n,e,r,l==="current",o.resumeToken)}return i}async function Ub(t,e,n,r,i){t.dc=(g,y,S)=>async function(k,C,N,v){let m=C.view.zu(N);m.Mi&&(m=await $v(k.localStore,C.query,!1).then(({documents:O})=>C.view.zu(O,m)));const w=v&&v.targetChanges.get(C.targetId),x=C.view.applyChanges(m,k.isPrimaryClient,w);return Vv(k,C.targetId,x.Yu),x.snapshot}(t,g,y,S);const s=await $v(t.localStore,e,!0),o=new $b(e,s.Wi),l=o.zu(s.documents),u=fa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,u);Vv(t,n,h.Yu);const f=new Rb(e,n,o);return t.sc.set(e,f),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),h.snapshot}async function Vb(t,e){const n=ie(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!tc(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),fE(n.remoteStore,r.targetId),hf(n,r.targetId)}).catch(ha)):(hf(n,r.targetId),await cf(n.localStore,r.targetId,!0))}async function Bb(t,e,n){const r=Yb(t);try{const i=await function(s,o){const l=ie(s),u=Ye.now(),h=o.reduce((y,S)=>y.add(S.key),ue());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Gn(),k=ue();return l.Ki.getEntries(y,h).next(C=>{S=C,S.forEach((N,v)=>{v.isValidDocument()||(k=k.add(N))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,S)).next(C=>{f=C;const N=[];for(const v of o){const m=yD(v,f.get(v.key).overlayedDocument);m!=null&&N.push(new gi(v.key,m,D_(m.value.mapValue),Vn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,N,o)}).next(C=>{g=C;const N=C.applyToLocalDocumentSet(f,k);return l.documentOverlayCache.saveOverlays(y,C.batchId,N)})}).then(()=>({batchId:g.batchId,changes:U_(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.ac[s.currentUser.toKey()];u||(u=new Je(ge)),u=u.insert(o,l),s.ac[s.currentUser.toKey()]=u}(r,i.batchId,n),await ma(r,i.changes),await uc(r.remoteStore)}catch(i){const s=Qp(i,"Failed to persist write");n.reject(s)}}async function TE(t,e){const n=ie(t);try{const r=await ob(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Ae(o.ec):i.removedDocuments.size>0&&(Ae(o.ec),o.ec=!1))}),await ma(n,r,e)}catch(r){await ha(r)}}function Uv(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const l=o.view.Ru(e);l.snapshot&&i.push(l.snapshot)}),function(s,o){const l=ie(s);l.onlineState=o;let u=!1;l.queries.forEach((h,f)=>{for(const g of f.listeners)g.Ru(o)&&(u=!0)}),u&&Gp(l)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zb(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Je(Q.comparator);o=o.insert(s,yt.newNoDocument(s,re.min()));const l=ue().add(s),u=new oc(re.min(),new Map,new Xe(ge),o,l);await TE(r,u),r.oc=r.oc.remove(s),r.uc.delete(e),Yp(r)}else await cf(r.localStore,e,!1).then(()=>hf(r,e,n)).catch(ha)}async function Hb(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await sb(n.localStore,e);IE(n,r,null),kE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ma(n,i)}catch(i){await ha(i)}}async function Wb(t,e,n){const r=ie(t);try{const i=await function(s,o){const l=ie(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Ae(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);IE(r,e,n),kE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ma(r,i)}catch(i){await ha(i)}}function kE(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function IE(t,e,n){const r=ie(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function hf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||xE(t,r)})}function xE(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(fE(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Yp(t))}function Vv(t,e,n){for(const r of n)r instanceof SE?(t.cc.addReference(r.key,e),qb(t,r)):r instanceof CE?(W("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||xE(t,r.key)):J()}function qb(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(W("SyncEngine","New document in limbo: "+n),t.rc.add(r),Yp(t))}function Yp(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new Q(Pe.fromString(e)),r=t.lc.next();t.uc.set(r,new Mb(n)),t.oc=t.oc.insert(n,r),dE(t.remoteStore,new ti(Qn(Mp(n.path)),r,2,Lp.ct))}}async function ma(t,e,n){const r=ie(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((l,u)=>{o.push(r.dc(u,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const f=zp.Di(u.targetId,h);s.push(f)}}))}),await Promise.all(o),r.nc.zo(i),await async function(l,u){const h=ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>P.forEach(u,g=>P.forEach(g.Vi,y=>h.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>P.forEach(g.Si,y=>h.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!da(f))throw f;W("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const y=h.Li.get(g),S=y.snapshotVersion,k=y.withLastLimboFreeSnapshotVersion(S);h.Li=h.Li.insert(g,k)}}}(r.localStore,s))}async function Kb(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await lE(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(l=>{l.reject(new K(D.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ma(n,r.Qi)}}function Qb(t,e){const n=ie(t),r=n.uc.get(e);if(r&&r.ec)return ue().add(r.key);{let i=ue();const s=n.ic.get(e);if(!s)return i;for(const o of s){const l=n.sc.get(o);i=i.unionWith(l.view.Qu)}return i}}function Gb(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zb.bind(null,e),e.nc.zo=Lb.bind(null,e.eventManager),e.nc.wc=Ob.bind(null,e.eventManager),e}function Yb(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wb.bind(null,e),e}class Bv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ac(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ib(this.persistence,new nb,e.initialUser,this.serializer)}createPersistence(e){return new eb(Bp.Fs,this.serializer)}createSharedClientState(e){return new hb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Xb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kb.bind(null,this.syncEngine),await Db(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Pb}createDatastore(e){const n=ac(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new mb(i));var i;return function(s,o,l,u){return new vb(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=l=>Uv(this.syncEngine,l,0),o=Mv.D()?new Mv:new db,new _b(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,l,u,h){const f=new Fb(r,i,s,o,l,u);return h&&(f.fc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ie(e);W("RemoteStore","RemoteStore shutting down."),n.du.add(5),await pa(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=I_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{W("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mh(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eP(t);W("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Fv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Fv(e.remoteStore,s)),t._onlineComponents=e}function Zb(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function eP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Zb(n))throw n;pu("Error using user provided cache. Falling back to memory cache: "+n),await Mh(t,new Bv)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await Mh(t,new Bv);return t._offlineComponents}async function NE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await zv(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await zv(t,new Xb))),t._onlineComponents}function tP(t){return NE(t).then(e=>e.syncEngine)}async function DE(t){const e=await NE(t),n=e.eventManager;return n.onListen=jb.bind(null,e.syncEngine),n.onUnlisten=Vb.bind(null,e.syncEngine),n}function nP(t,e,n={}){const r=new Un;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,u){const h=new AE({next:g=>{s.enqueueAndForget(()=>_E(i,f));const y=g.docs.has(o);!y&&g.fromCache?u.reject(new K(D.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&l.source==="server"?u.reject(new K(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new EE(Mp(o.path),h,{includeMetadataChanges:!0,xu:!0});return wE(i,f)}(await DE(t),t.asyncQueue,e,n,r)),r.promise}function rP(t,e,n={}){const r=new Un;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,u){const h=new AE({next:g=>{s.enqueueAndForget(()=>_E(i,f)),g.fromCache&&l.source==="server"?u.reject(new K(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new EE(o,h,{includeMetadataChanges:!0,xu:!0});return wE(i,f)}(await DE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t,e,n){if(!n)throw new K(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iP(t,e,n,r){if(e===!0&&r===!0)throw new K(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Wv(t){if(!Q.isDocumentKey(t))throw new K(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qv(t){if(Q.isDocumentKey(t))throw new K(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(t);throw new K(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new K(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,iP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new IN;switch(n.type){case"firstParty":return new DN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new K(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Hv.get(e);n&&(W("ComponentProvider","Removing Datastore"),Hv.delete(e),n.terminate())}(this),Promise.resolve()}}function sP(t,e,n,r={}){var i;const s=(t=ci(t,cc))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&pu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=mt.MOCK_USER;else{o=lx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new K(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(u)}t._authCredentials=new xN(new k_(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class hc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class Sr extends hc{constructor(e,n,r){super(e,n,Mp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Q(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function oP(t,e,...n){if(t=kr(t),bE("collection","path",e),t instanceof cc){const r=Pe.fromString(e,...n);return qv(r),new Sr(t,null,r)}{if(!(t instanceof qt||t instanceof Sr))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return qv(r),new Sr(t.firestore,null,r)}}function Jp(t,e,...n){if(t=kr(t),arguments.length===1&&(e=I_.A()),bE("doc","path",e),t instanceof cc){const r=Pe.fromString(e,...n);return Wv(r),new qt(t,null,new Q(r))}{if(!(t instanceof qt||t instanceof Sr))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Wv(r),new qt(t.firestore,t instanceof Sr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new cE(this,"async_queue_retry"),this.qc=()=>{const n=Rh();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=Rh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=Rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new Un;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!da(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=Kp.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&J()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class dc extends cc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new aP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||PE(this),this._firestoreClient.terminate()}}function lP(t,e){const n=typeof t=="object"?t:dA(),r=typeof t=="string"?t:e||"(default)",i=lA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sx("firestore");s&&sP(i,...s)}return i}function Zp(t){return t._firestoreClient||PE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PE(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,u,h){return new zN(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Jb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(St.fromBase64String(e))}catch(n){throw new K(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gs(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^__.*__$/;class LE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class tm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return _u(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(OE(this.Yc)&&uP.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class cP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ac(e)}ua(e,n,r,i=!1){return new tm({Yc:e,methodName:n,oa:r,path:vt.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hP(t){const e=t._freezeSettings(),n=ac(t._databaseId);return new cP(t._databaseId,!!e.ignoreUndefinedProperties,n)}class mc extends pc{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mc}}class dP extends pc{constructor(e,n){super(e),this.aa=n}_toFieldTransform(e){const n=new Qo(e.serializer,W_(e.serializer,this.aa));return new fD(e.path,n)}isEqual(e){return this===e}}function fP(t,e,n,r){const i=t.ua(1,e,n);RE("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();mi(r,(u,h)=>{const f=nm(e,u,n);h=kr(h);const g=i.na(f);if(h instanceof mc)s.push(f);else{const y=gc(h,g);y!=null&&(s.push(f),o.set(f,y))}});const l=new pn(s);return new LE(o,l,i.fieldTransforms)}function pP(t,e,n,r,i,s){const o=t.ua(1,e,n),l=[Qv(e,r,n)],u=[i];if(s.length%2!=0)throw new K(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)l.push(Qv(e,s[y])),u.push(s[y+1]);const h=[],f=zt.empty();for(let y=l.length-1;y>=0;--y)if(!yP(h,l[y])){const S=l[y];let k=u[y];k=kr(k);const C=o.na(S);if(k instanceof mc)h.push(S);else{const N=gc(k,C);N!=null&&(h.push(S),f.set(S,N))}}const g=new pn(h);return new LE(f,g,o.fieldTransforms)}function gc(t,e){if($E(t=kr(t)))return RE("Unsupported field value:",e,t),mP(t,e);if(t instanceof pc)return function(n,r){if(!OE(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let l=gc(o,r.sa(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=kr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return W_(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ye.fromDate(n);return{timestampValue:vu(r.serializer,i)}}if(n instanceof Ye){const i=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vu(r.serializer,i)}}if(n instanceof em)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof gs)return{bytesValue:nE(r.serializer,n._byteString)};if(n instanceof qt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Up(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Xp(n)}`)}(t,e)}function mP(t,e){const n={};return x_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(t,(r,i)=>{const s=gc(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $E(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof em||t instanceof gs||t instanceof qt||t instanceof pc)}function RE(t,e,n){if(!$E(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Xp(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function Qv(t,e,n){if((e=kr(e))instanceof fc)return e._internalPath;if(typeof e=="string")return nm(t,e);throw _u("Field path arguments must be of type string or ",t,!1,void 0,n)}const gP=new RegExp("[~\\*/\\[\\]]");function nm(t,e,n){if(e.search(gP)>=0)throw _u(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fc(...e.split("."))._internalPath}catch{throw _u(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _u(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new K(D.INVALID_ARGUMENT,l+t+u)}function yP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vP extends ME{data(){return super.data()}}function FE(t,e){return typeof e=="string"?nm(t,e):e instanceof fc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _P{convertValue(e,n="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){const r={};return mi(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new em(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=N_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zo(e));default:return null}}convertTimestamp(e){const n=xr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Ae(aE(r));const i=new Ho(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jE extends ME{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xl extends jE{data(e={}){return super.data(e)}}class EP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new to(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xl(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const l=new xl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new to(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new xl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new to(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:SP(o.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){t=ci(t,qt);const e=ci(t.firestore,dc);return nP(Zp(e),t._key).then(n=>IP(e,t,n))}class UE extends _P{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function TP(t){t=ci(t,hc);const e=ci(t.firestore,dc),n=Zp(e),r=new UE(e);return wP(t._query),rP(n,t._query).then(i=>new EP(e,r,t,i))}function VE(t,e,n,...r){t=ci(t,qt);const i=ci(t.firestore,dc),s=hP(i);let o;return o=typeof(e=kr(e))=="string"||e instanceof fc?pP(s,"updateDoc",t._key,e,n,r):fP(s,"updateDoc",t._key,e),kP(i,[o.toMutation(t._key,Vn.exists(!0))])}function kP(t,e){return function(n,r){const i=new Un;return n.asyncQueue.enqueueAndForget(async()=>Bb(await tP(n),r,i)),i.promise}(Zp(t),e)}function IP(t,e,n){const r=n.docs.get(e._key),i=new UE(t);return new jE(t,i,e._key,r,new to(n.hasPendingWrites,n.fromCache),e.converter)}function xP(t){return new dP("increment",t)}(function(t,e=!0){(function(n){ks=n})(hA),su(new $o("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new dc(new AN(n.getProvider("auth-internal")),new PN(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(l.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Zi(gv,"3.10.0",t),Zi(gv,"3.10.0","esm2017")})();const AP={apiKey:"AIzaSyDRNNyJLYHVIWn-rtGEE9bvjOL5yYfEtYI",authDomain:"eshop-photos.firebaseapp.com",projectId:"eshop-photos",storageBucket:"eshop-photos.appspot.com",messagingSenderId:"982340193134",appId:"1:982340193134:web:759f300cfeee47dce88f7f"},NP=_1(AP),yc=lP(NP),DP=async()=>(await TP(oP(yc,"photos"))).docs.map(n=>{const r=n.id,i=n.data();return{id:r,...i}}),bP=async t=>{const e=Jp(yc,"photos",t),n=await CP(e);if(n.exists())return{id:n.id,...n.data()};throw new Error("Doc not found")},PP=async(t,e)=>{const n=Jp(yc,"photos",t);await VE(n,e)},Gv=async(t,e)=>{console.log(e);const n=Jp(yc,"photos",t);await VE(n,{qtyAdded:xP(e)})},LP="_ProductList_1gou9_1",OP={ProductList:LP},$P=({items:t,updated:e,setUpdated:n})=>at("section",{className:OP.ProductList,children:[G("h1",{children:"Gallery"}),G("div",{children:G(d1,{items:t,updated:e,setUpdated:n})})]}),RP=({updated:t,setUpdated:e})=>{var S,k,C;const{id:n}=cI(),[r,i]=$.useState({qtyAdded:0}),[s,o]=$.useState(null),[l,u]=$.useState(!1);$.useEffect(()=>{(async()=>{try{l&&u(!1);const v=await bP(n);o(v)}catch(v){console.log(v),u(!0)}})()},[n,t]);const h=async()=>{await Gv(n,-1),e(t+1)},f=async()=>{await Gv(n,1),e(t+1)},g=N=>{i({qtyAdded:N.target.value})},y=async N=>{N.preventDefault(),await PP(n,r),e(t+1)};return console.log("QUANTITY"),console.log(r),console.log(s),l===!1&&s?at("section",{className:"",children:[G("div",{children:G("img",{src:(s==null?void 0:s.image)??"No Image",alt:""})}),at("div",{children:[G("h2",{children:(s==null?void 0:s["photo-title"])??"No Title"}),at("form",{onSubmit:y,children:[G("button",{onClick:h,children:"-"}),G("input",{type:"number",name:"inputQty",id:"inputQty",onChange:g,required:!0}),G("button",{onClick:f,children:"+"}),G("input",{type:"submit",value:"Add to Cart"})]}),at("p",{children:["Location:"," ",`${(S=s==null?void 0:s.location)==null?void 0:S.suburb}, ${(k=s==null?void 0:s.location)==null?void 0:k.state}, ${(C=s==null?void 0:s.location)==null?void 0:C.country}`]})]})]}):G("h2",{children:"No Product Found"})};function MP(){const[t,e]=$.useState(null),[n,r]=$.useState(0);return $.useEffect(()=>{(async()=>{const s=await DP();e(s)})()},[n]),G("div",{className:"App",children:at(II,{children:[at("div",{className:"App_Top",children:[G(GI,{}),G(LI,{})]}),at(EI,{children:[G(Cl,{path:"/eShop",element:G(qI,{items:t,updated:n,setUpdated:r})}),G(Cl,{path:"/eShop/products",element:G($P,{items:t,updated:n,setUpdated:r})}),G(Cl,{path:"/eShop/products/:id",element:G(RP,{updated:n,setUpdated:r})})]})]})})}jh.createRoot(document.getElementById("root")).render(G(r0.StrictMode,{children:G(MP,{})}));
